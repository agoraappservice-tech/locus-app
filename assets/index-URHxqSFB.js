(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function eg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Ou={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Fy(){if(hm)return pl;hm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:d}}return pl.Fragment=n,pl.jsx=r,pl.jsxs=r,pl}var fm;function ep(){return fm||(fm=1,Ou.exports=Fy()),Ou.exports}var h=ep(),ku={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function tp(){if(mm)return oe;mm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),_=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,z={};function M(j,I,Q){this.props=j,this.context=I,this.refs=z,this.updater=Q||N}M.prototype.isReactComponent={},M.prototype.setState=function(j,I){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,I,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=M.prototype;function U(j,I,Q){this.props=j,this.context=I,this.refs=z,this.updater=Q||N}var V=U.prototype=new B;V.constructor=U,A(V,M.prototype),V.isPureReactComponent=!0;var Z=Array.isArray;function q(){}var C={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function J(j,I,Q){var F=Q.ref;return{$$typeof:l,type:j,key:I,ref:F!==void 0?F:null,props:Q}}function ie(j,I){return J(j.type,I,j.props)}function Se(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function ue(j){var I={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return I[Q]})}var at=/\/+/g;function we(j,I){return typeof j=="object"&&j!==null&&j.key!=null?ue(""+j.key):I.toString(36)}function dt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(q,q):(j.status="pending",j.then(function(I){j.status==="pending"&&(j.status="fulfilled",j.value=I)},function(I){j.status==="pending"&&(j.status="rejected",j.reason=I)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function H(j,I,Q,F,ce){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(me){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case l:case n:Ne=!0;break;case b:return Ne=j._init,H(Ne(j._payload),I,Q,F,ce)}}if(Ne)return ce=ce(j),Ne=F===""?"."+we(j,0):F,Z(ce)?(Q="",Ne!=null&&(Q=Ne.replace(at,"$&/")+"/"),H(ce,I,Q,"",function(js){return js})):ce!=null&&(Se(ce)&&(ce=ie(ce,Q+(ce.key==null||j&&j.key===ce.key?"":(""+ce.key).replace(at,"$&/")+"/")+Ne)),I.push(ce)),1;Ne=0;var ft=F===""?".":F+":";if(Z(j))for(var Ye=0;Ye<j.length;Ye++)F=j[Ye],me=ft+we(F,Ye),Ne+=H(F,I,Q,me,ce);else if(Ye=E(j),typeof Ye=="function")for(j=Ye.call(j),Ye=0;!(F=j.next()).done;)F=F.value,me=ft+we(F,Ye++),Ne+=H(F,I,Q,me,ce);else if(me==="object"){if(typeof j.then=="function")return H(dt(j),I,Q,F,ce);throw I=String(j),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function X(j,I,Q){if(j==null)return j;var F=[],ce=0;return H(j,F,"","",function(me){return I.call(Q,me,ce++)}),F}function re(j){if(j._status===-1){var I=j._result;I=I(),I.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=I)}if(j._status===1)return j._result.default;throw j._result}var Oe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},De={map:X,forEach:function(j,I,Q){X(j,function(){I.apply(this,arguments)},Q)},count:function(j){var I=0;return X(j,function(){I++}),I},toArray:function(j){return X(j,function(I){return I})||[]},only:function(j){if(!Se(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return oe.Activity=w,oe.Children=De,oe.Component=M,oe.Fragment=r,oe.Profiler=c,oe.PureComponent=U,oe.StrictMode=i,oe.Suspense=y,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,oe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},oe.cache=function(j){return function(){return j.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(j,I,Q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var F=A({},j.props),ce=j.key;if(I!=null)for(me in I.key!==void 0&&(ce=""+I.key),I)!L.call(I,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&I.ref===void 0||(F[me]=I[me]);var me=arguments.length-2;if(me===1)F.children=Q;else if(1<me){for(var Ne=Array(me),ft=0;ft<me;ft++)Ne[ft]=arguments[ft+2];F.children=Ne}return J(j.type,ce,F)},oe.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},oe.createElement=function(j,I,Q){var F,ce={},me=null;if(I!=null)for(F in I.key!==void 0&&(me=""+I.key),I)L.call(I,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ce[F]=I[F]);var Ne=arguments.length-2;if(Ne===1)ce.children=Q;else if(1<Ne){for(var ft=Array(Ne),Ye=0;Ye<Ne;Ye++)ft[Ye]=arguments[Ye+2];ce.children=ft}if(j&&j.defaultProps)for(F in Ne=j.defaultProps,Ne)ce[F]===void 0&&(ce[F]=Ne[F]);return J(j,me,ce)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(j){return{$$typeof:g,render:j}},oe.isValidElement=Se,oe.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:re}},oe.memo=function(j,I){return{$$typeof:p,type:j,compare:I===void 0?null:I}},oe.startTransition=function(j){var I=C.T,Q={};C.T=Q;try{var F=j(),ce=C.S;ce!==null&&ce(Q,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(q,Oe)}catch(me){Oe(me)}finally{I!==null&&Q.types!==null&&(I.types=Q.types),C.T=I}},oe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},oe.use=function(j){return C.H.use(j)},oe.useActionState=function(j,I,Q){return C.H.useActionState(j,I,Q)},oe.useCallback=function(j,I){return C.H.useCallback(j,I)},oe.useContext=function(j){return C.H.useContext(j)},oe.useDebugValue=function(){},oe.useDeferredValue=function(j,I){return C.H.useDeferredValue(j,I)},oe.useEffect=function(j,I){return C.H.useEffect(j,I)},oe.useEffectEvent=function(j){return C.H.useEffectEvent(j)},oe.useId=function(){return C.H.useId()},oe.useImperativeHandle=function(j,I,Q){return C.H.useImperativeHandle(j,I,Q)},oe.useInsertionEffect=function(j,I){return C.H.useInsertionEffect(j,I)},oe.useLayoutEffect=function(j,I){return C.H.useLayoutEffect(j,I)},oe.useMemo=function(j,I){return C.H.useMemo(j,I)},oe.useOptimistic=function(j,I){return C.H.useOptimistic(j,I)},oe.useReducer=function(j,I,Q){return C.H.useReducer(j,I,Q)},oe.useRef=function(j){return C.H.useRef(j)},oe.useState=function(j){return C.H.useState(j)},oe.useSyncExternalStore=function(j,I,Q){return C.H.useSyncExternalStore(j,I,Q)},oe.useTransition=function(){return C.H.useTransition()},oe.version="19.2.3",oe}var gm;function ac(){return gm||(gm=1,ku.exports=tp()),ku.exports}var K=ac();const ap=eg(K);var Cu={exports:{}},vl={},Ru={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function np(){return ym||(ym=1,(function(l){function n(H,X){var re=H.length;H.push(X);e:for(;0<re;){var Oe=re-1>>>1,De=H[Oe];if(0<c(De,X))H[Oe]=X,H[re]=De,re=Oe;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],re=H.pop();if(re!==X){H[0]=re;e:for(var Oe=0,De=H.length,j=De>>>1;Oe<j;){var I=2*(Oe+1)-1,Q=H[I],F=I+1,ce=H[F];if(0>c(Q,re))F<De&&0>c(ce,Q)?(H[Oe]=ce,H[F]=re,Oe=F):(H[Oe]=Q,H[I]=re,Oe=I);else if(F<De&&0>c(ce,re))H[Oe]=ce,H[F]=re,Oe=F;else break e}}return X}function c(H,X){var re=H.sortIndex-X.sortIndex;return re!==0?re:H.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var y=[],p=[],b=1,w=null,_=3,E=!1,N=!1,A=!1,z=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(H){for(var X=r(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=H)i(p),X.sortIndex=X.expirationTime,n(y,X);else break;X=r(p)}}function Z(H){if(A=!1,V(H),!N)if(r(y)!==null)N=!0,q||(q=!0,ue());else{var X=r(p);X!==null&&dt(Z,X.startTime-H)}}var q=!1,C=-1,L=5,J=-1;function ie(){return z?!0:!(l.unstable_now()-J<L)}function Se(){if(z=!1,q){var H=l.unstable_now();J=H;var X=!0;try{e:{N=!1,A&&(A=!1,B(C),C=-1),E=!0;var re=_;try{t:{for(V(H),w=r(y);w!==null&&!(w.expirationTime>H&&ie());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,_=w.priorityLevel;var De=Oe(w.expirationTime<=H);if(H=l.unstable_now(),typeof De=="function"){w.callback=De,V(H),X=!0;break t}w===r(y)&&i(y),V(H)}else i(y);w=r(y)}if(w!==null)X=!0;else{var j=r(p);j!==null&&dt(Z,j.startTime-H),X=!1}}break e}finally{w=null,_=re,E=!1}X=void 0}}finally{X?ue():q=!1}}}var ue;if(typeof U=="function")ue=function(){U(Se)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,we=at.port2;at.port1.onmessage=Se,ue=function(){we.postMessage(null)}}else ue=function(){M(Se,0)};function dt(H,X){C=M(function(){H(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(H){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var re=_;_=X;try{return H()}finally{_=re}},l.unstable_requestPaint=function(){z=!0},l.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=_;_=H;try{return X()}finally{_=re}},l.unstable_scheduleCallback=function(H,X,re){var Oe=l.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Oe+re:Oe):re=Oe,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=re+De,H={id:b++,callback:X,priorityLevel:H,startTime:re,expirationTime:De,sortIndex:-1},re>Oe?(H.sortIndex=re,n(p,H),r(y)===null&&H===r(p)&&(A?(B(C),C=-1):A=!0,dt(Z,re-Oe))):(H.sortIndex=De,n(y,H),N||E||(N=!0,q||(q=!0,ue()))),H},l.unstable_shouldYield=ie,l.unstable_wrapCallback=function(H){var X=_;return function(){var re=_;_=X;try{return H.apply(this,arguments)}finally{_=re}}}})(Uu)),Uu}var pm;function sp(){return pm||(pm=1,Ru.exports=np()),Ru.exports}var Du={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function lp(){if(vm)return ht;vm=1;var l=ac();function n(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:p,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ht.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(y,p,null,b)},ht.flushSync=function(y){var p=f.T,b=i.p;try{if(f.T=null,i.p=2,y)return y()}finally{f.T=p,i.p=b,i.d.f()}},ht.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(y,p))},ht.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},ht.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,w=g(b,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:_,fetchPriority:E}):b==="script"&&i.d.X(y,{crossOrigin:w,integrity:_,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(y)},ht.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=g(b,p.crossOrigin);i.d.L(y,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=g(p.as,p.crossOrigin);i.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(y)},ht.requestFormReset=function(y){i.d.r(y)},ht.unstable_batchedUpdates=function(y,p){return y(p)},ht.useFormState=function(y,p,b){return f.H.useFormState(y,p,b)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.3",ht}var bm;function rp(){if(bm)return Du.exports;bm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Du.exports=lp(),Du.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function ip(){if(wm)return vl;wm=1;var l=sp(),n=ac(),r=rp();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return y(o),e;if(u===s)return y(o),t;u=u.sibling}throw Error(i(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,s=u;break}if(v===s){m=!0,s=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,s=o;break}if(v===s){m=!0,s=u,a=o;break}v=v.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==s)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case M:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case q:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case U:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var dt=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Oe=[],De=-1;function j(e){return{current:e}}function I(e){0>De||(e.current=Oe[De],Oe[De]=null,De--)}function Q(e,t){De++,Oe[De]=e.current,e.current=t}var F=j(null),ce=j(null),me=j(null),Ne=j(null);function ft(e,t){switch(Q(me,t),Q(ce,e),Q(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zf(t),e=Mf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(F),Q(F,e)}function Ye(){I(F),I(ce),I(me)}function js(e){e.memoizedState!==null&&Q(Ne,e);var t=F.current,a=Mf(t,e.type);t!==a&&(Q(ce,e),Q(F,a))}function Rl(e){ce.current===e&&(I(F),I(ce)),Ne.current===e&&(I(Ne),fl._currentValue=re)}var ci,cc;function Fa(e){if(ci===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ci=t&&t[1]||"",cc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ci+e+cc}var di=!1;function hi(e,t){if(!e||di)return"";di=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(D){var R=D}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(D){R=D}e.call(Y.prototype)}}else{try{throw Error()}catch(D){R=D}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var x=m.split(`
`),k=v.split(`
`);for(o=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(s===x.length||o===k.length)for(s=x.length-1,o=k.length-1;1<=s&&0<=o&&x[s]!==k[o];)o--;for(;1<=s&&0<=o;s--,o--)if(x[s]!==k[o]){if(s!==1||o!==1)do if(s--,o--,0>o||x[s]!==k[o]){var $=`
`+x[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=o);break}}}finally{di=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Fa(a):""}function kg(e,t){switch(e.tag){case 26:case 27:case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return e.child!==t&&t!==null?Fa("Suspense Fallback"):Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 15:return hi(e.type,!1);case 11:return hi(e.type.render,!1);case 1:return hi(e.type,!0);case 31:return Fa("Activity");default:return""}}function dc(e){try{var t="",a=null;do t+=kg(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var fi=Object.prototype.hasOwnProperty,mi=l.unstable_scheduleCallback,gi=l.unstable_cancelCallback,Cg=l.unstable_shouldYield,Rg=l.unstable_requestPaint,_t=l.unstable_now,Ug=l.unstable_getCurrentPriorityLevel,hc=l.unstable_ImmediatePriority,fc=l.unstable_UserBlockingPriority,Ul=l.unstable_NormalPriority,Dg=l.unstable_LowPriority,mc=l.unstable_IdlePriority,zg=l.log,Mg=l.unstable_setDisableYieldValue,Es=null,St=null;function Ea(e){if(typeof zg=="function"&&Mg(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Es,e)}catch{}}var jt=Math.clz32?Math.clz32:Bg,qg=Math.log,Lg=Math.LN2;function Bg(e){return e>>>=0,e===0?32:31-(qg(e)/Lg|0)|0}var Dl=256,zl=262144,Ml=4194304;function en(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ql(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=en(s):(m&=v,m!==0?o=en(m):a||(a=v&~e,a!==0&&(o=en(a))))):(v=s&~u,v!==0?o=en(v):m!==0?o=en(m):a||(a=s&~e,a!==0&&(o=en(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ns(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $g(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var e=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),e}function yi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ts(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hg(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,k=e.hiddenUpdates;for(a=m&~a;0<a;){var $=31-jt(a),Y=1<<$;v[$]=0,x[$]=-1;var R=k[$];if(R!==null)for(k[$]=null,$=0;$<R.length;$++){var D=R[$];D!==null&&(D.lane&=-536870913)}a&=~Y}s!==0&&yc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function yc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-jt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function pc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-jt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function vc(e,t){var a=t&-t;return a=(a&42)!==0?1:pi(a),(a&(e.suspendedLanes|t))!==0?0:a}function pi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bc(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:lm(e.type))}function wc(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Na=Math.random().toString(36).slice(2),nt="__reactFiber$"+Na,gt="__reactProps$"+Na,An="__reactContainer$"+Na,bi="__reactEvents$"+Na,Gg="__reactListeners$"+Na,Vg="__reactHandles$"+Na,xc="__reactResources$"+Na,As="__reactMarker$"+Na;function wi(e){delete e[nt],delete e[gt],delete e[bi],delete e[Gg],delete e[Vg]}function On(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[An]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vf(e);e!==null;){if(a=e[nt])return a;e=Vf(e)}return t}e=a,a=e.parentNode}return null}function kn(e){if(e=e[nt]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Cn(e){var t=e[xc];return t||(t=e[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[As]=!0}var _c=new Set,Sc={};function tn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(Sc[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var Yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jc={},Ec={};function Kg(e){return fi.call(Ec,e)?!0:fi.call(jc,e)?!1:Yg.test(e)?Ec[e]=!0:(jc[e]=!0,!1)}function Ll(e,t,a){if(Kg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Bl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function sa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ig(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xi(e){if(!e._valueTracker){var t=Nc(e)?"checked":"value";e._valueTracker=Ig(e,t,""+e[t])}}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Nc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jg=/[\n"\\]/g;function Mt(e){return e.replace(Jg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _i(e,t,a,s,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Si(e,m,zt(t)):a!=null?Si(e,m,zt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+zt(v):e.removeAttribute("name")}function Ac(e,t,a,s,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){xi(e);return}a=a!=null?""+zt(a):"",t=t!=null?""+zt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),xi(e)}function Si(e,t,a){t==="number"&&$l(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Un(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Oc(e,t,a){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+zt(a):""}function kc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(i(92));if(dt(s)){if(1<s.length)throw Error(i(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=zt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),xi(e)}function Dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Xg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Rc(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Cc(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&Cc(e,u,t[u])}function ji(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(e){return Zg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function la(){}var Ei=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zn=null,Mn=null;function Uc(e){var t=kn(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_i(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[gt]||null;if(!o)throw Error(i(90));_i(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Tc(s)}break e;case"textarea":Oc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Un(e,!!a.multiple,t,!1)}}}var Ti=!1;function Dc(e,t,a){if(Ti)return e(t,a);Ti=!0;try{var s=e(t);return s}finally{if(Ti=!1,(zn!==null||Mn!==null)&&(Ar(),zn&&(t=zn,e=Mn,Mn=zn=null,Uc(t),e)))for(t=0;t<e.length;t++)Uc(e[t])}}function ks(e,t){var a=e.stateNode;if(a===null)return null;var s=a[gt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(ra)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Ai=!1}var Ta=null,Oi=null,Gl=null;function zc(){if(Gl)return Gl;var e,t=Oi,a=t.length,s,o="value"in Ta?Ta.value:Ta.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return Gl=o.slice(e,1<s?1-s:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Mc(){return!1}function yt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Yl:Mc,this.isPropagationStopped=Mc,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=yt(an),Rs=w({},an,{view:0,detail:0}),Pg=yt(Rs),ki,Ci,Us,Il=w({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(ki=e.screenX-Us.screenX,Ci=e.screenY-Us.screenY):Ci=ki=0,Us=e),ki)},movementY:function(e){return"movementY"in e?e.movementY:Ci}}),qc=yt(Il),Wg=w({},Il,{dataTransfer:0}),Fg=yt(Wg),e0=w({},Rs,{relatedTarget:0}),Ri=yt(e0),t0=w({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=yt(t0),n0=w({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s0=yt(n0),l0=w({},an,{data:0}),Lc=yt(l0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o0[e])?!!t[e]:!1}function Ui(){return u0}var c0=w({},Rs,{key:function(e){if(e.key){var t=r0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d0=yt(c0),h0=w({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=yt(h0),f0=w({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),m0=yt(f0),g0=w({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=yt(g0),p0=w({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=yt(p0),b0=w({},an,{newState:0,oldState:0}),w0=yt(b0),x0=[9,13,27,32],Di=ra&&"CompositionEvent"in window,Ds=null;ra&&"documentMode"in document&&(Ds=document.documentMode);var _0=ra&&"TextEvent"in window&&!Ds,$c=ra&&(!Di||Ds&&8<Ds&&11>=Ds),Hc=" ",Gc=!1;function Vc(e,t){switch(e){case"keyup":return x0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function S0(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(Gc=!0,Hc);case"textInput":return e=t.data,e===Hc&&Gc?null:e;default:return null}}function j0(e,t){if(qn)return e==="compositionend"||!Di&&Vc(e,t)?(e=zc(),Gl=Oi=Ta=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function Ic(e,t,a,s){zn?Mn?Mn.push(s):Mn=[s]:zn=s,t=zr(t,"onChange"),0<t.length&&(a=new Kl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var zs=null,Ms=null;function N0(e){Of(e,0)}function Jl(e){var t=Os(e);if(Tc(t))return e}function Jc(e,t){if(e==="change")return t}var Xc=!1;if(ra){var zi;if(ra){var Mi="oninput"in document;if(!Mi){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Mi=typeof Qc.oninput=="function"}zi=Mi}else zi=!1;Xc=zi&&(!document.documentMode||9<document.documentMode)}function Zc(){zs&&(zs.detachEvent("onpropertychange",Pc),Ms=zs=null)}function Pc(e){if(e.propertyName==="value"&&Jl(Ms)){var t=[];Ic(t,Ms,e,Ni(e)),Dc(N0,t)}}function T0(e,t,a){e==="focusin"?(Zc(),zs=t,Ms=a,zs.attachEvent("onpropertychange",Pc)):e==="focusout"&&Zc()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(Ms)}function O0(e,t){if(e==="click")return Jl(t)}function k0(e,t){if(e==="input"||e==="change")return Jl(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:C0;function qs(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!fi.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var a=Wc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wc(a)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$l(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$l(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var R0=ra&&"documentMode"in document&&11>=document.documentMode,Ln=null,Li=null,Ls=null,Bi=!1;function ad(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bi||Ln==null||Ln!==$l(s)||(s=Ln,"selectionStart"in s&&qi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ls&&qs(Ls,s)||(Ls=s,s=zr(Li,"onSelect"),0<s.length&&(t=new Kl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Ln)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Bn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},$i={},nd={};ra&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function sn(e){if($i[e])return $i[e];if(!Bn[e])return e;var t=Bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nd)return $i[e]=t[a];return e}var sd=sn("animationend"),ld=sn("animationiteration"),rd=sn("animationstart"),U0=sn("transitionrun"),D0=sn("transitionstart"),z0=sn("transitioncancel"),id=sn("transitionend"),od=new Map,Hi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hi.push("scrollEnd");function Jt(e,t){od.set(e,t),tn(t,[e])}var Xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],$n=0,Gi=0;function Ql(){for(var e=$n,t=Gi=$n=0;t<e;){var a=qt[t];qt[t++]=null;var s=qt[t];qt[t++]=null;var o=qt[t];qt[t++]=null;var u=qt[t];if(qt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&ud(a,o,u)}}function Zl(e,t,a,s){qt[$n++]=e,qt[$n++]=t,qt[$n++]=a,qt[$n++]=s,Gi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Vi(e,t,a,s){return Zl(e,t,a,s),Pl(e)}function ln(e,t){return Zl(e,null,null,t),Pl(e)}function ud(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-jt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function Pl(e){if(50<rl)throw rl=0,Fo=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hn={};function M0(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,s){return new M0(e,t,a,s)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wl(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")Yi(e)&&(m=1);else if(typeof e=="string")m=Hy(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Nt(31,a,t,o),e.elementType=J,e.lanes=u,e;case A:return rn(a.children,o,u,t);case z:m=8,o|=24;break;case M:return e=Nt(12,a,t,o|2),e.elementType=M,e.lanes=u,e;case Z:return e=Nt(13,a,t,o),e.elementType=Z,e.lanes=u,e;case q:return e=Nt(19,a,t,o),e.elementType=q,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:m=10;break e;case B:m=9;break e;case V:m=11;break e;case C:m=14;break e;case L:m=16,s=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=Nt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function rn(e,t,a,s){return e=Nt(7,e,s,t),e.lanes=a,e}function Ki(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function dd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Ii(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hd=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=hd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:dc(t)},hd.set(e,t),t)}return{value:e,source:t,stack:dc(t)}}var Gn=[],Vn=0,Fl=null,Bs=0,Bt=[],$t=0,Aa=null,Ft=1,ea="";function oa(e,t){Gn[Vn++]=Bs,Gn[Vn++]=Fl,Fl=e,Bs=t}function fd(e,t,a){Bt[$t++]=Ft,Bt[$t++]=ea,Bt[$t++]=Aa,Aa=e;var s=Ft;e=ea;var o=32-jt(s)-1;s&=~(1<<o),a+=1;var u=32-jt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Ft=1<<32-jt(t)+o|a<<o|s,ea=u+e}else Ft=1<<u|a<<o|s,ea=e}function Ji(e){e.return!==null&&(oa(e,1),fd(e,1,0))}function Xi(e){for(;e===Fl;)Fl=Gn[--Vn],Gn[Vn]=null,Bs=Gn[--Vn],Gn[Vn]=null;for(;e===Aa;)Aa=Bt[--$t],Bt[$t]=null,ea=Bt[--$t],Bt[$t]=null,Ft=Bt[--$t],Bt[$t]=null}function md(e,t){Bt[$t++]=Ft,Bt[$t++]=ea,Bt[$t++]=Aa,Ft=t.id,ea=t.overflow,Aa=e}var st=null,qe=null,be=!1,Oa=null,Ht=!1,Qi=Error(i(519));function ka(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $s(Lt(t,e)),Qi}function gd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[nt]=e,t[gt]=s,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<ol.length;a++)ye(ol[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),Ac(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),kc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Uf(t.textContent,a)?(s.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),s.onScroll!=null&&ye("scroll",t),s.onScrollEnd!=null&&ye("scrollend",t),s.onClick!=null&&(t.onclick=la),t=!0):t=!1,t||ka(e,!0)}function yd(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:st=st.return}}function Yn(e){if(e!==st)return!1;if(!be)return yd(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||mu(e.type,e.memoizedProps)),a=!a),a&&qe&&ka(e),yd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));qe=Gf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));qe=Gf(e)}else t===27?(t=qe,Ya(e.type)?(e=bu,bu=null,qe=e):qe=t):qe=st?Vt(e.stateNode.nextSibling):null;return!0}function on(){qe=st=null,be=!1}function Zi(){var e=Oa;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Oa=null),e}function $s(e){Oa===null?Oa=[e]:Oa.push(e)}var Pi=j(null),un=null,ua=null;function Ca(e,t,a){Q(Pi,t._currentValue),t._currentValue=a}function ca(e){e._currentValue=Pi.current,I(Pi)}function Wi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Fi(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var x=0;x<t.length;x++)if(v.context===t[x]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Wi(u.return,a,e),s||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(i(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Wi(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Kn(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var v=o.type;Et(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===Ne.current){if(m=o.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}o=o.return}e!==null&&Fi(t,e,a,s),t.flags|=262144}function er(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cn(e){un=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return pd(un,e)}function tr(e,t){return un===null&&cn(e),pd(e,t)}function pd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(i(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var q0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},L0=l.unstable_scheduleCallback,B0=l.unstable_NormalPriority,Je={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new q0,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&L0(B0,function(){e.controller.abort()})}var Gs=null,to=0,In=0,Jn=null;function $0(e,t){if(Gs===null){var a=Gs=[];to=0,In=lu(),Jn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return to++,t.then(vd,vd),t}function vd(){if(--to===0&&Gs!==null){Jn!==null&&(Jn.status="fulfilled");var e=Gs;Gs=null,In=0,Jn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function H0(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var bd=H.S;H.S=function(e,t){af=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$0(e,t),bd!==null&&bd(e,t)};var dn=j(null);function ao(){var e=dn.current;return e!==null?e:ze.pooledCache}function ar(e,t){t===null?Q(dn,dn.current):Q(dn,t.pool)}function wd(){var e=ao();return e===null?null:{parent:Je._currentValue,pool:e}}var Xn=Error(i(460)),no=Error(i(474)),nr=Error(i(542)),sr={then:function(){}};function xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _d(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(la,la),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(la,la);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw fn=t,Xn}}function hn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fn=a,Xn):a}}var fn=null;function Sd(){if(fn===null)throw Error(i(459));var e=fn;return fn=null,e}function jd(e){if(e===Xn||e===nr)throw Error(i(483))}var Qn=null,Vs=0;function lr(e){var t=Vs;return Vs+=1,Qn===null&&(Qn=[]),_d(Qn,e,t)}function Ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rr(e,t){throw t.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ed(e){function t(T,S){if(e){var O=T.deletions;O===null?(T.deletions=[S],T.flags|=16):O.push(S)}}function a(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function s(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function o(T,S){return T=ia(T,S),T.index=0,T.sibling=null,T}function u(T,S,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<S?(T.flags|=67108866,S):O):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,S,O,G){return S===null||S.tag!==6?(S=Ki(O,T.mode,G),S.return=T,S):(S=o(S,O),S.return=T,S)}function x(T,S,O,G){var ae=O.type;return ae===A?$(T,S,O.props.children,G,O.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===L&&hn(ae)===S.type)?(S=o(S,O.props),Ys(S,O),S.return=T,S):(S=Wl(O.type,O.key,O.props,null,T.mode,G),Ys(S,O),S.return=T,S)}function k(T,S,O,G){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Ii(O,T.mode,G),S.return=T,S):(S=o(S,O.children||[]),S.return=T,S)}function $(T,S,O,G,ae){return S===null||S.tag!==7?(S=rn(O,T.mode,G,ae),S.return=T,S):(S=o(S,O),S.return=T,S)}function Y(T,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Ki(""+S,T.mode,O),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case E:return O=Wl(S.type,S.key,S.props,null,T.mode,O),Ys(O,S),O.return=T,O;case N:return S=Ii(S,T.mode,O),S.return=T,S;case L:return S=hn(S),Y(T,S,O)}if(dt(S)||ue(S))return S=rn(S,T.mode,O,null),S.return=T,S;if(typeof S.then=="function")return Y(T,lr(S),O);if(S.$$typeof===U)return Y(T,tr(T,S),O);rr(T,S)}return null}function R(T,S,O,G){var ae=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ae!==null?null:v(T,S,""+O,G);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===ae?x(T,S,O,G):null;case N:return O.key===ae?k(T,S,O,G):null;case L:return O=hn(O),R(T,S,O,G)}if(dt(O)||ue(O))return ae!==null?null:$(T,S,O,G,null);if(typeof O.then=="function")return R(T,S,lr(O),G);if(O.$$typeof===U)return R(T,S,tr(T,O),G);rr(T,O)}return null}function D(T,S,O,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return T=T.get(O)||null,v(S,T,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return T=T.get(G.key===null?O:G.key)||null,x(S,T,G,ae);case N:return T=T.get(G.key===null?O:G.key)||null,k(S,T,G,ae);case L:return G=hn(G),D(T,S,O,G,ae)}if(dt(G)||ue(G))return T=T.get(O)||null,$(S,T,G,ae,null);if(typeof G.then=="function")return D(T,S,O,lr(G),ae);if(G.$$typeof===U)return D(T,S,O,tr(S,G),ae);rr(S,G)}return null}function W(T,S,O,G){for(var ae=null,xe=null,ee=S,he=S=0,ve=null;ee!==null&&he<O.length;he++){ee.index>he?(ve=ee,ee=null):ve=ee.sibling;var _e=R(T,ee,O[he],G);if(_e===null){ee===null&&(ee=ve);break}e&&ee&&_e.alternate===null&&t(T,ee),S=u(_e,S,he),xe===null?ae=_e:xe.sibling=_e,xe=_e,ee=ve}if(he===O.length)return a(T,ee),be&&oa(T,he),ae;if(ee===null){for(;he<O.length;he++)ee=Y(T,O[he],G),ee!==null&&(S=u(ee,S,he),xe===null?ae=ee:xe.sibling=ee,xe=ee);return be&&oa(T,he),ae}for(ee=s(ee);he<O.length;he++)ve=D(ee,T,he,O[he],G),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?he:ve.key),S=u(ve,S,he),xe===null?ae=ve:xe.sibling=ve,xe=ve);return e&&ee.forEach(function(Qa){return t(T,Qa)}),be&&oa(T,he),ae}function ne(T,S,O,G){if(O==null)throw Error(i(151));for(var ae=null,xe=null,ee=S,he=S=0,ve=null,_e=O.next();ee!==null&&!_e.done;he++,_e=O.next()){ee.index>he?(ve=ee,ee=null):ve=ee.sibling;var Qa=R(T,ee,_e.value,G);if(Qa===null){ee===null&&(ee=ve);break}e&&ee&&Qa.alternate===null&&t(T,ee),S=u(Qa,S,he),xe===null?ae=Qa:xe.sibling=Qa,xe=Qa,ee=ve}if(_e.done)return a(T,ee),be&&oa(T,he),ae;if(ee===null){for(;!_e.done;he++,_e=O.next())_e=Y(T,_e.value,G),_e!==null&&(S=u(_e,S,he),xe===null?ae=_e:xe.sibling=_e,xe=_e);return be&&oa(T,he),ae}for(ee=s(ee);!_e.done;he++,_e=O.next())_e=D(ee,T,he,_e.value,G),_e!==null&&(e&&_e.alternate!==null&&ee.delete(_e.key===null?he:_e.key),S=u(_e,S,he),xe===null?ae=_e:xe.sibling=_e,xe=_e);return e&&ee.forEach(function(Wy){return t(T,Wy)}),be&&oa(T,he),ae}function Re(T,S,O,G){if(typeof O=="object"&&O!==null&&O.type===A&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var ae=O.key;S!==null;){if(S.key===ae){if(ae=O.type,ae===A){if(S.tag===7){a(T,S.sibling),G=o(S,O.props.children),G.return=T,T=G;break e}}else if(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===L&&hn(ae)===S.type){a(T,S.sibling),G=o(S,O.props),Ys(G,O),G.return=T,T=G;break e}a(T,S);break}else t(T,S);S=S.sibling}O.type===A?(G=rn(O.props.children,T.mode,G,O.key),G.return=T,T=G):(G=Wl(O.type,O.key,O.props,null,T.mode,G),Ys(G,O),G.return=T,T=G)}return m(T);case N:e:{for(ae=O.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){a(T,S.sibling),G=o(S,O.children||[]),G.return=T,T=G;break e}else{a(T,S);break}else t(T,S);S=S.sibling}G=Ii(O,T.mode,G),G.return=T,T=G}return m(T);case L:return O=hn(O),Re(T,S,O,G)}if(dt(O))return W(T,S,O,G);if(ue(O)){if(ae=ue(O),typeof ae!="function")throw Error(i(150));return O=ae.call(O),ne(T,S,O,G)}if(typeof O.then=="function")return Re(T,S,lr(O),G);if(O.$$typeof===U)return Re(T,S,tr(T,O),G);rr(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(a(T,S.sibling),G=o(S,O),G.return=T,T=G):(a(T,S),G=Ki(O,T.mode,G),G.return=T,T=G),m(T)):a(T,S)}return function(T,S,O,G){try{Vs=0;var ae=Re(T,S,O,G);return Qn=null,ae}catch(ee){if(ee===Xn||ee===nr)throw ee;var xe=Nt(29,ee,null,T.mode);return xe.lanes=G,xe.return=T,xe}finally{}}}var mn=Ed(!0),Nd=Ed(!1),Ra=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Pl(e),ud(e,null,a),t}return Zl(e,s,t,a),Pl(e)}function Ks(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,pc(e,a)}}function ro(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var io=!1;function Is(){if(io){var e=Jn;if(e!==null)throw e}}function Js(e,t,a,s){io=!1;var o=e.updateQueue;Ra=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var x=v,k=x.next;x.next=null,m===null?u=k:m.next=k,m=x;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==m&&(v===null?$.firstBaseUpdate=k:v.next=k,$.lastBaseUpdate=x))}if(u!==null){var Y=o.baseState;m=0,$=k=x=null,v=u;do{var R=v.lane&-536870913,D=R!==v.lane;if(D?(pe&R)===R:(s&R)===R){R!==0&&R===In&&(io=!0),$!==null&&($=$.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var W=e,ne=v;R=t;var Re=a;switch(ne.tag){case 1:if(W=ne.payload,typeof W=="function"){Y=W.call(Re,Y,R);break e}Y=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ne.payload,R=typeof W=="function"?W.call(Re,Y,R):W,R==null)break e;Y=w({},Y,R);break e;case 2:Ra=!0}}R=v.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(k=$=D,x=Y):$=$.next=D,m|=R;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;D=v,v=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);$===null&&(x=Y),o.baseState=x,o.firstBaseUpdate=k,o.lastBaseUpdate=$,u===null&&(o.shared.lanes=0),Ba|=m,e.lanes=m,e.memoizedState=Y}}function Td(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ad(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Td(a[e],t)}var Zn=j(null),ir=j(0);function Od(e,t){e=ba,Q(ir,e),Q(Zn,t),ba=e|t.baseLanes}function oo(){Q(ir,ba),Q(Zn,Zn.current)}function uo(){ba=ir.current,I(Zn),I(ir)}var Tt=j(null),Gt=null;function za(e){var t=e.alternate;Q(Ke,Ke.current&1),Q(Tt,e),Gt===null&&(t===null||Zn.current!==null||t.memoizedState!==null)&&(Gt=e)}function co(e){Q(Ke,Ke.current),Q(Tt,e),Gt===null&&(Gt=e)}function kd(e){e.tag===22?(Q(Ke,Ke.current),Q(Tt,e),Gt===null&&(Gt=e)):Ma()}function Ma(){Q(Ke,Ke.current),Q(Tt,Tt.current)}function At(e){I(Tt),Gt===e&&(Gt=null),I(Ke)}var Ke=j(0);function or(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pu(a)||vu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,de=null,ke=null,Xe=null,ur=!1,Pn=!1,gn=!1,cr=0,Xs=0,Wn=null,G0=0;function He(){throw Error(i(321))}function ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function fo(e,t,a,s,o,u){return da=u,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?fh:Ao,gn=!1,u=a(s,o),gn=!1,Pn&&(u=Rd(t,a,s,o)),Cd(e),u}function Cd(e){H.H=Ps;var t=ke!==null&&ke.next!==null;if(da=0,Xe=ke=de=null,ur=!1,Xs=0,Wn=null,t)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&er(e)&&(Qe=!0))}function Rd(e,t,a,s){de=e;var o=0;do{if(Pn&&(Wn=null),Xs=0,Pn=!1,25<=o)throw Error(i(301));if(o+=1,Xe=ke=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}H.H=mh,u=t(a,s)}while(Pn);return u}function V0(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(de.flags|=1024),t}function mo(){var e=cr!==0;return cr=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yo(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}da=0,Xe=ke=de=null,Pn=!1,Xs=cr=0,Wn=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ie(){if(ke===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Xe===null?de.memoizedState:Xe.next;if(t!==null)Xe=t,ke=e;else{if(e===null)throw de.alternate===null?Error(i(467)):Error(i(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=Xs;return Xs+=1,Wn===null&&(Wn=[]),e=_d(Wn,e,t),t=de,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?fh:Ao),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===U)return lt(e)}throw Error(i(438,String(e)))}function po(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=dr(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=ie;return t.index++,a}function ha(e,t){return typeof t=="function"?t(e):t}function fr(e){var t=Ie();return vo(t,ke,e)}function vo(e,t,a){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,x=null,k=t,$=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(pe&Y)===Y:(da&Y)===Y){var R=k.revertLane;if(R===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===In&&($=!0);else if((da&R)===R){k=k.next,R===In&&($=!0);continue}else Y={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(v=x=Y,m=u):x=x.next=Y,de.lanes|=R,Ba|=R;Y=k.action,gn&&a(u,Y),u=k.hasEagerState?k.eagerState:a(u,Y)}else R={lane:Y,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(v=x=R,m=u):x=x.next=R,de.lanes|=Y,Ba|=Y;k=k.next}while(k!==null&&k!==t);if(x===null?m=u:x.next=v,!Et(u,e.memoizedState)&&(Qe=!0,$&&(a=Jn,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=x,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function bo(e){var t=Ie(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Et(u,t.memoizedState)||(Qe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function Ud(e,t,a){var s=de,o=Ie(),u=be;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!Et((ke||o).memoizedState,a);if(m&&(o.memoizedState=a,Qe=!0),o=o.queue,_o(Md.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Fn(9,{destroy:void 0},zd.bind(null,s,o,a,t),null),ze===null)throw Error(i(349));u||(da&127)!==0||Dd(s,t,a)}return a}function Dd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=dr(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function zd(e,t,a,s){t.value=a,t.getSnapshot=s,qd(t)&&Ld(e)}function Md(e,t,a){return a(function(){qd(t)&&Ld(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function Ld(e){var t=ln(e,2);t!==null&&xt(t,e,2)}function wo(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),gn){Ea(!0);try{a()}finally{Ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function Bd(e,t,a,s){return e.baseState=a,vo(e,ke,typeof s=="function"?s:ha)}function Y0(e,t,a,s,o){if(yr(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};H.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,$d(t,u)):(u.next=a.next,t.pending=a.next=u)}}function $d(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=H.T,m={};H.T=m;try{var v=a(o,s),x=H.S;x!==null&&x(m,v),Hd(e,t,v)}catch(k){xo(e,t,k)}finally{u!==null&&m.types!==null&&(u.types=m.types),H.T=u}}else try{u=a(o,s),Hd(e,t,u)}catch(k){xo(e,t,k)}}function Hd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Gd(e,t,s)},function(s){return xo(e,t,s)}):Gd(e,t,a)}function Gd(e,t,a){t.status="fulfilled",t.value=a,Vd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$d(e,a)))}function xo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Vd(t),t=t.next;while(t!==s)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Kd(e,t){if(be){var a=ze.formState;if(a!==null){e:{var s=de;if(be){if(qe){t:{for(var o=qe,u=Ht;o.nodeType!==8;){if(!u){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){qe=Vt(o.nextSibling),s=o.data==="F!";break e}}ka(s)}s=!1}s&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},a.queue=s,a=ch.bind(null,de,s),s.dispatch=a,s=wo(!1),u=To.bind(null,de,!1,s.queue),s=mt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Y0.bind(null,de,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Id(e){var t=Ie();return Jd(t,ke,e)}function Jd(e,t,a){if(t=vo(e,t,Yd)[0],e=fr(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Qs(t)}catch(m){throw m===Xn?nr:m}else s=t;t=Ie();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(de.flags|=2048,Fn(9,{destroy:void 0},K0.bind(null,o,a),null)),[s,u,e]}function K0(e,t){e.action=t}function Xd(e){var t=Ie(),a=ke;if(a!==null)return Jd(t,a,e);Ie(),t=t.memoizedState,a=Ie();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Fn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=de.updateQueue,t===null&&(t=dr(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Qd(){return Ie().memoizedState}function mr(e,t,a,s){var o=mt();de.flags|=e,o.memoizedState=Fn(1|t,{destroy:void 0},a,s===void 0?null:s)}function gr(e,t,a,s){var o=Ie();s=s===void 0?null:s;var u=o.memoizedState.inst;ke!==null&&s!==null&&ho(s,ke.memoizedState.deps)?o.memoizedState=Fn(t,u,a,s):(de.flags|=e,o.memoizedState=Fn(1|t,u,a,s))}function Zd(e,t){mr(8390656,8,e,t)}function _o(e,t){gr(2048,8,e,t)}function I0(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=dr(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Pd(e){var t=Ie().memoizedState;return I0({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Wd(e,t){return gr(4,2,e,t)}function Fd(e,t){return gr(4,4,e,t)}function eh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,a){a=a!=null?a.concat([e]):null,gr(4,4,eh.bind(null,t,e),a)}function So(){}function ah(e,t){var a=Ie();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&ho(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function nh(e,t){var a=Ie();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&ho(t,s[1]))return s[0];if(s=e(),gn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[s,t],s}function jo(e,t,a){return a===void 0||(da&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=sf(),de.lanes|=e,Ba|=e,a)}function sh(e,t,a,s){return Et(a,t)?a:Zn.current!==null?(e=jo(e,a,s),Et(e,t)||(Qe=!0),e):(da&42)===0||(da&1073741824)!==0&&(pe&261930)===0?(Qe=!0,e.memoizedState=a):(e=sf(),de.lanes|=e,Ba|=e,t)}function lh(e,t,a,s,o){var u=X.p;X.p=u!==0&&8>u?u:8;var m=H.T,v={};H.T=v,To(e,!1,t,a);try{var x=o(),k=H.S;if(k!==null&&k(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=H0(x,s);Zs(e,t,$,Ct(e))}else Zs(e,t,s,Ct(e))}catch(Y){Zs(e,t,{then:function(){},status:"rejected",reason:Y},Ct())}finally{X.p=u,m!==null&&v.types!==null&&(m.types=v.types),H.T=m}}function J0(){}function Eo(e,t,a,s){if(e.tag!==5)throw Error(i(476));var o=rh(e).queue;lh(e,o,t,re,a===null?J0:function(){return ih(e),a(s)})}function rh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ih(e){var t=rh(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},Ct())}function No(){return lt(fl)}function oh(){return Ie().memoizedState}function uh(){return Ie().memoizedState}function X0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ct();e=Ua(a);var s=Da(t,e,a);s!==null&&(xt(s,t,a),Ks(s,t,a)),t={cache:eo()},e.payload=t;return}t=t.return}}function Q0(e,t,a){var s=Ct();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yr(e)?dh(t,a):(a=Vi(e,t,a,s),a!==null&&(xt(a,e,s),hh(a,t,s)))}function ch(e,t,a){var s=Ct();Zs(e,t,a,s)}function Zs(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yr(e))dh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,Et(v,m))return Zl(e,t,o,0),ze===null&&Ql(),!1}catch{}finally{}if(a=Vi(e,t,o,s),a!==null)return xt(a,e,s),hh(a,t,s),!0}return!1}function To(e,t,a,s){if(s={lane:2,revertLane:lu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(t)throw Error(i(479))}else t=Vi(e,a,s,2),t!==null&&xt(t,e,2)}function yr(e){var t=e.alternate;return e===de||t!==null&&t===de}function dh(e,t){Pn=ur=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,pc(e,a)}}var Ps={readContext:lt,use:hr,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Ps.useEffectEvent=He;var fh={readContext:lt,use:hr,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Zd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,mr(4194308,4,eh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return mr(4194308,4,e,t)},useInsertionEffect:function(e,t){mr(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var s=e();if(gn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=mt();if(a!==void 0){var o=a(t);if(gn){Ea(!0);try{a(t)}finally{Ea(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Q0.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,a=ch.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:So,useDeferredValue:function(e,t){var a=mt();return jo(a,e,t)},useTransition:function(){var e=wo(!1);return e=lh.bind(null,de,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=de,o=mt();if(be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),ze===null)throw Error(i(349));(pe&127)!==0||Dd(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Zd(Md.bind(null,s,u,e),[e]),s.flags|=2048,Fn(9,{destroy:void 0},zd.bind(null,s,u,a,t),null),a},useId:function(){var e=mt(),t=ze.identifierPrefix;if(be){var a=ea,s=Ft;a=(s&~(1<<32-jt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=cr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=G0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=To.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return mt().memoizedState=X0.bind(null,de)},useEffectEvent:function(e){var t=mt(),a={impl:e};return t.memoizedState=a,function(){if((je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Ao={readContext:lt,use:hr,useCallback:ah,useContext:lt,useEffect:_o,useImperativeHandle:th,useInsertionEffect:Wd,useLayoutEffect:Fd,useMemo:nh,useReducer:fr,useRef:Qd,useState:function(){return fr(ha)},useDebugValue:So,useDeferredValue:function(e,t){var a=Ie();return sh(a,ke.memoizedState,e,t)},useTransition:function(){var e=fr(ha)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Ud,useId:oh,useHostTransitionStatus:No,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var a=Ie();return Bd(a,ke,e,t)},useMemoCache:po,useCacheRefresh:uh};Ao.useEffectEvent=Pd;var mh={readContext:lt,use:hr,useCallback:ah,useContext:lt,useEffect:_o,useImperativeHandle:th,useInsertionEffect:Wd,useLayoutEffect:Fd,useMemo:nh,useReducer:bo,useRef:Qd,useState:function(){return bo(ha)},useDebugValue:So,useDeferredValue:function(e,t){var a=Ie();return ke===null?jo(a,e,t):sh(a,ke.memoizedState,e,t)},useTransition:function(){var e=bo(ha)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:Ud,useId:oh,useHostTransitionStatus:No,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=Ie();return ke!==null?Bd(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:po,useCacheRefresh:uh};mh.useEffectEvent=Pd;function Oo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ct(),o=Ua(s);o.payload=t,a!=null&&(o.callback=a),t=Da(e,o,s),t!==null&&(xt(t,e,s),Ks(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ct(),o=Ua(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Da(e,o,s),t!==null&&(xt(t,e,s),Ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ct(),s=Ua(a);s.tag=2,t!=null&&(s.callback=t),t=Da(e,s,a),t!==null&&(xt(t,e,a),Ks(t,e,a))}};function gh(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!qs(a,s)||!qs(o,u):!0}function yh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function ph(e){Xl(e)}function vh(e){console.error(e)}function bh(e){Xl(e)}function pr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function wh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Co(e,t,a){return a=Ua(a),a.tag=3,a.payload={element:null},a.callback=function(){pr(e,t)},a}function xh(e){return e=Ua(e),e.tag=3,e}function _h(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){wh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){wh(t,a,s),typeof o!="function"&&($a===null?$a=new Set([this]):$a.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Z0(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Kn(t,a,o,!0),a=Tt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Or():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===sr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),au(e,s,o)),!1;case 22:return a.flags|=65536,s===sr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),au(e,s,o)),!1}throw Error(i(435,a.tag))}return au(e,s,o),Or(),!1}if(be)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Qi&&(e=Error(i(422),{cause:s}),$s(Lt(e,a)))):(s!==Qi&&(t=Error(i(423),{cause:s}),$s(Lt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Lt(s,a),o=Co(e.stateNode,s,o),ro(e,o),Ge!==4&&(Ge=2)),!1;var u=Error(i(520),{cause:s});if(u=Lt(u,a),ll===null?ll=[u]:ll.push(u),Ge!==4&&(Ge=2),t===null)return!0;s=Lt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Co(a.stateNode,s,e),ro(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&($a===null||!$a.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=xh(o),_h(o,e,a,s),ro(a,o),!1}a=a.return}while(a!==null);return!1}var Ro=Error(i(461)),Qe=!1;function rt(e,t,a,s){t.child=e===null?Nd(t,null,a,s):mn(t,e.child,a,s)}function Sh(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var v in s)v!=="ref"&&(m[v]=s[v])}else m=s;return cn(t),s=fo(e,t,a,m,u,o),v=mo(),e!==null&&!Qe?(go(e,t,o),fa(e,t,o)):(be&&v&&Ji(t),t.flags|=1,rt(e,t,s,o),t.child)}function jh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Yi(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Eh(e,t,u,s,o)):(e=Wl(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!$o(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:qs,a(m,s)&&e.ref===t.ref)return fa(e,t,o)}return t.flags|=1,e=ia(u,s),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(qs(u,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=u,$o(e,o))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,fa(e,t,o)}return Uo(e,t,a,s,o)}function Nh(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Th(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ar(t,u!==null?u.cachePool:null),u!==null?Od(t,u):oo(),kd(t);else return s=t.lanes=536870912,Th(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(ar(t,u.cachePool),Od(t,u),Ma(),t.memoizedState=null):(e!==null&&ar(t,null),oo(),Ma());return rt(e,t,o,a),t.child}function Ws(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Th(e,t,a,s,o){var u=ao();return u=u===null?null:{parent:Je._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&ar(t,null),oo(),kd(t),e!==null&&Kn(e,t,s,!0),t.childLanes=o,null}function vr(e,t){return t=wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ah(e,t,a){return mn(t,e.child,null,a),e=vr(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function P0(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(s.mode==="hidden")return e=vr(t,s),t.lanes=536870912,Ws(null,e);if(co(t),(e=qe)?(e=Hf(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Ft,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,st=t,qe=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return vr(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(co(t),o)if(t.flags&256)t.flags&=-257,t=Ah(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Qe||Kn(e,t,a,!1),o=(a&e.childLanes)!==0,Qe||o){if(s=ze,s!==null&&(m=vc(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ln(e,m),xt(s,e,m),Ro;Or(),t=Ah(e,t,a)}else e=u.treeContext,qe=Vt(m.nextSibling),st=t,be=!0,Oa=null,Ht=!1,e!==null&&md(t,e),t=vr(t,s),t.flags|=4096;return t}return e=ia(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function br(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Uo(e,t,a,s,o){return cn(t),a=fo(e,t,a,s,void 0,o),s=mo(),e!==null&&!Qe?(go(e,t,o),fa(e,t,o)):(be&&s&&Ji(t),t.flags|=1,rt(e,t,a,o),t.child)}function Oh(e,t,a,s,o,u){return cn(t),t.updateQueue=null,a=Rd(t,s,a,o),Cd(e),s=mo(),e!==null&&!Qe?(go(e,t,u),fa(e,t,u)):(be&&s&&Ji(t),t.flags|=1,rt(e,t,a,u),t.child)}function kh(e,t,a,s,o){if(cn(t),t.stateNode===null){var u=Hn,m=a.contextType;typeof m=="object"&&m!==null&&(u=lt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ko,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},so(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?lt(m):Hn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Oo(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&ko.enqueueReplaceState(u,u.state,null),Js(t,s,u,o),Is(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,x=yn(a,v);u.props=x;var k=u.context,$=a.contextType;m=Hn,typeof $=="object"&&$!==null&&(m=lt($));var Y=a.getDerivedStateFromProps;$=typeof Y=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,$||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||k!==m)&&yh(t,u,s,m),Ra=!1;var R=t.memoizedState;u.state=R,Js(t,s,u,o),Is(),k=t.memoizedState,v||R!==k||Ra?(typeof Y=="function"&&(Oo(t,a,Y,s),k=t.memoizedState),(x=Ra||gh(t,a,x,s,R,k,m))?($||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),u.props=s,u.state=k,u.context=m,s=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,lo(e,t),m=t.memoizedProps,$=yn(a,m),u.props=$,Y=t.pendingProps,R=u.context,k=a.contextType,x=Hn,typeof k=="object"&&k!==null&&(x=lt(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==Y||R!==x)&&yh(t,u,s,x),Ra=!1,R=t.memoizedState,u.state=R,Js(t,s,u,o),Is();var D=t.memoizedState;m!==Y||R!==D||Ra||e!==null&&e.dependencies!==null&&er(e.dependencies)?(typeof v=="function"&&(Oo(t,a,v,s),D=t.memoizedState),($=Ra||gh(t,a,$,s,R,D,x)||e!==null&&e.dependencies!==null&&er(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,D,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,D,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),u.props=s,u.state=D,u.context=x,s=$):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,br(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=mn(t,e.child,null,o),t.child=mn(t,null,a,o)):rt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=fa(e,t,o),e}function Ch(e,t,a,s){return on(),t.flags|=256,rt(e,t,a,s),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:wd()}}function Mo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=kt),e}function Rh(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(o?za(t):Ma(),(e=qe)?(e=Hf(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Ft,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,st=t,qe=null)):e=null,e===null)throw ka(t);return vu(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Ma(),o=t.mode,v=wr({mode:"hidden",children:v},o),s=rn(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=zo(a),s.childLanes=Mo(e,m,a),t.memoizedState=Do,Ws(null,s)):(za(t),qo(t,v))}var x=e.memoizedState;if(x!==null&&(v=x.dehydrated,v!==null)){if(u)t.flags&256?(za(t),t.flags&=-257,t=Lo(e,t,a)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),v=s.fallback,o=t.mode,s=wr({mode:"visible",children:s.children},o),v=rn(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,mn(t,e.child,null,a),s=t.child,s.memoizedState=zo(a),s.childLanes=Mo(e,m,a),t.memoizedState=Do,t=Ws(null,s));else if(za(t),vu(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var k=m.dgst;m=k,s=Error(i(419)),s.stack="",s.digest=m,$s({value:s,source:null,stack:null}),t=Lo(e,t,a)}else if(Qe||Kn(e,t,a,!1),m=(a&e.childLanes)!==0,Qe||m){if(m=ze,m!==null&&(s=vc(m,a),s!==0&&s!==x.retryLane))throw x.retryLane=s,ln(e,s),xt(m,e,s),Ro;pu(v)||Or(),t=Lo(e,t,a)}else pu(v)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,qe=Vt(v.nextSibling),st=t,be=!0,Oa=null,Ht=!1,e!==null&&md(t,e),t=qo(t,s.children),t.flags|=4096);return t}return o?(Ma(),v=s.fallback,o=t.mode,x=e.child,k=x.sibling,s=ia(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,k!==null?v=ia(k,v):(v=rn(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Ws(null,s),s=t.child,v=e.child.memoizedState,v===null?v=zo(a):(o=v.cachePool,o!==null?(x=Je._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=wd(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Mo(e,m,a),t.memoizedState=Do,Ws(e.child,s)):(za(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function qo(e,t){return t=wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wr(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function Lo(e,t,a){return mn(t,e.child,null,a),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wi(e.return,t,a)}function Bo(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Dh(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=Ke.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,Q(Ke,m),rt(e,t,s,a),s=be?Bs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uh(e,a,t);else if(e.tag===19)Uh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&or(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Bo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&or(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Bo(t,!0,a,null,u,s);break;case"together":Bo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Kn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function $o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&er(e)))}function W0(e,t,a){switch(t.tag){case 3:ft(t,t.stateNode.containerInfo),Ca(t,Je,e.memoizedState.cache),on();break;case 27:case 5:js(t);break;case 4:ft(t,t.stateNode.containerInfo);break;case 10:Ca(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,co(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(za(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Rh(e,t,a):(za(t),e=fa(e,t,a),e!==null?e.sibling:null);za(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Kn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Dh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Ke,Ke.current),s)break;return null;case 22:return t.lanes=0,Nh(e,t,a,t.pendingProps);case 24:Ca(t,Je,e.memoizedState.cache)}return fa(e,t,a)}function zh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!$o(e,a)&&(t.flags&128)===0)return Qe=!1,W0(e,t,a);Qe=(e.flags&131072)!==0}else Qe=!1,be&&(t.flags&1048576)!==0&&fd(t,Bs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=hn(t.elementType),t.type=e,typeof e=="function")Yi(e)?(s=yn(e,s),t.tag=1,t=kh(null,t,e,s,a)):(t.tag=0,t=Uo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===V){t.tag=11,t=Sh(null,t,e,s,a);break e}else if(o===C){t.tag=14,t=jh(null,t,e,s,a);break e}}throw t=we(e)||e,Error(i(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=yn(s,t.pendingProps),kh(e,t,s,o,a);case 3:e:{if(ft(t,t.stateNode.containerInfo),e===null)throw Error(i(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,lo(e,t),Js(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Ca(t,Je,s),s!==u.cache&&Fi(t,[Je],a,!0),Is(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Ch(e,t,s,a);break e}else if(s!==o){o=Lt(Error(i(424)),t),$s(o),t=Ch(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Vt(e.firstChild),st=t,be=!0,Oa=null,Ht=!0,a=Nd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(on(),s===o){t=fa(e,t,a);break e}rt(e,t,s,a)}t=t.child}return t;case 26:return br(e,t),e===null?(a=Jf(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,s=Mr(me.current).createElement(a),s[nt]=t,s[gt]=e,it(s,a,e),et(s),t.stateNode=s):t.memoizedState=Jf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return js(t),e===null&&be&&(s=t.stateNode=Yf(t.type,t.pendingProps,me.current),st=t,Ht=!0,o=qe,Ya(t.type)?(bu=o,qe=Vt(s.firstChild)):qe=o),rt(e,t,t.pendingProps.children,a),br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((o=s=qe)&&(s=Ay(s,t.type,t.pendingProps,Ht),s!==null?(t.stateNode=s,st=t,qe=Vt(s.firstChild),Ht=!1,o=!0):o=!1),o||ka(t)),js(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,mu(o,u)?s=null:m!==null&&mu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=fo(e,t,V0,null,null,a),fl._currentValue=o),br(e,t),rt(e,t,s,a),t.child;case 6:return e===null&&be&&((e=a=qe)&&(a=Oy(a,t.pendingProps,Ht),a!==null?(t.stateNode=a,st=t,qe=null,e=!0):e=!1),e||ka(t)),null;case 13:return Rh(e,t,a);case 4:return ft(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=mn(t,null,s,a):rt(e,t,s,a),t.child;case 11:return Sh(e,t,t.type,t.pendingProps,a);case 7:return rt(e,t,t.pendingProps,a),t.child;case 8:return rt(e,t,t.pendingProps.children,a),t.child;case 12:return rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ca(t,t.type,s.value),rt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,cn(t),o=lt(o),s=s(o),t.flags|=1,rt(e,t,s,a),t.child;case 14:return jh(e,t,t.type,t.pendingProps,a);case 15:return Eh(e,t,t.type,t.pendingProps,a);case 19:return Dh(e,t,a);case 31:return P0(e,t,a);case 22:return Nh(e,t,a,t.pendingProps);case 24:return cn(t),s=lt(Je),e===null?(o=ao(),o===null&&(o=ze,u=eo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},so(t),Ca(t,Je,o)):((e.lanes&a)!==0&&(lo(e,t),Js(t,null,null,a),Is()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ca(t,Je,s)):(s=u.cache,Ca(t,Je,s),s!==o.cache&&Fi(t,[Je],a,!0))),rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ma(e){e.flags|=4}function Ho(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(uf())e.flags|=8192;else throw fn=sr,no}else e.flags&=-16777217}function Mh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(uf())e.flags|=8192;else throw fn=sr,no}function xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gc():536870912,e.lanes|=t,ns|=t)}function Fs(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function F0(e,t,a){var s=t.pendingProps;switch(Xi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ca(Je),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yn(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zi())),Le(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ma(t),u!==null?(Le(t),Mh(t,u)):(Le(t),Ho(t,o,null,s,a))):u?u!==e.memoizedState?(ma(t),Le(t),Mh(t,u)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ma(t),Le(t),Ho(t,o,e,s,a)),null;case 27:if(Rl(t),a=me.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ma(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Le(t),null}e=F.current,Yn(t)?gd(t):(e=Yf(o,s,a),t.stateNode=e,ma(t))}return Le(t),null;case 5:if(Rl(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ma(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Le(t),null}if(u=F.current,Yn(t))gd(t);else{var m=Mr(me.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[nt]=t,u[gt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(it(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ma(t)}}return Le(t),Ho(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ma(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=me.current,Yn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=st,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Uf(e.nodeValue,a)),e||ka(t,!0)}else e=Mr(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Yn(t),a!==null){if(e===null){if(!s)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Le(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Yn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[nt]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),xr(t,t.updateQueue),Le(t),null);case 4:return Ye(),e===null&&uu(t.stateNode.containerInfo),Le(t),null;case 10:return ca(t.type),Le(t),null;case 19:if(I(Ke),s=t.memoizedState,s===null)return Le(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Fs(s,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=or(e),u!==null){for(t.flags|=128,Fs(s,!1),e=u.updateQueue,t.updateQueue=e,xr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cd(a,e),a=a.sibling;return Q(Ke,Ke.current&1|2),be&&oa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>Nr&&(t.flags|=128,o=!0,Fs(s,!1),t.lanes=4194304)}else{if(!o)if(e=or(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,xr(t,e),Fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!be)return Le(t),null}else 2*_t()-s.renderingStartTime>Nr&&a!==536870912&&(t.flags|=128,o=!0,Fs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=Ke.current,Q(Ke,o?a&1|2:a&1),be&&oa(t,s.treeForkCount),e):(Le(t),null);case 22:case 23:return At(t),uo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&xr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&I(dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ca(Je),Le(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function ey(e,t){switch(Xi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(Je),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Rl(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(i(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Ke),null;case 4:return Ye(),null;case 10:return ca(t.type),null;case 22:case 23:return At(t),uo(),e!==null&&I(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca(Je),null;case 25:return null;default:return null}}function qh(e,t){switch(Xi(t),t.tag){case 3:ca(Je),Ye();break;case 26:case 27:case 5:Rl(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:I(Ke);break;case 10:ca(t.type);break;case 22:case 23:At(t),uo(),e!==null&&I(dn);break;case 24:ca(Je)}}function el(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(v){Ae(t,t.return,v)}}function qa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var x=a,k=v;try{k()}catch($){Ae(o,x,$)}}}s=s.next}while(s!==u)}}catch($){Ae(t,t.return,$)}}function Lh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ad(t,a)}catch(s){Ae(e,e.return,s)}}}function Bh(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ae(e,t,s)}}function tl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ae(e,t,o)}}function ta(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ae(e,t,o)}else a.current=null}function $h(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ae(e,e.return,o)}}function Go(e,t,a){try{var s=e.stateNode;_y(s,e.type,a,t),s[gt]=t}catch(o){Ae(e,e.return,o)}}function Hh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function Vo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=la));else if(s!==4&&(s===27&&Ya(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Yo(e,t,a),e=e.sibling;e!==null;)Yo(e,t,a),e=e.sibling}function _r(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_r(e,t,a),e=e.sibling;e!==null;)_r(e,t,a),e=e.sibling}function Gh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);it(t,s,a),t[nt]=e,t[gt]=a}catch(u){Ae(e,e.return,u)}}var ga=!1,Ze=!1,Ko=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,tt=null;function ty(e,t){if(e=e.containerInfo,hu=Vr,e=td(e),qi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,x=-1,k=0,$=0,Y=e,R=null;t:for(;;){for(var D;Y!==a||o!==0&&Y.nodeType!==3||(v=m+o),Y!==u||s!==0&&Y.nodeType!==3||(x=m+s),Y.nodeType===3&&(m+=Y.nodeValue.length),(D=Y.firstChild)!==null;)R=Y,Y=D;for(;;){if(Y===e)break t;if(R===a&&++k===o&&(v=m),R===u&&++$===s&&(x=m),(D=Y.nextSibling)!==null)break;Y=R,R=Y.parentNode}Y=D}a=v===-1||x===-1?null:{start:v,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},Vr=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var W=yn(a.type,o);e=s.getSnapshotBeforeUpdate(W,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ae(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)yu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Yh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:pa(e,a),s&4&&el(5,a);break;case 1:if(pa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ae(a,a.return,m)}else{var o=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ae(a,a.return,m)}}s&64&&Lh(a),s&512&&tl(a,a.return);break;case 3:if(pa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ad(e,t)}catch(m){Ae(a,a.return,m)}}break;case 27:t===null&&s&4&&Gh(a);case 26:case 5:pa(e,a),t===null&&s&4&&$h(a),s&512&&tl(a,a.return);break;case 12:pa(e,a);break;case 31:pa(e,a),s&4&&Jh(e,a);break;case 13:pa(e,a),s&4&&Xh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cy.bind(null,a),ky(e,a))));break;case 22:if(s=a.memoizedState!==null||ga,!s){t=t!==null&&t.memoizedState!==null||Ze,o=ga;var u=Ze;ga=s,(Ze=t)&&!u?va(e,a,(a.subtreeFlags&8772)!==0):pa(e,a),ga=o,Ze=u}break;case 30:break;default:pa(e,a)}}function Kh(e){var t=e.alternate;t!==null&&(e.alternate=null,Kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,pt=!1;function ya(e,t,a){for(a=a.child;a!==null;)Ih(e,t,a),a=a.sibling}function Ih(e,t,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Es,a)}catch{}switch(a.tag){case 26:Ze||ta(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||ta(a,t);var s=Be,o=pt;Ya(a.type)&&(Be=a.stateNode,pt=!1),ya(e,t,a),cl(a.stateNode),Be=s,pt=o;break;case 5:Ze||ta(a,t);case 6:if(s=Be,o=pt,Be=null,ya(e,t,a),Be=s,pt=o,Be!==null)if(pt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(u){Ae(a,t,u)}else try{Be.removeChild(a.stateNode)}catch(u){Ae(a,t,u)}break;case 18:Be!==null&&(pt?(e=Be,Bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ds(e)):Bf(Be,a.stateNode));break;case 4:s=Be,o=pt,Be=a.stateNode.containerInfo,pt=!0,ya(e,t,a),Be=s,pt=o;break;case 0:case 11:case 14:case 15:qa(2,a,t),Ze||qa(4,a,t),ya(e,t,a);break;case 1:Ze||(ta(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Bh(a,t,s)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Ze=(s=Ze)||a.memoizedState!==null,ya(e,t,a),Ze=s;break;default:ya(e,t,a)}}function Jh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ds(e)}catch(a){Ae(t,t.return,a)}}}function Xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ds(e)}catch(a){Ae(t,t.return,a)}}function ay(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vh),t;default:throw Error(i(435,e.tag))}}function Sr(e,t){var a=ay(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=dy.bind(null,e,s);s.then(o,o)}})}function vt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Ya(v.type)){Be=v.stateNode,pt=!1;break e}break;case 5:Be=v.stateNode,pt=!1;break e;case 3:case 4:Be=v.stateNode.containerInfo,pt=!0;break e}v=v.return}if(Be===null)throw Error(i(160));Ih(u,m,o),Be=null,pt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qh(t,e),t=t.sibling}var Xt=null;function Qh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),bt(e),s&4&&(qa(3,e,e.return),el(3,e),qa(5,e,e.return));break;case 1:vt(t,e),bt(e),s&512&&(Ze||a===null||ta(a,a.return)),s&64&&ga&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Xt;if(vt(t,e),bt(e),s&512&&(Ze||a===null||ta(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[As]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),it(u,s,a),u[nt]=e,et(u),s=u;break e;case"link":var m=Zf("link","href",o).get(s+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(s),it(u,s,a),o.head.appendChild(u);break;case"meta":if(m=Zf("meta","content",o).get(s+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(s),it(u,s,a),o.head.appendChild(u);break;default:throw Error(i(468,s))}u[nt]=e,et(u),s=u}e.stateNode=s}else Pf(o,e.type,e.stateNode);else e.stateNode=Qf(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Pf(o,e.type,e.stateNode):Qf(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Go(e,e.memoizedProps,a.memoizedProps)}break;case 27:vt(t,e),bt(e),s&512&&(Ze||a===null||ta(a,a.return)),a!==null&&s&4&&Go(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vt(t,e),bt(e),s&512&&(Ze||a===null||ta(a,a.return)),e.flags&32){o=e.stateNode;try{Dn(o,"")}catch(W){Ae(e,e.return,W)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Go(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Ko=!0);break;case 6:if(vt(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(W){Ae(e,e.return,W)}}break;case 3:if(Br=null,o=Xt,Xt=qr(t.containerInfo),vt(t,e),Xt=o,bt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(W){Ae(e,e.return,W)}Ko&&(Ko=!1,Zh(e));break;case 4:s=Xt,Xt=qr(e.stateNode.containerInfo),vt(t,e),bt(e),Xt=s;break;case 12:vt(t,e),bt(e);break;case 31:vt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 13:vt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Er=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 22:o=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,k=ga,$=Ze;if(ga=k||o,Ze=$||x,vt(t,e),Ze=$,ga=k,bt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||x||ga||Ze||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(u=x.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=x.stateNode;var Y=x.memoizedProps.style,R=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(W){Ae(x,x.return,W)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(W){Ae(x,x.return,W)}}}else if(t.tag===18){if(a===null){x=t;try{var D=x.stateNode;o?$f(D,!0):$f(x.stateNode,!1)}catch(W){Ae(x,x.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Sr(e,a))));break;case 19:vt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 30:break;case 21:break;default:vt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Hh(s)){a=s;break}s=s.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,u=Vo(e);_r(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Dn(m,""),a.flags&=-33);var v=Vo(e);_r(e,v,m);break;case 3:case 4:var x=a.stateNode.containerInfo,k=Vo(e);Yo(e,k,x);break;default:throw Error(i(161))}}catch($){Ae(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yh(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),pn(t);break;case 1:ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Bh(t,t.return,a),pn(t);break;case 27:cl(t.stateNode);case 26:case 5:ta(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:va(o,u,a),el(4,u);break;case 1:if(va(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){Ae(s,s.return,k)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)Td(x[o],v)}catch(k){Ae(s,s.return,k)}}a&&m&64&&Lh(u),tl(u,u.return);break;case 27:Gh(u);case 26:case 5:va(o,u,a),a&&s===null&&m&4&&$h(u),tl(u,u.return);break;case 12:va(o,u,a);break;case 31:va(o,u,a),a&&m&4&&Jh(o,u);break;case 13:va(o,u,a),a&&m&4&&Xh(o,u);break;case 22:u.memoizedState===null&&va(o,u,a),tl(u,u.return);break;case 30:break;default:va(o,u,a)}t=t.sibling}}function Io(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Hs(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e))}function Qt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ph(e,t,a,s),t=t.sibling}function Ph(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,s),o&2048&&el(9,t);break;case 1:Qt(e,t,a,s);break;case 3:Qt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e)));break;case 12:if(o&2048){Qt(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ae(t,t.return,x)}}else Qt(e,t,a,s);break;case 31:Qt(e,t,a,s);break;case 13:Qt(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Qt(e,t,a,s):al(e,t):u._visibility&2?Qt(e,t,a,s):(u._visibility|=2,es(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Io(m,t);break;case 24:Qt(e,t,a,s),o&2048&&Jo(t.alternate,t);break;default:Qt(e,t,a,s)}}function es(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,x=s,k=m.flags;switch(m.tag){case 0:case 11:case 15:es(u,m,v,x,o),el(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?es(u,m,v,x,o):al(u,m):($._visibility|=2,es(u,m,v,x,o)),o&&k&2048&&Io(m.alternate,m);break;case 24:es(u,m,v,x,o),o&&k&2048&&Jo(m.alternate,m);break;default:es(u,m,v,x,o)}t=t.sibling}}function al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:al(a,s),o&2048&&Io(s.alternate,s);break;case 24:al(a,s),o&2048&&Jo(s.alternate,s);break;default:al(a,s)}t=t.sibling}}var nl=8192;function ts(e,t,a){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Wh(e,t,a),e=e.sibling}function Wh(e,t,a){switch(e.tag){case 26:ts(e,t,a),e.flags&nl&&e.memoizedState!==null&&Gy(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:ts(e,t,a);break;case 3:case 4:var s=Xt;Xt=qr(e.stateNode.containerInfo),ts(e,t,a),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=nl,nl=16777216,ts(e,t,a),nl=s):ts(e,t,a));break;default:ts(e,t,a)}}function Fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,tf(s,e)}Fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ef(e),e=e.sibling}function ef(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&qa(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jr(e)):sl(e);break;default:sl(e)}}function jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,tf(s,e)}Fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),jr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,jr(t));break;default:jr(t)}e=e.sibling}}function tf(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Hs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var o=s.sibling,u=s.return;if(Kh(s),s===a){tt=null;break e}if(o!==null){o.return=u,tt=o;break e}tt=u}}}var ny={getCacheForType:function(e){var t=lt(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return lt(Je).controller.signal}},sy=typeof WeakMap=="function"?WeakMap:Map,je=0,ze=null,ge=null,pe=0,Te=0,Ot=null,La=!1,as=!1,Xo=!1,ba=0,Ge=0,Ba=0,vn=0,Qo=0,kt=0,ns=0,ll=null,wt=null,Zo=!1,Er=0,af=0,Nr=1/0,Tr=null,$a=null,We=0,Ha=null,ss=null,wa=0,Po=0,Wo=null,nf=null,rl=0,Fo=null;function Ct(){return(je&2)!==0&&pe!==0?pe&-pe:H.T!==null?lu():bc()}function sf(){if(kt===0)if((pe&536870912)===0||be){var e=zl;zl<<=1,(zl&3932160)===0&&(zl=262144),kt=e}else kt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),kt}function xt(e,t,a){(e===ze&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Ga(e,pe,kt,!1)),Ts(e,a),((je&2)===0||e!==ze)&&(e===ze&&((je&2)===0&&(vn|=a),Ge===4&&Ga(e,pe,kt,!1)),aa(e))}function lf(e,t,a){if((je&6)!==0)throw Error(i(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ns(e,t),o=s?iy(e,t):tu(e,t,!0),u=s;do{if(o===0){as&&!s&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!ly(a)){o=tu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=ll;var x=v.current.memoizedState.isDehydrated;if(x&&(ls(v,m).flags|=256),m=tu(v,m,!1),m!==2){if(Xo&&!x){v.errorRecoveryDisabledLanes|=u,vn|=u,o=4;break e}u=wt,wt=o,u!==null&&(wt===null?wt=u:wt.push.apply(wt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){ls(e,0),Ga(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ga(s,t,kt,!La);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Er+300-_t(),10<o)){if(Ga(s,t,kt,!La),ql(s,0,!0)!==0)break e;wa=t,s.timeoutHandle=qf(rf.bind(null,s,a,wt,Tr,Zo,t,kt,vn,ns,La,u,"Throttled",-0,0),o);break e}rf(s,a,wt,Tr,Zo,t,kt,vn,ns,La,u,null,-0,0)}}break}while(!0);aa(e)}function rf(e,t,a,s,o,u,m,v,x,k,$,Y,R,D){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:la},Wh(t,u,Y);var W=(u&62914560)===u?Er-_t():(u&4194048)===u?af-_t():0;if(W=Vy(Y,W),W!==null){wa=u,e.cancelPendingCommit=W(gf.bind(null,e,t,u,a,s,o,m,v,x,$,Y,null,R,D)),Ga(e,u,m,!k);return}}gf(e,t,u,a,s,o,m,v,x)}function ly(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!Et(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,s){t&=~Qo,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-jt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&yc(e,a,t)}function Ar(){return(je&6)===0?(il(0),!1):!0}function eu(){if(ge!==null){if(Te===0)var e=ge.return;else e=ge,ua=un=null,yo(e),Qn=null,Vs=0,e=ge;for(;e!==null;)qh(e.alternate,e),e=e.return;ge=null}}function ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ey(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wa=0,eu(),ze=e,ge=a=ia(e.current,null),pe=t,Te=0,Ot=null,La=!1,as=Ns(e,t),Xo=!1,ns=kt=Qo=vn=Ba=Ge=0,wt=ll=null,Zo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-jt(s),u=1<<o;t|=e[o],s&=~u}return ba=t,Ql(),a}function of(e,t){de=null,H.H=Ps,t===Xn||t===nr?(t=Sd(),Te=3):t===no?(t=Sd(),Te=4):Te=t===Ro?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ge===null&&(Ge=1,pr(e,Lt(t,e.current)))}function uf(){var e=Tt.current;return e===null?!0:(pe&4194048)===pe?Gt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Gt:!1}function cf(){var e=H.H;return H.H=Ps,e===null?Ps:e}function df(){var e=H.A;return H.A=ny,e}function Or(){Ge=4,La||(pe&4194048)!==pe&&Tt.current!==null||(as=!0),(Ba&134217727)===0&&(vn&134217727)===0||ze===null||Ga(ze,pe,kt,!1)}function tu(e,t,a){var s=je;je|=2;var o=cf(),u=df();(ze!==e||pe!==t)&&(Tr=null,ls(e,t)),t=!1;var m=Ge;e:do try{if(Te!==0&&ge!==null){var v=ge,x=Ot;switch(Te){case 8:eu(),m=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var k=Te;if(Te=0,Ot=null,rs(e,v,x,k),a&&as){m=0;break e}break;default:k=Te,Te=0,Ot=null,rs(e,v,x,k)}}ry(),m=Ge;break}catch($){of(e,$)}while(!0);return t&&e.shellSuspendCounter++,ua=un=null,je=s,H.H=o,H.A=u,ge===null&&(ze=null,pe=0,Ql()),m}function ry(){for(;ge!==null;)hf(ge)}function iy(e,t){var a=je;je|=2;var s=cf(),o=df();ze!==e||pe!==t?(Tr=null,Nr=_t()+500,ls(e,t)):as=Ns(e,t);e:do try{if(Te!==0&&ge!==null){t=ge;var u=Ot;t:switch(Te){case 1:Te=0,Ot=null,rs(e,t,u,1);break;case 2:case 9:if(xd(u)){Te=0,Ot=null,ff(t);break}t=function(){Te!==2&&Te!==9||ze!==e||(Te=7),aa(e)},u.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:xd(u)?(Te=0,Ot=null,ff(t)):(Te=0,Ot=null,rs(e,t,u,7));break;case 5:var m=null;switch(ge.tag){case 26:m=ge.memoizedState;case 5:case 27:var v=ge;if(m?Wf(m):v.stateNode.complete){Te=0,Ot=null;var x=v.sibling;if(x!==null)ge=x;else{var k=v.return;k!==null?(ge=k,kr(k)):ge=null}break t}}Te=0,Ot=null,rs(e,t,u,5);break;case 6:Te=0,Ot=null,rs(e,t,u,6);break;case 8:eu(),Ge=6;break e;default:throw Error(i(462))}}oy();break}catch($){of(e,$)}while(!0);return ua=un=null,H.H=s,H.A=o,je=a,ge!==null?0:(ze=null,pe=0,Ql(),Ge)}function oy(){for(;ge!==null&&!Cg();)hf(ge)}function hf(e){var t=zh(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?kr(e):ge=t}function ff(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Oh(a,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Oh(a,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:yo(t);default:qh(a,t),t=ge=cd(t,ba),t=zh(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?kr(e):ge=t}function rs(e,t,a,s){ua=un=null,yo(t),Qn=null,Vs=0;var o=t.return;try{if(Z0(e,o,t,a,pe)){Ge=1,pr(e,Lt(a,e.current)),ge=null;return}}catch(u){if(o!==null)throw ge=o,u;Ge=1,pr(e,Lt(a,e.current)),ge=null;return}t.flags&32768?(be||s===1?e=!0:as||(pe&536870912)!==0?e=!1:(La=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),mf(t,e)):kr(t)}function kr(e){var t=e;do{if((t.flags&32768)!==0){mf(t,La);return}e=t.return;var a=F0(t.alternate,t,ba);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Ge===0&&(Ge=5)}function mf(e,t){do{var a=ey(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Ge=6,ge=null}function gf(e,t,a,s,o,u,m,v,x){e.cancelPendingCommit=null;do Cr();while(We!==0);if((je&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Gi,Hg(e,a,u,m,v,x),e===ze&&(ge=ze=null,pe=0),ss=t,Ha=e,wa=a,Po=u,Wo=o,nf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hy(Ul,function(){return wf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,o=X.p,X.p=2,m=je,je|=4;try{ty(e,t,a)}finally{je=m,X.p=o,H.T=s}}We=1,yf(),pf(),vf()}}function yf(){if(We===1){We=0;var e=Ha,t=ss,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var s=X.p;X.p=2;var o=je;je|=4;try{Qh(t,e);var u=fu,m=td(e.containerInfo),v=u.focusedElem,x=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&ed(v.ownerDocument.documentElement,v)){if(x!==null&&qi(v)){var k=x.start,$=x.end;if($===void 0&&($=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min($,v.value.length);else{var Y=v.ownerDocument||document,R=Y&&Y.defaultView||window;if(R.getSelection){var D=R.getSelection(),W=v.textContent.length,ne=Math.min(x.start,W),Re=x.end===void 0?ne:Math.min(x.end,W);!D.extend&&ne>Re&&(m=Re,Re=ne,ne=m);var T=Fc(v,ne),S=Fc(v,Re);if(T&&S&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==S.node||D.focusOffset!==S.offset)){var O=Y.createRange();O.setStart(T.node,T.offset),D.removeAllRanges(),ne>Re?(D.addRange(O),D.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),D.addRange(O))}}}}for(Y=[],D=v;D=D.parentNode;)D.nodeType===1&&Y.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Y.length;v++){var G=Y[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Vr=!!hu,fu=hu=null}finally{je=o,X.p=s,H.T=a}}e.current=t,We=2}}function pf(){if(We===2){We=0;var e=Ha,t=ss,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var s=X.p;X.p=2;var o=je;je|=4;try{Yh(e,t.alternate,t)}finally{je=o,X.p=s,H.T=a}}We=3}}function vf(){if(We===4||We===3){We=0,Rg();var e=Ha,t=ss,a=wa,s=nf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,ss=Ha=null,bf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&($a=null),vi(a),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Es,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=H.T,o=X.p,X.p=2,H.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var v=s[m];u(v.value,{componentStack:v.stack})}}finally{H.T=t,X.p=o}}(wa&3)!==0&&Cr(),aa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Fo?rl++:(rl=0,Fo=e):rl=0,il(0)}}function bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hs(t)))}function Cr(){return yf(),pf(),vf(),wf()}function wf(){if(We!==5)return!1;var e=Ha,t=Po;Po=0;var a=vi(wa),s=H.T,o=X.p;try{X.p=32>a?32:a,H.T=null,a=Wo,Wo=null;var u=Ha,m=wa;if(We=0,ss=Ha=null,wa=0,(je&6)!==0)throw Error(i(331));var v=je;if(je|=4,ef(u.current),Ph(u,u.current,m,a),je=v,il(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Es,u)}catch{}return!0}finally{X.p=o,H.T=s,bf(e,t)}}function xf(e,t,a){t=Lt(a,t),t=Co(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(Ts(e,2),aa(e))}function Ae(e,t,a){if(e.tag===3)xf(e,e,a);else for(;t!==null;){if(t.tag===3){xf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($a===null||!$a.has(s))){e=Lt(a,e),a=xh(2),s=Da(t,a,2),s!==null&&(_h(a,s,t,e),Ts(s,2),aa(s));break}}t=t.return}}function au(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new sy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Xo=!0,o.add(a),e=uy.bind(null,e,t,a),t.then(e,e))}function uy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(pe&a)===a&&(Ge===4||Ge===3&&(pe&62914560)===pe&&300>_t()-Er?(je&2)===0&&ls(e,0):Qo|=a,ns===pe&&(ns=0)),aa(e)}function _f(e,t){t===0&&(t=gc()),e=ln(e,t),e!==null&&(Ts(e,t),aa(e))}function cy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_f(e,a)}function dy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),_f(e,a)}function hy(e,t){return mi(e,t)}var Rr=null,is=null,nu=!1,Ur=!1,su=!1,Va=0;function aa(e){e!==is&&e.next===null&&(is===null?Rr=is=e:is=is.next=e),Ur=!0,nu||(nu=!0,my())}function il(e,t){if(!su&&Ur){su=!0;do for(var a=!1,s=Rr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-jt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Nf(s,u))}else u=pe,u=ql(s,s===ze?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Ns(s,u)||(a=!0,Nf(s,u));s=s.next}while(a);su=!1}}function fy(){Sf()}function Sf(){Ur=nu=!1;var e=0;Va!==0&&jy()&&(e=Va);for(var t=_t(),a=null,s=Rr;s!==null;){var o=s.next,u=jf(s,t);u===0?(s.next=null,a===null?Rr=o:a.next=o,o===null&&(is=a)):(a=s,(e!==0||(u&3)!==0)&&(Ur=!0)),s=o}We!==0&&We!==5||il(e),Va!==0&&(Va=0)}function jf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-jt(u),v=1<<m,x=o[m];x===-1?((v&a)===0||(v&s)!==0)&&(o[m]=$g(v,t)):x<=t&&(e.expiredLanes|=v),u&=~v}if(t=ze,a=pe,a=ql(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&gi(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ns(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&gi(s),vi(a)){case 2:case 8:a=fc;break;case 32:a=Ul;break;case 268435456:a=mc;break;default:a=Ul}return s=Ef.bind(null,e),a=mi(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&gi(s),e.callbackPriority=2,e.callbackNode=null,2}function Ef(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cr()&&e.callbackNode!==a)return null;var s=pe;return s=ql(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(lf(e,s,t),jf(e,_t()),e.callbackNode!=null&&e.callbackNode===a?Ef.bind(null,e):null)}function Nf(e,t){if(Cr())return null;lf(e,t,!0)}function my(){Ny(function(){(je&6)!==0?mi(hc,fy):Sf()})}function lu(){if(Va===0){var e=In;e===0&&(e=Dl,Dl<<=1,(Dl&261888)===0&&(Dl=256)),Va=e}return Va}function Tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hl(""+e)}function Af(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gy(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Tf((o[gt]||null).action),m=s.submitter;m&&(t=(t=m[gt]||null)?Tf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new Kl("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Va!==0){var x=m?Af(o,m):new FormData(o);Eo(a,{pending:!0,data:x,method:o.method,action:u},null,x)}}else typeof u=="function"&&(v.preventDefault(),x=m?Af(o,m):new FormData(o),Eo(a,{pending:!0,data:x,method:o.method,action:u},u,x))},currentTarget:o}]})}}for(var ru=0;ru<Hi.length;ru++){var iu=Hi[ru],yy=iu.toLowerCase(),py=iu[0].toUpperCase()+iu.slice(1);Jt(yy,"on"+py)}Jt(sd,"onAnimationEnd"),Jt(ld,"onAnimationIteration"),Jt(rd,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(U0,"onTransitionRun"),Jt(D0,"onTransitionStart"),Jt(z0,"onTransitionCancel"),Jt(id,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Of(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var v=s[m],x=v.instance,k=v.currentTarget;if(v=v.listener,x!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch($){Xl($)}o.currentTarget=null,u=x}else for(m=0;m<s.length;m++){if(v=s[m],x=v.instance,k=v.currentTarget,v=v.listener,x!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch($){Xl($)}o.currentTarget=null,u=x}}}}function ye(e,t){var a=t[bi];a===void 0&&(a=t[bi]=new Set);var s=e+"__bubble";a.has(s)||(kf(t,e,2,!1),a.add(s))}function ou(e,t,a){var s=0;t&&(s|=4),kf(a,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function uu(e){if(!e[Dr]){e[Dr]=!0,_c.forEach(function(a){a!=="selectionchange"&&(vy.has(a)||ou(a,!1,e),ou(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,ou("selectionchange",!1,t))}}function kf(e,t,a,s){switch(lm(t)){case 2:var o=Iy;break;case 8:o=Jy;break;default:o=ju}a=o.bind(null,t,a,e),o=void 0,!Ai||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function cu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var v=s.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=s.return;m!==null;){var x=m.tag;if((x===3||x===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=On(v),m===null)return;if(x=m.tag,x===5||x===6||x===26||x===27){s=u=m;continue e}v=v.parentNode}}s=s.return}Dc(function(){var k=u,$=Ni(a),Y=[];e:{var R=od.get(e);if(R!==void 0){var D=Kl,W=e;switch(e){case"keypress":if(Vl(a)===0)break e;case"keydown":case"keyup":D=d0;break;case"focusin":W="focus",D=Ri;break;case"focusout":W="blur",D=Ri;break;case"beforeblur":case"afterblur":D=Ri;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=m0;break;case sd:case ld:case rd:D=a0;break;case id:D=y0;break;case"scroll":case"scrollend":D=Pg;break;case"wheel":D=v0;break;case"copy":case"cut":case"paste":D=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Bc;break;case"toggle":case"beforetoggle":D=w0}var ne=(t&4)!==0,Re=!ne&&(e==="scroll"||e==="scrollend"),T=ne?R!==null?R+"Capture":null:R;ne=[];for(var S=k,O;S!==null;){var G=S;if(O=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||O===null||T===null||(G=ks(S,T),G!=null&&ne.push(ul(S,G,O))),Re)break;S=S.return}0<ne.length&&(R=new D(R,W,null,a,$),Y.push({event:R,listeners:ne}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==Ei&&(W=a.relatedTarget||a.fromElement)&&(On(W)||W[An]))break e;if((D||R)&&(R=$.window===$?$:(R=$.ownerDocument)?R.defaultView||R.parentWindow:window,D?(W=a.relatedTarget||a.toElement,D=k,W=W?On(W):null,W!==null&&(Re=d(W),ne=W.tag,W!==Re||ne!==5&&ne!==27&&ne!==6)&&(W=null)):(D=null,W=k),D!==W)){if(ne=qc,G="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Bc,G="onPointerLeave",T="onPointerEnter",S="pointer"),Re=D==null?R:Os(D),O=W==null?R:Os(W),R=new ne(G,S+"leave",D,a,$),R.target=Re,R.relatedTarget=O,G=null,On($)===k&&(ne=new ne(T,S+"enter",W,a,$),ne.target=O,ne.relatedTarget=Re,G=ne),Re=G,D&&W)t:{for(ne=by,T=D,S=W,O=0,G=T;G;G=ne(G))O++;G=0;for(var ae=S;ae;ae=ne(ae))G++;for(;0<O-G;)T=ne(T),O--;for(;0<G-O;)S=ne(S),G--;for(;O--;){if(T===S||S!==null&&T===S.alternate){ne=T;break t}T=ne(T),S=ne(S)}ne=null}else ne=null;D!==null&&Cf(Y,R,D,ne,!1),W!==null&&Re!==null&&Cf(Y,Re,W,ne,!0)}}e:{if(R=k?Os(k):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var xe=Jc;else if(Kc(R))if(Xc)xe=k0;else{xe=A0;var ee=T0}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?k&&ji(k.elementType)&&(xe=Jc):xe=O0;if(xe&&(xe=xe(e,k))){Ic(Y,xe,a,$);break e}ee&&ee(e,R,k),e==="focusout"&&k&&R.type==="number"&&k.memoizedProps.value!=null&&Si(R,"number",R.value)}switch(ee=k?Os(k):window,e){case"focusin":(Kc(ee)||ee.contentEditable==="true")&&(Ln=ee,Li=k,Ls=null);break;case"focusout":Ls=Li=Ln=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,ad(Y,a,$);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":ad(Y,a,$)}var he;if(Di)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else qn?Vc(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&($c&&a.locale!=="ko"&&(qn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&qn&&(he=zc()):(Ta=$,Oi="value"in Ta?Ta.value:Ta.textContent,qn=!0)),ee=zr(k,ve),0<ee.length&&(ve=new Lc(ve,e,null,a,$),Y.push({event:ve,listeners:ee}),he?ve.data=he:(he=Yc(a),he!==null&&(ve.data=he)))),(he=_0?S0(e,a):j0(e,a))&&(ve=zr(k,"onBeforeInput"),0<ve.length&&(ee=new Lc("onBeforeInput","beforeinput",null,a,$),Y.push({event:ee,listeners:ve}),ee.data=he)),gy(Y,e,k,a,$)}Of(Y,t)})}function ul(e,t,a){return{instance:e,listener:t,currentTarget:a}}function zr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ks(e,a),o!=null&&s.unshift(ul(e,o,u)),o=ks(e,t),o!=null&&s.push(ul(e,o,u))),e.tag===3)return s;e=e.return}return[]}function by(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cf(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var v=a,x=v.alternate,k=v.stateNode;if(v=v.tag,x!==null&&x===s)break;v!==5&&v!==26&&v!==27||k===null||(x=k,o?(k=ks(a,u),k!=null&&m.unshift(ul(a,k,x))):o||(k=ks(a,u),k!=null&&m.push(ul(a,k,x)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var wy=/\r\n?/g,xy=/\u0000|\uFFFD/g;function Rf(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(xy,"")}function Uf(e,t){return t=Rf(t),Rf(e)===t}function Ce(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Dn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Dn(e,""+s);break;case"className":Bl(e,"class",s);break;case"tabIndex":Bl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,a,s);break;case"style":Rc(e,s,u);break;case"data":if(t!=="object"){Bl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=la);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Hl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Ll(e,"popover",s);break;case"xlinkActuate":sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":sa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":sa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":sa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":sa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ll(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qg.get(a)||a,Ll(e,a,s))}}function du(e,t,a,s,o,u){switch(a){case"style":Rc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Dn(e,s):(typeof s=="number"||typeof s=="bigint")&&Dn(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=la);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[gt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ll(e,a,s)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,u,m,a,null)}}o&&Ce(e,t,"srcSet",a.srcSet,a,null),s&&Ce(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var v=u=m=o=null,x=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":o=$;break;case"type":m=$;break;case"checked":x=$;break;case"defaultChecked":k=$;break;case"value":u=$;break;case"defaultValue":v=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:Ce(e,t,s,$,a,null)}}Ac(e,u,v,x,k,m,o,!1);return;case"select":ye("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":s=v;default:Ce(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!s,t!=null?Un(e,!!s,t,!1):a!=null&&Un(e,!!s,a,!0);return;case"textarea":ye("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Ce(e,t,m,v,a,null)}kc(e,s,o,u);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(s=a[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ce(e,t,x,s,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<ol.length;s++)ye(ol[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,k,s,a,null)}return;default:if(ji(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&du(e,t,$,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Ce(e,t,v,s,a,null))}function _y(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,x=null,k=null,$=null;for(D in a){var Y=a[D];if(a.hasOwnProperty(D)&&Y!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=Y;default:s.hasOwnProperty(D)||Ce(e,t,D,null,s,Y)}}for(var R in s){var D=s[R];if(Y=a[R],s.hasOwnProperty(R)&&(D!=null||Y!=null))switch(R){case"type":u=D;break;case"name":o=D;break;case"checked":k=D;break;case"defaultChecked":$=D;break;case"value":m=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:D!==Y&&Ce(e,t,R,D,s,Y)}}_i(e,m,v,x,k,$,u,o);return;case"select":D=m=v=R=null;for(u in a)if(x=a[u],a.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":D=x;default:s.hasOwnProperty(u)||Ce(e,t,u,null,s,x)}for(o in s)if(u=s[o],x=a[o],s.hasOwnProperty(o)&&(u!=null||x!=null))switch(o){case"value":R=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==x&&Ce(e,t,o,u,s,x)}t=v,a=m,s=D,R!=null?Un(e,!!a,R,!1):!!s!=!!a&&(t!=null?Un(e,!!a,t,!0):Un(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ce(e,t,v,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&Ce(e,t,m,o,s,u)}Oc(e,R,D);return;case"option":for(var W in a)if(R=a[W],a.hasOwnProperty(W)&&R!=null&&!s.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ce(e,t,W,null,s,R)}for(x in s)if(R=s[x],D=a[x],s.hasOwnProperty(x)&&R!==D&&(R!=null||D!=null))switch(x){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ce(e,t,x,R,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)R=a[ne],a.hasOwnProperty(ne)&&R!=null&&!s.hasOwnProperty(ne)&&Ce(e,t,ne,null,s,R);for(k in s)if(R=s[k],D=a[k],s.hasOwnProperty(k)&&R!==D&&(R!=null||D!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,t));break;default:Ce(e,t,k,R,s,D)}return;default:if(ji(t)){for(var Re in a)R=a[Re],a.hasOwnProperty(Re)&&R!==void 0&&!s.hasOwnProperty(Re)&&du(e,t,Re,void 0,s,R);for($ in s)R=s[$],D=a[$],!s.hasOwnProperty($)||R===D||R===void 0&&D===void 0||du(e,t,$,R,s,D);return}}for(var T in a)R=a[T],a.hasOwnProperty(T)&&R!=null&&!s.hasOwnProperty(T)&&Ce(e,t,T,null,s,R);for(Y in s)R=s[Y],D=a[Y],!s.hasOwnProperty(Y)||R===D||R==null&&D==null||Ce(e,t,Y,R,s,D)}function Df(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&Df(m)){for(m=0,v=o.responseEnd,s+=1;s<a.length;s++){var x=a[s],k=x.startTime;if(k>v)break;var $=x.transferSize,Y=x.initiatorType;$&&Df(Y)&&(x=x.responseEnd,m+=$*(x<v?1:(v-k)/(x-k)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,fu=null;function Mr(e){return e.nodeType===9?e:e.ownerDocument}function zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function jy(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var qf=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(Ty)}:qf;function Ty(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Bf(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),ds(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[As]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&cl(e.ownerDocument.body);a=o}while(a);ds(t)}function $f(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yu(a),wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ay(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[As])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Oy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Hf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function pu(e){return e.data==="$?"||e.data==="$~"}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ky(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bu=null;function Gf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Yf(e,t,a){switch(t=Mr(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wi(e)}var Yt=new Map,Kf=new Set;function qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=X.d;X.d={f:Cy,r:Ry,D:Uy,C:Dy,L:zy,m:My,X:Ly,S:qy,M:By};function Cy(){var e=xa.f(),t=Ar();return e||t}function Ry(e){var t=kn(e);t!==null&&t.tag===5&&t.type==="form"?ih(t):xa.r(e)}var os=typeof document>"u"?null:document;function If(e,t,a){var s=os;if(s&&typeof t=="string"&&t){var o=Mt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Kf.has(o)||(Kf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),it(t,"link",e),et(t),s.head.appendChild(t)))}}function Uy(e){xa.D(e),If("dns-prefetch",e,null)}function Dy(e,t){xa.C(e,t),If("preconnect",e,t)}function zy(e,t,a){xa.L(e,t,a);var s=os;if(s&&e&&t){var o='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Mt(a.imageSizes)+'"]')):o+='[href="'+Mt(e)+'"]';var u=o;switch(t){case"style":u=us(e);break;case"script":u=cs(e)}Yt.has(u)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(dl(u))||t==="script"&&s.querySelector(hl(u))||(t=s.createElement("link"),it(t,"link",e),et(t),s.head.appendChild(t)))}}function My(e,t){xa.m(e,t);var a=os;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=cs(e)}if(!Yt.has(u)&&(e=w({rel:"modulepreload",href:e},t),Yt.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(u)))return}s=a.createElement("link"),it(s,"link",e),et(s),a.head.appendChild(s)}}}function qy(e,t,a){xa.S(e,t,a);var s=os;if(s&&e){var o=Cn(s).hoistableStyles,u=us(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=s.querySelector(dl(u)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(u))&&wu(e,a);var x=m=s.createElement("link");et(x),it(x,"link",e),x._p=new Promise(function(k,$){x.onload=k,x.onerror=$}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Lr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function Ly(e,t){xa.X(e,t);var a=os;if(a&&e){var s=Cn(a).hoistableScripts,o=cs(e),u=s.get(o);u||(u=a.querySelector(hl(o)),u||(e=w({src:e,async:!0},t),(t=Yt.get(o))&&xu(e,t),u=a.createElement("script"),et(u),it(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function By(e,t){xa.M(e,t);var a=os;if(a&&e){var s=Cn(a).hoistableScripts,o=cs(e),u=s.get(o);u||(u=a.querySelector(hl(o)),u||(e=w({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&xu(e,t),u=a.createElement("script"),et(u),it(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Jf(e,t,a,s){var o=(o=me.current)?qr(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=us(a.href),a=Cn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=us(a.href);var u=Cn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(dl(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),u||$y(o,e,a,m.state))),t&&s===null)throw Error(i(528,""));return m}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cs(a),a=Cn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function us(e){return'href="'+Mt(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function Xf(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),it(t,"link",a),et(t),e.head.appendChild(t))}function cs(e){return'[src="'+Mt(e)+'"]'}function hl(e){return"script[async]"+e}function Qf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(s)return t.instance=s,et(s),s;var o=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),it(s,"style",o),Lr(s,a.precedence,e),t.instance=s;case"stylesheet":o=us(a.href);var u=e.querySelector(dl(o));if(u)return t.state.loading|=4,t.instance=u,et(u),u;s=Xf(a),(o=Yt.get(o))&&wu(s,o),u=(e.ownerDocument||e).createElement("link"),et(u);var m=u;return m._p=new Promise(function(v,x){m.onload=v,m.onerror=x}),it(u,"link",s),t.state.loading|=4,Lr(u,a.precedence,e),t.instance=u;case"script":return u=cs(a.src),(o=e.querySelector(hl(u)))?(t.instance=o,et(o),o):(s=a,(o=Yt.get(u))&&(s=w({},a),xu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),it(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Lr(s,a.precedence,e));return t.instance}function Lr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var v=s[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function Zf(e,t,a){if(Br===null){var s=new Map,o=Br=new Map;o.set(a,s)}else o=Br,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[As]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=s.get(m);v?v.push(u):s.set(m,[u])}}return s}function Pf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Hy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=us(s.href),u=t.querySelector(dl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$r.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,et(u);return}u=t.ownerDocument||t,s=Xf(s),(o=Yt.get(o))&&wu(s,o),u=u.createElement("link"),et(u);var m=u;m._p=new Promise(function(v,x){m.onload=v,m.onerror=x}),it(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=$r.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var _u=0;function Vy(e,t){return e.stylesheets&&e.count===0&&Gr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*Sy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function $r(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hr=null;function Gr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hr=new Map,t.forEach(Yy,e),Hr=null,$r.call(e))}function Yy(e,t){if(!(t.state.loading&4)){var a=Hr.get(e);if(a)var s=a.get(null);else{a=new Map,Hr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=$r.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var fl={$$typeof:U,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Ky(e,t,a,s,o,u,m,v,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ff(e,t,a,s,o,u,m,v,x,k,$,Y){return e=new Ky(e,t,a,m,x,k,$,Y,v),t=1,u===!0&&(t|=24),u=Nt(3,null,null,t),e.current=u,u.stateNode=e,t=eo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},so(u),e}function em(e){return e?(e=Hn,e):Hn}function tm(e,t,a,s,o,u){o=em(o),s.context===null?s.context=o:s.pendingContext=o,s=Ua(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Da(e,s,t),a!==null&&(xt(a,e,t),Ks(a,e,t))}function am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Su(e,t){am(e,t),(e=e.alternate)&&am(e,t)}function nm(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&xt(t,e,67108864),Su(e,67108864)}}function sm(e){if(e.tag===13||e.tag===31){var t=Ct();t=pi(t);var a=ln(e,t);a!==null&&xt(a,e,t),Su(e,t)}}var Vr=!0;function Iy(e,t,a,s){var o=H.T;H.T=null;var u=X.p;try{X.p=2,ju(e,t,a,s)}finally{X.p=u,H.T=o}}function Jy(e,t,a,s){var o=H.T;H.T=null;var u=X.p;try{X.p=8,ju(e,t,a,s)}finally{X.p=u,H.T=o}}function ju(e,t,a,s){if(Vr){var o=Eu(s);if(o===null)cu(e,t,s,Yr,a),rm(e,s);else if(Qy(o,e,t,a,s))s.stopPropagation();else if(rm(e,s),t&4&&-1<Xy.indexOf(e)){for(;o!==null;){var u=kn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=en(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var x=1<<31-jt(m);v.entanglements[1]|=x,m&=~x}aa(u),(je&6)===0&&(Nr=_t()+500,il(0))}}break;case 31:case 13:v=ln(u,2),v!==null&&xt(v,u,2),Ar(),Su(u,2)}if(u=Eu(s),u===null&&cu(e,t,s,Yr,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else cu(e,t,s,null,a)}}function Eu(e){return e=Ni(e),Nu(e)}var Yr=null;function Nu(e){if(Yr=null,e=On(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yr=e,null}function lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ug()){case hc:return 2;case fc:return 8;case Ul:case Dg:return 32;case mc:return 268435456;default:return 32}default:return 32}}var Tu=!1,Ka=null,Ia=null,Ja=null,ml=new Map,gl=new Map,Xa=[],Xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function yl(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=kn(t),t!==null&&nm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Qy(e,t,a,s,o){switch(t){case"focusin":return Ka=yl(Ka,e,t,a,s,o),!0;case"dragenter":return Ia=yl(Ia,e,t,a,s,o),!0;case"mouseover":return Ja=yl(Ja,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return ml.set(u,yl(ml.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,gl.set(u,yl(gl.get(u)||null,e,t,a,s,o)),!0}return!1}function im(e){var t=On(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,wc(e.priority,function(){sm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,wc(e.priority,function(){sm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Eu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ei=s,a.target.dispatchEvent(s),Ei=null}else return t=kn(a),t!==null&&nm(t),e.blockedOn=a,!1;t.shift()}return!0}function om(e,t,a){Kr(e)&&a.delete(t)}function Zy(){Tu=!1,Ka!==null&&Kr(Ka)&&(Ka=null),Ia!==null&&Kr(Ia)&&(Ia=null),Ja!==null&&Kr(Ja)&&(Ja=null),ml.forEach(om),gl.forEach(om)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Tu||(Tu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Zy)))}var Jr=null;function um(e){Jr!==e&&(Jr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Jr===e&&(Jr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Nu(s||a)===null)continue;break}var u=kn(a);u!==null&&(e.splice(t,3),t-=3,Eo(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function ds(e){function t(x){return Ir(x,e)}Ka!==null&&Ir(Ka,e),Ia!==null&&Ir(Ia,e),Ja!==null&&Ir(Ja,e),ml.forEach(t),gl.forEach(t);for(var a=0;a<Xa.length;a++){var s=Xa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)im(a),a.blockedOn===null&&Xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[gt]||null;if(typeof u=="function")m||um(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[gt]||null)v=m.formAction;else if(Nu(o)!==null)continue}else v=m.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),um(a)}}}function cm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Au(e){this._internalRoot=e}Xr.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,s=Ct();tm(a,s,e,t,null,null)},Xr.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),Ar(),t[An]=null}};function Xr(e){this._internalRoot=e}Xr.prototype.unstable_scheduleHydration=function(e){if(e){var t=bc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xa.length&&t!==0&&t<Xa[a].priority;a++);Xa.splice(a,0,e),a===0&&im(e)}};var dm=n.version;if(dm!=="19.2.3")throw Error(i(527,dm,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Py={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qr.isDisabled&&Qr.supportsFiber)try{Es=Qr.inject(Py),St=Qr}catch{}}return vl.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,s="",o=ph,u=vh,m=bh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Ff(e,1,!1,null,null,a,s,null,o,u,m,cm),e[An]=t.current,uu(e),new Au(t)},vl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var s=!1,o="",u=ph,m=vh,v=bh,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=Ff(e,1,!0,t,a??null,s,o,x,u,m,v,cm),t.context=em(null),a=t.current,s=Ct(),s=pi(s),o=Ua(s),o.callback=null,Da(a,o,s),a=s,t.current.lanes=a,Ts(t,a),aa(t),e[An]=t.current,uu(e),new Xr(t)},vl.version="19.2.3",vl}var xm;function op(){if(xm)return Cu.exports;xm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Cu.exports=ip(),Cu.exports}var up=op();const cp=eg(up),dp="onesignal-sdk",hp="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js";let _m=!1,ct=!1;typeof window<"u"&&(window.OneSignalDeferred=window.OneSignalDeferred||[],mp());function fp(){ct=!0}function mp(){const l=document.createElement("script");l.id=dp,l.defer=!0,l.src=hp,l.onerror=()=>{fp()},document.head.appendChild(l)}function gp(){return vp()||pp()}function yp(){return window.top!==window&&navigator.vendor==="Apple Computer, Inc."&&navigator.platform==="MacIntel"}function pp(){return window.safari&&typeof window.safari.pushNotification<"u"||yp()}function vp(){return typeof PushSubscriptionOptions<"u"&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")}const bp=()=>gp(),wp=l=>{var n;return _m?Promise.reject("OneSignal is already initialized."):!l||!l.appId?Promise.reject("You need to provide your OneSignal appId."):document?(((n=l.welcomeNotification)==null?void 0:n.disabled)!==void 0&&(l.welcomeNotification.disable=l.welcomeNotification.disabled),new Promise((r,i)=>{var c;(c=window.OneSignalDeferred)==null||c.push(d=>{d.init(l).then(()=>{_m=!0,r()}).catch(i)})})):Promise.reject("Document is not defined.")};function xp(l,n){return new Promise((r,i)=>{var c;if(ct){i(new Error("OneSignal script failed to load."));return}(c=window.OneSignalDeferred)==null||c.push(d=>{d.login(l,n).then(()=>r()).catch(f=>i(f))})})}function _p(){return new Promise((l,n)=>{var r;if(ct){n(new Error("OneSignal script failed to load."));return}(r=window.OneSignalDeferred)==null||r.push(i=>{i.logout().then(()=>l()).catch(c=>n(c))})})}function Sp(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.setConsentGiven(l).then(()=>n()).catch(d=>r(d))})})}function jp(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.setConsentRequired(l).then(()=>n()).catch(d=>r(d))})})}function Ep(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Slidedown.promptPush(l).then(()=>n()).catch(d=>r(d))})})}function Np(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Slidedown.promptPushCategories(l).then(()=>n()).catch(d=>r(d))})})}function Tp(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Slidedown.promptSms(l).then(()=>n()).catch(d=>r(d))})})}function Ap(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Slidedown.promptEmail(l).then(()=>n()).catch(d=>r(d))})})}function Op(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Slidedown.promptSmsAndEmail(l).then(()=>n()).catch(d=>r(d))})})}function kp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.Slidedown.addEventListener(l,n)})}function Cp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.Slidedown.removeEventListener(l,n)})}function Rp(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Notifications.setDefaultUrl(l).then(()=>n()).catch(d=>r(d))})})}function Up(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Notifications.setDefaultTitle(l).then(()=>n()).catch(d=>r(d))})})}function Dp(){return new Promise((l,n)=>{var r;if(ct){n(new Error("OneSignal script failed to load."));return}(r=window.OneSignalDeferred)==null||r.push(i=>{i.Notifications.requestPermission().then(c=>l(c)).catch(c=>n(c))})})}function zp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.Notifications.addEventListener(l,n)})}function Mp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.Notifications.removeEventListener(l,n)})}function qp(l,n){return new Promise((r,i)=>{var c;if(ct){i(new Error("OneSignal script failed to load."));return}(c=window.OneSignalDeferred)==null||c.push(d=>{d.Session.sendOutcome(l,n).then(()=>r()).catch(f=>i(f))})})}function Lp(l){return new Promise((n,r)=>{var i;if(ct){r(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(c=>{c.Session.sendUniqueOutcome(l).then(()=>n()).catch(d=>r(d))})})}function Bp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.addAlias(l,n)})}function $p(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.addAliases(l)})}function Hp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeAlias(l)})}function Gp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeAliases(l)})}function Vp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.addEmail(l)})}function Yp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeEmail(l)})}function Kp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.addSms(l)})}function Ip(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeSms(l)})}function Jp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.addTag(l,n)})}function Xp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.addTags(l)})}function Qp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeTag(l)})}function Zp(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.removeTags(l)})}async function Pp(){var l;let n;return await((l=window.OneSignalDeferred)==null?void 0:l.push(r=>{n=r.User.getTags()})),n}function Wp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.addEventListener(l,n)})}function Fp(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.removeEventListener(l,n)})}function ev(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.User.setLanguage(l)})}async function tv(){var l;let n;return await((l=window.OneSignalDeferred)==null?void 0:l.push(r=>{n=r.User.getLanguage()})),n}function av(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.trackEvent(l,n)})}function nv(){return new Promise((l,n)=>{var r;if(ct){n(new Error("OneSignal script failed to load."));return}(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.PushSubscription.optIn().then(()=>l()).catch(c=>n(c))})})}function sv(){return new Promise((l,n)=>{var r;if(ct){n(new Error("OneSignal script failed to load."));return}(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.PushSubscription.optOut().then(()=>l()).catch(c=>n(c))})})}function lv(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.PushSubscription.addEventListener(l,n)})}function rv(l,n){var r;(r=window.OneSignalDeferred)==null||r.push(i=>{i.User.PushSubscription.removeEventListener(l,n)})}function iv(l){var n;(n=window.OneSignalDeferred)==null||n.push(r=>{r.Debug.setLogLevel(l)})}const ov={get id(){var l,n,r;return(r=(n=(l=window.OneSignal)==null?void 0:l.User)==null?void 0:n.PushSubscription)==null?void 0:r.id},get token(){var l,n,r;return(r=(n=(l=window.OneSignal)==null?void 0:l.User)==null?void 0:n.PushSubscription)==null?void 0:r.token},get optedIn(){var l,n,r;return(r=(n=(l=window.OneSignal)==null?void 0:l.User)==null?void 0:n.PushSubscription)==null?void 0:r.optedIn},optIn:nv,optOut:sv,addEventListener:lv,removeEventListener:rv},uv={get onesignalId(){var l,n;return(n=(l=window.OneSignal)==null?void 0:l.User)==null?void 0:n.onesignalId},get externalId(){var l,n;return(n=(l=window.OneSignal)==null?void 0:l.User)==null?void 0:n.externalId},addAlias:Bp,addAliases:$p,removeAlias:Hp,removeAliases:Gp,addEmail:Vp,removeEmail:Yp,addSms:Kp,removeSms:Ip,addTag:Jp,addTags:Xp,removeTag:Qp,removeTags:Zp,getTags:Pp,addEventListener:Wp,removeEventListener:Fp,setLanguage:ev,getLanguage:tv,trackEvent:av,PushSubscription:ov},cv={sendOutcome:qp,sendUniqueOutcome:Lp},dv={setLogLevel:iv},hv={promptPush:Ep,promptPushCategories:Np,promptSms:Tp,promptEmail:Ap,promptSmsAndEmail:Op,addEventListener:kp,removeEventListener:Cp},fv={get permissionNative(){var l,n;return((n=(l=window.OneSignal)==null?void 0:l.Notifications)==null?void 0:n.permissionNative)??"default"},get permission(){var l,n;return((n=(l=window.OneSignal)==null?void 0:l.Notifications)==null?void 0:n.permission)??!1},setDefaultUrl:Rp,setDefaultTitle:Up,isPushSupported:bp,requestPermission:Dp,addEventListener:zp,removeEventListener:Mp},mv={login:xp,logout:_p,init:wp,setConsentGiven:Sp,setConsentRequired:jp,Slidedown:hv,Notifications:fv,Session:cv,User:uv,Debug:dv},jn=mv;var Ee=(l=>(l.COMMUNITY="COMMUNITY",l.CHATS="CHATS",l.DISCOVER="DISCOVER",l.PROFILE="PROFILE",l.NOTIFICATIONS="NOTIFICATIONS",l.NEW_POST="NEW_POST",l.SETTINGS="SETTINGS",l.EDIT_PROFILE="EDIT_PROFILE",l.COMMENTS="COMMENTS",l))(Ee||{}),Ue=(l=>(l.GASTRONOMIA="gastronomia",l.FIESTA="fiesta",l.ALOJAMIENTO="alojamiento",l.CULTURA="cultura",l.GENERAL="general",l))(Ue||{});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yv=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),Sm=l=>{const n=yv(l);return n.charAt(0).toUpperCase()+n.slice(1)},tg=(...l)=>l.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim(),pv=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=K.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:f,...g},y)=>K.createElement("svg",{ref:y,...vv,width:n,height:n,stroke:l,strokeWidth:i?Number(r)*24/Number(n):r,className:tg("lucide",c),...!d&&!pv(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,b])=>K.createElement(p,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(l,n)=>{const r=K.forwardRef(({className:i,...c},d)=>K.createElement(bv,{ref:d,iconNode:n,className:tg(`lucide-${gv(Sm(l))}`,`lucide-${l}`,i),...c}));return r.displayName=Sm(l),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],na=fe("arrow-left",wv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ag=fe("bell",xv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ng=fe("camera",_v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kl=fe("check",Sv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wa=fe("chevron-down",jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nv=fe("chevron-left",Ev);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_a=fe("chevron-right",Tv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ov=fe("circle-alert",Av);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cv=fe("circle-question-mark",kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],sg=fe("coins",Rv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dv=fe("compass",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Mv=fe("ellipsis-vertical",zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lv=fe("file-text",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ni=fe("globe",Bv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_l=fe("heart",$v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gv=fe("image",Hv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kt=fe("loader-circle",Vv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kv=fe("lock",Yv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jv=fe("log-out",Iv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qv=fe("mail",Xv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tn=fe("map-pin",Zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],si=fe("message-circle",Pv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],Fv=fe("message-square-text",Wv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tb=fe("message-square",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nb=fe("plus",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lg=fe("search",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rg=fe("send",lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ib=fe("settings",rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ub=fe("share-2",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jm=fe("shield",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ig=fe("sparkles",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nc=fe("trash-2",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],og=fe("triangle-alert",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gb=fe("user-check",mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ug=fe("user-plus",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sc=fe("user",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cg=fe("users",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nn=fe("x",bb),wb=({currentView:l,onChange:n,hasUnreadMessages:r})=>{const i=[{id:Ee.COMMUNITY,icon:cg,label:"Comunidad"},{id:Ee.CHATS,icon:Fv,label:"Chats"},{id:Ee.DISCOVER,icon:Dv,label:"Descubrir"},{id:Ee.PROFILE,icon:sc,label:"Perfil"}];return h.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 glass-nav pb-safe-area",children:h.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto px-2",children:i.map(c=>{const d=l===c.id;return h.jsxs("button",{onClick:()=>n(c.id),className:`
                flex flex-col items-center justify-center w-full h-full gap-1
                transition-all duration-300 active:scale-95
              `,children:[h.jsxs("div",{className:`
                relative p-1.5 rounded-xl transition-all duration-300
                ${d?"bg-white/10 text-eras-yellow shadow-[0_0_15px_rgba(255,181,0,0.3)]":"text-gray-400"}
              `,children:[h.jsx(c.icon,{className:`w-6 h-6 ${d?"stroke-[2.5px]":"stroke-2"}`}),c.id===Ee.CHATS&&r&&h.jsx("div",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-eras-yellow rounded-full border-2 border-[#121212] z-10"})]}),h.jsx("span",{className:`text-[10px] font-medium transition-colors ${d?"text-white":"text-gray-500"}`,children:c.label})]},c.id)})})})};function li(l,n){var r={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(r[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(r[i[c]]=l[i[c]]);return r}function xb(l,n,r,i){function c(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(b){try{p(i.next(b))}catch(w){f(w)}}function y(b){try{p(i.throw(b))}catch(w){f(w)}}function p(b){b.done?d(b.value):c(b.value).then(g,y)}p((i=i.apply(l,n||[])).next())})}const _b=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);class lc extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class Sb extends lc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Em extends lc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Nm extends lc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Yu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Yu||(Yu={}));class jb{constructor(n,{headers:r={},customFetch:i,region:c=Yu.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=_b(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return xb(this,arguments,void 0,function*(r,i={}){var c;let d,f;try{const{headers:g,method:y,body:p,signal:b,timeout:w}=i;let _={},{region:E}=i;E||(E=this.region);const N=new URL(`${this.url}/${r}`);E&&E!=="any"&&(_["x-region"]=E,N.searchParams.set("forceFunctionRegion",E));let A;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(_["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(_["Content-Type"]="application/json",A=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?A=JSON.stringify(p):A=p;let z=b;w&&(f=new AbortController,d=setTimeout(()=>f.abort(),w),b?(z=f.signal,b.addEventListener("abort",()=>f.abort())):z=f.signal);const M=yield this.fetch(N.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),g),body:A,signal:z}).catch(Z=>{throw new Sb(Z)}),B=M.headers.get("x-relay-error");if(B&&B==="true")throw new Em(M);if(!M.ok)throw new Nm(M);let U=((c=M.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return U==="application/json"?V=yield M.json():U==="application/octet-stream"||U==="application/pdf"?V=yield M.blob():U==="text/event-stream"?V=M:U==="multipart/form-data"?V=yield M.formData():V=yield M.text(),{data:V,error:null,response:M}}catch(g){return{data:null,error:g,response:g instanceof Nm||g instanceof Em?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var Eb=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Nb=class{constructor(l){var n,r;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(n=l.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=l.signal,this.isMaybeSingle=(r=l.isMaybeSingle)!==null&&r!==void 0?r:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,n){return this.headers=new Headers(this.headers),this.headers.set(l,n),this}then(l,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,y=null,p=d.status,b=d.statusText;if(d.ok){var w,_;if(r.method!=="HEAD"){var E;const M=await d.text();M===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?g=M:g=JSON.parse(M))}const A=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),z=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");A&&z&&z.length>1&&(y=parseInt(z[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var N;const A=await d.text();try{f=JSON.parse(A),Array.isArray(f)&&d.status===404&&(g=[],f=null,p=200,b="OK")}catch{d.status===404&&A===""?(p=204,b="No Content"):f={message:A}}if(f&&r.isMaybeSingle&&(!(f==null||(N=f.details)===null||N===void 0)&&N.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&r.shouldThrowOnError)throw new Eb(f)}return{error:f,data:g,count:y,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let g="";const y=d==null?void 0:d.cause;if(y){var p,b,w,_;const N=(p=y==null?void 0:y.message)!==null&&p!==void 0?p:"",A=(b=y==null?void 0:y.code)!==null&&b!==void 0?b:"";g=`${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"FetchError"}: ${d==null?void 0:d.message}`,g+=`

Caused by: ${(_=y==null?void 0:y.name)!==null&&_!==void 0?_:"Error"}: ${N}`,A&&(g+=` (${A})`),y!=null&&y.stack&&(g+=`
${y.stack}`)}else{var E;g=(E=d==null?void 0:d.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,n)}returns(){return this}overrideTypes(){return this}},Tb=class extends Nb{select(l){let n=!1;const r=(l??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:c=i}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${l}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${l}`),this}range(l,n,{foreignTable:r,referencedTable:i=r}={}){const c=typeof i>"u"?"offset":`${i}.offset`,d=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(d,`${n-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:c=!1,format:d="text"}={}){var f;const g=[l?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Tm=new RegExp("[,()]");var bs=class extends Tb{eq(l,n){return this.url.searchParams.append(l,`eq.${n}`),this}neq(l,n){return this.url.searchParams.append(l,`neq.${n}`),this}gt(l,n){return this.url.searchParams.append(l,`gt.${n}`),this}gte(l,n){return this.url.searchParams.append(l,`gte.${n}`),this}lt(l,n){return this.url.searchParams.append(l,`lt.${n}`),this}lte(l,n){return this.url.searchParams.append(l,`lte.${n}`),this}like(l,n){return this.url.searchParams.append(l,`like.${n}`),this}likeAllOf(l,n){return this.url.searchParams.append(l,`like(all).{${n.join(",")}}`),this}likeAnyOf(l,n){return this.url.searchParams.append(l,`like(any).{${n.join(",")}}`),this}ilike(l,n){return this.url.searchParams.append(l,`ilike.${n}`),this}ilikeAllOf(l,n){return this.url.searchParams.append(l,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(l,n){return this.url.searchParams.append(l,`ilike(any).{${n.join(",")}}`),this}regexMatch(l,n){return this.url.searchParams.append(l,`match.${n}`),this}regexIMatch(l,n){return this.url.searchParams.append(l,`imatch.${n}`),this}is(l,n){return this.url.searchParams.append(l,`is.${n}`),this}isDistinct(l,n){return this.url.searchParams.append(l,`isdistinct.${n}`),this}in(l,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&Tm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(l,`in.(${r})`),this}notIn(l,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&Tm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(l,`not.in.(${r})`),this}contains(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cs.{${n.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(n)}`),this}containedBy(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cd.{${n.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(n)}`),this}rangeGt(l,n){return this.url.searchParams.append(l,`sr.${n}`),this}rangeGte(l,n){return this.url.searchParams.append(l,`nxl.${n}`),this}rangeLt(l,n){return this.url.searchParams.append(l,`sl.${n}`),this}rangeLte(l,n){return this.url.searchParams.append(l,`nxr.${n}`),this}rangeAdjacent(l,n){return this.url.searchParams.append(l,`adj.${n}`),this}overlaps(l,n){return typeof n=="string"?this.url.searchParams.append(l,`ov.${n}`):this.url.searchParams.append(l,`ov.{${n.join(",")}}`),this}textSearch(l,n,{config:r,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(l,`${c}fts${d}.${n}`),this}match(l){return Object.entries(l).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(l,n,r){return this.url.searchParams.append(l,`not.${n}.${r}`),this}or(l,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${l})`),this}filter(l,n,r){return this.url.searchParams.append(l,`${n}.${r}`),this}},Ab=class{constructor(l,{headers:n={},schema:r,fetch:i}){this.url=l,this.headers=new Headers(n),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,n){const{head:r=!1,count:i}=n??{},c=r?"HEAD":"GET";let d=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:g,headers:y}=this.cloneRequestState();return g.searchParams.set("select",f),i&&y.append("Prefer",`count=${i}`),new bs({method:c,url:g,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:n,defaultToNull:r=!0}={}){var i;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(g.length>0){const y=[...new Set(g)].map(p=>`"${p}"`);d.searchParams.set("columns",y.join(","))}}return new bs({method:c,url:d,headers:f,schema:this.schema,body:l,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(l,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:c=!0}={}){var d;const f="POST",{url:g,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),i&&y.append("Prefer",`count=${i}`),c||y.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(p.length>0){const b=[...new Set(p)].map(w=>`"${w}"`);g.searchParams.set("columns",b.join(","))}}return new bs({method:f,url:g,headers:y,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(l,{count:n}={}){var r;const i="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new bs({method:i,url:c,headers:d,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:l}={}){var n;const r="DELETE",{url:i,headers:c}=this.cloneRequestState();return l&&c.append("Prefer",`count=${l}`),new bs({method:r,url:i,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Ob=class dg{constructor(n,{headers:r={},schema:i,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=i,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ab(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new dg(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:i=!1,get:c=!1,count:d}={}){var f;let g;const y=new URL(`${this.url}/rpc/${n}`);let p;const b=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(b)),w=i&&Object.values(r).some(b);w?(g="POST",p=r):i||c?(g=i?"HEAD":"GET",Object.entries(r).filter(([E,N])=>N!==void 0).map(([E,N])=>[E,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([E,N])=>{y.searchParams.append(E,N)})):(g="POST",p=r);const _=new Headers(this.headers);return w?_.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&_.set("Prefer",`count=${d}`),new bs({method:g,url:y,headers:_,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class kb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const c=i.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Cb="2.90.1",Rb=`realtime-js/${Cb}`,hg="1.0.0",Ub="2.0.0",Am=hg,Ku=1e4,Db=1e3,zb=100;var Za;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Za||(Za={}));var Fe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Fe||(Fe={}));var Wt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Wt||(Wt={}));var Iu;(function(l){l.websocket="websocket"})(Iu||(Iu={}));var _n;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_n||(_n={}));class Mb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,i;const c=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,i;const c=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,i){var c,d;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",y=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+g.length+f.length+p.length+w.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let N=new DataView(E),A=0;N.setUint8(A++,this.KINDS.userBroadcastPush),N.setUint8(A++,y.length),N.setUint8(A++,g.length),N.setUint8(A++,f.length),N.setUint8(A++,p.length),N.setUint8(A++,w.length),N.setUint8(A++,r),Array.from(y,M=>N.setUint8(A++,M.charCodeAt(0))),Array.from(g,M=>N.setUint8(A++,M.charCodeAt(0))),Array.from(f,M=>N.setUint8(A++,M.charCodeAt(0))),Array.from(p,M=>N.setUint8(A++,M.charCodeAt(0))),Array.from(w,M=>N.setUint8(A++,M.charCodeAt(0)));var z=new Uint8Array(E.byteLength+i.byteLength);return z.set(new Uint8Array(E),0),z.set(new Uint8Array(i),E.byteLength),z.buffer}decode(n,r){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return r(i)}if(typeof n=="string"){const i=JSON.parse(n),[c,d,f,g,y]=i;return r({join_ref:c,ref:d,topic:f,event:g,payload:y})}return r({})}_binaryDecode(n){const r=new DataView(n),i=r.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,i){const c=r.getUint8(1),d=r.getUint8(2),f=r.getUint8(3),g=r.getUint8(4);let y=this.HEADER_LENGTH+4;const p=i.decode(n.slice(y,y+c));y=y+c;const b=i.decode(n.slice(y,y+d));y=y+d;const w=i.decode(n.slice(y,y+f));y=y+f;const _=n.slice(y,n.byteLength),E=g===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,N={type:this.BROADCAST_EVENT,event:b,payload:E};return f>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([i])=>r.includes(i)))}}class fg{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Me||(Me={}));const Om=(l,n,r={})=>{var i;const c=(i=r.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=qb(f,l,n,c),d),{}):{}},qb=(l,n,r,i)=>{const c=n.find(g=>g.name===l),d=c==null?void 0:c.type,f=r[l];return d&&!i.includes(d)?mg(d,f):Ju(f)},mg=(l,n)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return Hb(n,r)}switch(l){case Me.bool:return Lb(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Bb(n);case Me.json:case Me.jsonb:return $b(n);case Me.timestamp:return Gb(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Ju(n);default:return Ju(n)}},Ju=l=>l,Lb=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Bb=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},$b=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Hb=(l,n)=>{if(typeof l!="string")return l;const r=l.length-1,i=l[r];if(l[0]==="{"&&i==="}"){let d;const f=l.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>mg(n,g))}return l},Gb=l=>typeof l=="string"?l.replace(" ","T"):l,gg=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class zu{constructor(n,r,i={},c=Ku){this.channel=n,this.event=r,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var km;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(km||(km={}));class wl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,c,d,f),this.pendingDiffs.forEach(y=>{this.state=wl.syncDiff(this.state,y,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=wl.syncDiff(this.state,c,d,f),g())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,c){const d=this.cloneDeep(n),f=this.transformState(r),g={},y={};return this.map(d,(p,b)=>{f[p]||(y[p]=b)}),this.map(f,(p,b)=>{const w=d[p];if(w){const _=b.map(z=>z.presence_ref),E=w.map(z=>z.presence_ref),N=b.filter(z=>E.indexOf(z.presence_ref)<0),A=w.filter(z=>_.indexOf(z.presence_ref)<0);N.length>0&&(g[p]=N),A.length>0&&(y[p]=A)}else g[p]=b}),this.syncDiff(d,{joins:g,leaves:y},i,c)}static syncDiff(n,r,i,c){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(g,y)=>{var p;const b=(p=n[g])!==null&&p!==void 0?p:[];if(n[g]=this.cloneDeep(y),b.length>0){const w=n[g].map(E=>E.presence_ref),_=b.filter(E=>w.indexOf(E.presence_ref)<0);n[g].unshift(..._)}i(g,b,y)}),this.map(f,(g,y)=>{let p=n[g];if(!p)return;const b=y.map(w=>w.presence_ref);p=p.filter(w=>b.indexOf(w.presence_ref)<0),n[g]=p,c(g,p,y),p.length===0&&delete n[g]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const c=n[i];return"metas"in c?r[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[i]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Cm||(Cm={}));var xl;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(xl||(xl={}));var Sa;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class _s{constructor(n,r={config:{}},i){var c,d;if(this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zu(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new wl(this),this.broadcastEndpointURL=gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:f,presence:g,private:y}}=this.params,p=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[xl.PRESENCE]&&this.bindings[xl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},_={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>n==null?void 0:n(Sa.CHANNEL_ERROR,E)),this._onClose(()=>n==null?void 0:n(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n==null||n(Sa.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,z=(N=A==null?void 0:A.length)!==null&&N!==void 0?N:0,M=[];for(let B=0;B<z;B++){const U=A[B],{filter:{event:V,schema:Z,table:q,filter:C}}=U,L=E&&E[B];if(L&&L.event===V&&_s.isFilterValueEqual(L.schema,Z)&&_s.isFilterValueEqual(L.table,q)&&_s.isFilterValueEqual(L.filter,C))M.push(Object.assign(Object.assign({},U),{id:L.id}));else{this.unsubscribe(),this.state=Fe.errored,n==null||n(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(Sa.SUBSCRIBED);return}}).receive("error",E=>{this.state=Fe.errored,n==null||n(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===Fe.joined&&n===xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,i)}async httpSend(n,r,i={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const p=await g.json();y=p.error||p.message||y}catch{}return Promise.reject(new Error(y))}async send(n,r={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,y;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new zu(this,Wt.leave,{},n),i.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),f}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new zu(this,n,r,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>zb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var c,d;const f=n.toLocaleLowerCase(),{close:g,error:y,leave:p,join:b}=Wt;if(i&&[g,y,p,b].indexOf(f)>=0&&i!==this._joinRef())return;let _=this._onMessage(f,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var N,A,z;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((z=(A=E.filter)===null||A===void 0?void 0:A.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===f}).map(E=>E.callback(_,i)):(d=this.bindings[f])===null||d===void 0||d.filter(E=>{var N,A,z,M,B,U,V,Z;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const q=E.id,C=(N=E.filter)===null||N===void 0?void 0:N.event;return q&&((A=r.ids)===null||A===void 0?void 0:A.includes(q))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((z=r.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))&&(!(!((M=E.filter)===null||M===void 0)&&M.table)||E.filter.table===((B=r.data)===null||B===void 0?void 0:B.table))}else{const q=(V=(U=E==null?void 0:E.filter)===null||U===void 0?void 0:U.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return q==="*"||q===((Z=r==null?void 0:r.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof _=="object"&&"ids"in _){const N=_.data,{schema:A,table:z,commit_timestamp:M,type:B,errors:U}=N;_=Object.assign(Object.assign({},{schema:A,table:z,commit_timestamp:M,eventType:B,new:{},old:{},errors:U}),this._getPayloadRecords(N))}E.callback(_,i)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const c=n.toLocaleLowerCase(),d={type:c,filter:r,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&_s.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Wt.close,{},n)}_onError(n){this._on(Wt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Om(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Om(n.columns,n.old_record)),r}}const Mu=()=>{},Zr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vb=[1e3,2e3,5e3,1e4],Yb=1e4,Kb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ib{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=Zr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mu,this.ref=0,this.reconnectTimer=null,this.vsn=Am,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new Mb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Iu.websocket}`,this.httpEndpoint=gg(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Za.connecting:return _n.Connecting;case Za.open:return _n.Open;case Za.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new _s(`realtime:${n}`,r,this);return this.channels.push(d),d}}push(n){const{topic:r,event:i,payload:c,ref:d}=n,f=()=>{this.encode(n,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${r} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Db,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:d,ref:f}=r,g=f?`(${f})`:"",y=d.status||"";this.log("receive",`${y} ${i} ${c} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(c,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Za.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Za.open||this.conn.readyState===Za.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Wt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${i}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([Kb],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,i=!1;if(n)r=n,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const d={access_token:r,version:Rb};r&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Wt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,c,d,f,g,y,p,b,w,_,E;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:Ku,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Zr.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:Mu,this.vsn=(y=n==null?void 0:n.vsn)!==null&&y!==void 0?y:Am,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(N=>Vb[N-1]||Yb),this.vsn){case hg:this.encode=(b=n==null?void 0:n.encode)!==null&&b!==void 0?b:((N,A)=>A(JSON.stringify(N))),this.decode=(w=n==null?void 0:n.decode)!==null&&w!==void 0?w:((N,A)=>A(JSON.parse(N)));break;case Ub:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(E=n==null?void 0:n.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Sl=class extends Error{constructor(l,n){var r;super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jb(l,n,r){const i=new URL(n,l);if(r)for(const[c,d]of Object.entries(r))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function Xb(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Qb(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:c,body:d,headers:f}){const g=Jb(l.baseUrl,i,c),y=await Xb(l.auth),p=await n(g,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...y,...f},body:d?JSON.stringify(d):void 0}),b=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),_=w&&b?JSON.parse(b):b;if(!p.ok){const E=w?_:void 0,N=E==null?void 0:E.error;throw new Sl((N==null?void 0:N.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:E})}return{status:p.status,headers:p.headers,data:_}}}}function Pr(l){return l.join("")}var Zb=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:Pr(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(l,n){const r={namespace:l.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pr(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pr(l.namespace)}`}),!0}catch(n){if(n instanceof Sl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(r){if(r instanceof Sl&&r.status===409)return;throw r}}};function hs(l){return l.join("")}var Pb=class{constructor(l,n="",r){this.client=l,this.prefix=n,this.accessDelegation=r}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(l,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(r){if(r instanceof Sl&&r.status===404)return!1;throw r}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(r){if(r instanceof Sl&&r.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw r}}},Wb=class{constructor(l){var i;let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const r=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Qb({baseUrl:r,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(i=l.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Zb(this.client,n),this.tableOps=new Pb(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}},ri=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function $e(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Fb=class extends ri{constructor(l,n,r){super(l),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xu=class extends ri{constructor(l,n){super(l),this.name="StorageUnknownError",this.originalError=n}};const rc=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),ew=()=>Response,Qu=l=>{if(Array.isArray(l))return l.map(r=>Qu(r));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([r,i])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Qu(i)}),n},tw=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},aw=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function jl(l){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jl(l)}function nw(l,n){if(jl(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var i=r.call(l,n);if(jl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function sw(l){var n=nw(l,"string");return jl(n)=="symbol"?n:n+""}function lw(l,n,r){return(n=sw(n))in l?Object.defineProperty(l,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[n]=r,l}function Rm(l,n){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,i)}return r}function le(l){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Rm(Object(r),!0).forEach(function(i){lw(l,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):Rm(Object(r)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(r,i))})}return l}const qu=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},rw=async(l,n,r)=>{l instanceof await ew()&&!(r!=null&&r.noResolveJson)?l.json().then(i=>{const c=l.status||500,d=(i==null?void 0:i.statusCode)||c+"";n(new Fb(qu(i),c,d))}).catch(i=>{n(new Xu(qu(i),i))}):n(new Xu(qu(l),l))},iw=(l,n,r,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||!i?c:(tw(i)?(c.headers=le({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,n!=null&&n.duplex&&(c.duplex=n.duplex),le(le({},c),r))};async function Cl(l,n,r,i,c,d){return new Promise((f,g)=>{l(r,iw(n,i,c,d)).then(y=>{if(!y.ok)throw y;return i!=null&&i.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>rw(y,g,i))})}async function El(l,n,r,i){return Cl(l,"GET",n,r,i)}async function Pt(l,n,r,i,c){return Cl(l,"POST",n,i,c,r)}async function Zu(l,n,r,i,c){return Cl(l,"PUT",n,i,c,r)}async function ow(l,n,r,i){return Cl(l,"HEAD",n,le(le({},r),{},{noResolveJson:!0}),i)}async function ic(l,n,r,i,c){return Cl(l,"DELETE",n,i,c,r)}var uw=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n}then(l,n){return this.execute().then(l,n)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(n){if(l.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};let yg;yg=Symbol.toStringTag;var cw=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n,this[yg]="BlobDownloadBuilder",this.promise=null}asStream(){return new uw(this.downloadFn,this.shouldThrowOnError)}then(l,n){return this.getPromise().then(l,n)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(n){if(l.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};const dw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Um={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hw=class{constructor(l,n={},r,i){this.shouldThrowOnError=!1,this.url=l,this.headers=n,this.bucketId=r,this.fetch=rc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,n,r,i){var c=this;try{let d;const f=le(le({},Um),i);let g=le(le({},c.headers),l==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",c.encodeMetadata(y)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),y&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(y))):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,y&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),i!=null&&i.headers&&(g=le(le({},g),i.headers));const p=c._removeEmptyFolders(n),b=c._getFinalPath(p),w=await(l=="PUT"?Zu:Pt)(c.fetch,`${c.url}/object/${b}`,d,le({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}}async upload(l,n,r){return this.uploadOrUpdate("POST",l,n,r)}async uploadToSignedUrl(l,n,r,i){var c=this;const d=c._removeEmptyFolders(l),f=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let y;const p=le({upsert:Um.upsert},i),b=le(le({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",p.cacheControl)):(y=r,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{data:{path:d,fullPath:(await Zu(c.fetch,g.toString(),y,{headers:b})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if($e(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,n){var r=this;try{let i=r._getFinalPath(l);const c=le({},r.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await Pt(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(r.url+d.url),g=f.searchParams.get("token");if(!g)throw new ri("No token returned by API");return{data:{signedUrl:f.toString(),path:l,token:g},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async update(l,n,r){return this.uploadOrUpdate("PUT",l,n,r)}async move(l,n,r){var i=this;try{return{data:await Pt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:l,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(l,n,r){var i=this;try{return{data:{path:(await Pt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:l,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(l,n,r){var i=this;try{let c=i._getFinalPath(l),d=await Pt(i.fetch,`${i.url}/object/sign/${c}`,le({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${i.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(l,n,r){var i=this;try{const c=await Pt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:n,paths:l},{headers:i.headers}),d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(l,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=i?`?${i}`:"",d=this._getFinalPath(l),f=()=>El(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new cw(f,this.shouldThrowOnError)}async info(l){var n=this;const r=n._getFinalPath(l);try{return{data:Qu(await El(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async exists(l){var n=this;const r=n._getFinalPath(l);try{return await ow(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($e(i)&&i instanceof Xu){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}}getPublicUrl(l,n){const r=this._getFinalPath(l),i=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&i.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${g}`)}}}async remove(l){var n=this;try{return{data:await ic(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:l},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async list(l,n,r){var i=this;try{const c=le(le(le({},dw),n),{},{prefix:l||""});return{data:await Pt(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},r),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(l,n){var r=this;try{const i=le({},l);return{data:await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const n=[];return l.width&&n.push(`width=${l.width}`),l.height&&n.push(`height=${l.height}`),l.resize&&n.push(`resize=${l.resize}`),l.format&&n.push(`format=${l.format}`),l.quality&&n.push(`quality=${l.quality}`),n.join("&")}};const pg="2.90.1",vg={"X-Client-Info":`storage-js/${pg}`};var fw=class{constructor(l,n={},r,i){this.shouldThrowOnError=!1;const c=new URL(l);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},vg),n),this.fetch=rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var n=this;try{const r=n.listBucketOptionsToQueryString(l);return{data:await El(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(l){var n=this;try{return{data:await El(n.fetch,`${n.url}/bucket/${l}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async createBucket(l,n={public:!1}){var r=this;try{return{data:await Pt(r.fetch,`${r.url}/bucket`,{id:l,name:l,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async updateBucket(l,n){var r=this;try{return{data:await Zu(r.fetch,`${r.url}/bucket/${l}`,{id:l,name:l,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async emptyBucket(l){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket/${l}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(l){var n=this;try{return{data:await ic(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(l){const n={};return l&&("limit"in l&&(n.limit=String(l.limit)),"offset"in l&&(n.offset=String(l.offset)),l.search&&(n.search=l.search),l.sortColumn&&(n.sortColumn=l.sortColumn),l.sortOrder&&(n.sortOrder=l.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},mw=class{constructor(l,n={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=le(le({},vg),n),this.fetch=rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket`,{name:l},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(l){var n=this;try{const r=new URLSearchParams;(l==null?void 0:l.limit)!==void 0&&r.set("limit",l.limit.toString()),(l==null?void 0:l.offset)!==void 0&&r.set("offset",l.offset.toString()),l!=null&&l.sortColumn&&r.set("sortColumn",l.sortColumn),l!=null&&l.sortOrder&&r.set("sortOrder",l.sortOrder),l!=null&&l.search&&r.set("search",l.search);const i=r.toString(),c=i?`${n.url}/bucket?${i}`:`${n.url}/bucket`;return{data:await El(n.fetch,c,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(l){var n=this;try{return{data:await ic(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}from(l){var n=this;if(!aw(l))throw new ri("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Wb({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(y){if(i)throw y;return{data:null,error:y}}}}})}};const oc={"X-Client-Info":`storage-js/${pg}`,"Content-Type":"application/json"};var bg=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Lu=class extends bg{constructor(l,n,r){super(l),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gw=class extends bg{constructor(l,n){super(l),this.name="StorageVectorsUnknownError",this.originalError=n}};const uc=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),yw=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Dm=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),pw=async(l,n,r)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(r!=null&&r.noResolveJson)){const i=l.status||500,c=l;if(typeof c.json=="function")c.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||i+"";n(new Lu(Dm(d),i,f))}).catch(()=>{const d=i+"";n(new Lu(c.statusText||`HTTP ${i} error`,i,d))});else{const d=i+"";n(new Lu(c.statusText||`HTTP ${i} error`,i,d))}}else n(new gw(Dm(l),l))},vw=(l,n,r,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return i?(yw(i)?(c.headers=le({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,le(le({},c),r)):c};async function bw(l,n,r,i,c,d){return new Promise((f,g)=>{l(r,vw(n,i,c,d)).then(y=>{if(!y.ok)throw y;if(i!=null&&i.noResolveJson)return y;const p=y.headers.get("content-type");return!p||!p.includes("application/json")?{}:y.json()}).then(y=>f(y)).catch(y=>pw(y,g,i))})}async function Dt(l,n,r,i,c){return bw(l,"POST",n,i,c,r)}var ww=class{constructor(l,n={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=le(le({},oc),n),this.fetch=uc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/CreateIndex`,l,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getIndex(l,n){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:l,indexName:n},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async listIndexes(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/ListIndexes`,l,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteIndex(l,n){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:l,indexName:n},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}},xw=class{constructor(l,n={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=le(le({},oc),n),this.fetch=uc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var n=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dt(n.fetch,`${n.url}/PutVectors`,l,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getVectors(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/GetVectors`,l,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listVectors(l){var n=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await Dt(n.fetch,`${n.url}/ListVectors`,l,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async queryVectors(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/QueryVectors`,l,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteVectors(l){var n=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dt(n.fetch,`${n.url}/DeleteVectors`,l,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},_w=class{constructor(l,n={},r){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=le(le({},oc),n),this.fetch=uc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getBucket(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:l},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listBuckets(l={}){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/ListVectorBuckets`,l,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteBucket(l){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},Sw=class extends _w{constructor(l,n={}){super(l,n.headers||{},n.fetch)}from(l){return new jw(this.url,this.headers,l,this.fetch)}async createBucket(l){var n=()=>super.createBucket,r=this;return n().call(r,l)}async getBucket(l){var n=()=>super.getBucket,r=this;return n().call(r,l)}async listBuckets(l={}){var n=()=>super.listBuckets,r=this;return n().call(r,l)}async deleteBucket(l){var n=()=>super.deleteBucket,r=this;return n().call(r,l)}},jw=class extends ww{constructor(l,n,r,i){super(l,n,i),this.vectorBucketName=r}async createIndex(l){var n=()=>super.createIndex,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(l={}){var n=()=>super.listIndexes,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(l){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,l)}async deleteIndex(l){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,l)}index(l){return new Ew(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Ew=class extends xw{constructor(l,n,r,i,c){super(l,n,c),this.vectorBucketName=r,this.indexName=i}async putVectors(l){var n=()=>super.putVectors,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(l){var n=()=>super.getVectors,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(l={}){var n=()=>super.listVectors,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(l){var n=()=>super.queryVectors,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(l){var n=()=>super.deleteVectors,r=this;return n().call(r,le(le({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Nw=class extends fw{constructor(l,n={},r,i){super(l,n,r,i)}from(l){return new hw(this.url,this.headers,l,this.fetch)}get vectors(){return new Sw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mw(this.url+"/iceberg",this.headers,this.fetch)}};const wg="2.90.1",ws=30*1e3,Pu=3,Bu=Pu*ws,Tw="http://localhost:9999",Aw="supabase.auth.token",Ow={"X-Client-Info":`gotrue-js/${wg}`},Wu="X-Supabase-Api-Version",xg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cw=600*1e3;class Nl extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function te(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Rw extends Nl{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Uw(l){return te(l)&&l.name==="AuthApiError"}class Sn extends Nl{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class ja extends Nl{constructor(n,r,i,c){super(n,i,c),this.name=r,this.status=i}}class Rt extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dw(l){return te(l)&&l.name==="AuthSessionMissingError"}class fs extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wr extends ja{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Fr extends ja{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zw(l){return te(l)&&l.name==="AuthImplicitGrantRedirectError"}class zm extends ja{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mw extends ja{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fu extends ja{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function $u(l){return te(l)&&l.name==="AuthRetryableFetchError"}class Mm extends ja{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class ec extends ja{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),qw=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<qm.length;n+=1)l[qm[n].charCodeAt(0)]=-2;for(let n=0;n<ei.length;n+=1)l[ei[n].charCodeAt(0)]=n;return l})();function Lm(l,n,r){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(ei[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(ei[i]),n.queuedBits-=6}}function _g(l,n,r){const i=qw[l];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Bm(l){const n=[],r=f=>{n.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{$w(f,i,r)};for(let f=0;f<l.length;f+=1)_g(l.charCodeAt(f),c,d);return n.join("")}function Lw(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Bw(l,n){for(let r=0;r<l.length;r+=1){let i=l.charCodeAt(r);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Lw(i,n)}}function $w(l,n,r){if(n.utf8seq===0){if(l<=127){r(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ss(l){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)_g(l.charCodeAt(c),r,i);return new Uint8Array(n)}function Hw(l){const n=[];return Bw(l,r=>n.push(r)),new Uint8Array(n)}function En(l){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};return l.forEach(c=>Lm(c,r,i)),Lm(null,r,i),n.join("")}function Gw(l){return Math.round(Date.now()/1e3)+l}function Vw(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Sg=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Yw(l){const n={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return r.searchParams.forEach((i,c)=>{n[c]=i}),n}const jg=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Kw=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",xs=async(l,n,r)=>{await l.setItem(n,JSON.stringify(r))},wn=async(l,n)=>{const r=await l.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ot=async(l,n)=>{await l.removeItem(n)};class ii{constructor(){this.promise=new ii.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}ii.promiseConstructor=Promise;function Hu(l){const n=l.split(".");if(n.length!==3)throw new ec("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!kw.test(n[i]))throw new ec("JWT not in base64url format");return{header:JSON.parse(Bm(n[0])),payload:JSON.parse(Bm(n[1])),signature:Ss(n[2]),raw:{header:n[0],payload:n[1]}}}async function Iw(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function Jw(l,n){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!n(d,null,f)){i(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function Xw(l){return("0"+l.toString(16)).substr(-2)}function Qw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,Xw).join("")}async function Zw(l){const r=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Pw(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await Zw(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(l,n,r=!1){const i=Qw();let c=i;r&&(c+="/PASSWORD_RECOVERY"),await xs(l,`${n}-code-verifier`,c);const d=await Pw(i);return[d,i===d?"plain":"s256"]}const Ww=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fw(l){const n=l.headers.get(Wu);if(!n||!n.match(Ww))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function ex(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function tx(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ax=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(l){if(!ax.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gu(){const l={};return new Proxy(l,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nx(l,n){return new Proxy(l,{get:(r,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,c)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,i,c)}})}function $m(l){return JSON.parse(JSON.stringify(l))}const xn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),sx=[502,503,504];async function Hm(l){var n;if(!Kw(l))throw new Fu(xn(l),0);if(sx.includes(l.status))throw new Fu(xn(l),l.status);let r;try{r=await l.json()}catch(d){throw new Sn(xn(d),d)}let i;const c=Fw(l);if(c&&c.getTime()>=xg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Mm(xn(r),l.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Mm(xn(r),l.status,r.weak_password.reasons);throw new Rw(xn(r),l.status||500,i)}const lx=(l,n,r,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),r))};async function se(l,n,r,i){var c;const d=Object.assign({},i==null?void 0:i.headers);d[Wu]||(d[Wu]=xg["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await rx(l,n,r+g,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(y):{data:Object.assign({},y),error:null}}async function rx(l,n,r,i,c,d){const f=lx(n,i,c,d);let g;try{g=await l(r,Object.assign({},f))}catch(y){throw console.error(y),new Fu(xn(y),0)}if(g.ok||await Hm(g),i!=null&&i.noResolveJson)return g;try{return await g.json()}catch(y){await Hm(y)}}function Zt(l){var n;let r=null;ux(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=Gw(l.expires_in)));const i=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:r,user:i},error:null}}function Gm(l){const n=Zt(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Pa(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function ix(l){return{data:l,error:null}}function ox(l){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:d}=l,f=li(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:d},y=Object.assign({},f);return{data:{properties:g,user:y},error:null}}function Vm(l){return l}function ux(l){return l.access_token&&l.refresh_token&&l.expires_in}const Vu=["global","local","others"];class cx{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=jg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Vu[0]){if(Vu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vu.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pa})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=li(n,["options"]),c=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:ox,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Pa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,c,d,f,g,y;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Vm});if(b.error)throw b.error;const w=await b.json(),_=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(N.split(";")[1].split("=")[1]);p[`${z}Page`]=A}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(te(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){gs(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Pa})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){gs(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Pa})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){gs(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pa})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){gs(n.userId);try{const{data:r,error:i}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:i}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(n){gs(n.userId),gs(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,i,c,d,f,g,y;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Vm});if(b.error)throw b.error;const w=await b.json(),_=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(N.split(";")[1].split("=")[1]);p[`${z}Page`]=A}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(te(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function Ym(l={}){return{getItem:n=>l[n]||null,setItem:(n,r)=>{l[n]=r},removeItem:n=>{delete l[n]}}}const ys={debug:!!(globalThis&&Sg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class dx extends Eg{}async function hx(l,n,r){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await r()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new dx(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ys.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function fx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ng(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function mx(l){return parseInt(l,16)}function gx(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function yx(l){var n;const{chainId:r,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:y,resources:p,scheme:b,uri:w,version:_}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=Ng(l.address),N=b?`${b}://${i}`:i,A=l.statement?`${l.statement}
`:"",z=`${N} wants you to sign in with your Ethereum account:
${E}

${A}`;let M=`URI: ${w}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(M+=`
Expiration Time: ${c.toISOString()}`),g&&(M+=`
Not Before: ${g.toISOString()}`),y&&(M+=`
Request ID: ${y}`),p){let B=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);B+=`
- ${U}`}M+=B}return`${z}
${M}`}class Pe extends Error{constructor({message:n,code:r,cause:i,name:c}){var d;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class ti extends Pe{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function px({error:l,options:n}){var r,i,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Tg(f)){if(d.rp.id!==f)return new Pe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function vx({error:l,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(Tg(i)){if(r.rpId!==i)return new Pe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class bx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const wx=new bx;function xx(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:r,excludeCredentials:i}=l,c=li(l,["challenge","user","excludeCredentials"]),d=Ss(n).buffer,f=Object.assign(Object.assign({},r),{id:Ss(r.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){g.excludeCredentials=new Array(i.length);for(let y=0;y<i.length;y++){const p=i[y];g.excludeCredentials[y]=Object.assign(Object.assign({},p),{id:Ss(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function _x(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:r}=l,i=li(l,["challenge","allowCredentials"]),c=Ss(n).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const g=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Sx(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:En(new Uint8Array(l.response.attestationObject)),clientDataJSON:En(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function jx(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:En(new Uint8Array(c.authenticatorData)),clientDataJSON:En(new Uint8Array(c.clientDataJSON)),signature:En(new Uint8Array(c.signature)),userHandle:c.userHandle?En(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Tg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Km(){var l,n;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Ex(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",n)}:{data:null,error:new ti("Empty credential response",n)}}catch(n){return{data:null,error:px({error:n,options:l})}}}async function Nx(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",n)}:{data:null,error:new ti("Empty credential response",n)}}catch(n){return{data:null,error:vx({error:n,options:l})}}}const Tx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ax={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ai(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(r(f))i[d]=f;else if(n(f)){const g=i[d];n(g)?i[d]=ai(g,f):i[d]=ai(f)}else i[d]=f}return i}function Ox(l,n){return ai(Tx,l,n||{})}function kx(l,n){return ai(Ax,l,n||{})}class Cx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:i,signal:c},d){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:g};const y=c??wx.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=Ox(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:w}=await Ex({publicKey:p,signal:y});return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const p=kx(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:w}=await Nx(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:y}));return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn authentication")};try{if(!Km())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:g};const{webauthn:y}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:i,credential_response:y.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn registration")};try{if(!Km())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:y,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:c},{create:d});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:i,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:p}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in register",f)}}}}fx();const Rx={url:Tw,storageKey:Aw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ow,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Im(l,n,r){return await r()}const ps={};class Tl{get jwks(){var n,r;return(r=(n=ps[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ps[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Rx),n);if(this.storageKey=d.storageKey,this.instanceID=(r=Tl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ut()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new cx({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=jg(d.fetch),this.lock=d.lock||Im,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&ut()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=hx:this.lock=Im,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Sg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(ut()&&(r=Yw(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ut()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),zw(d)){const y=(n=d.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Sn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Zt}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(te(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var r,i,c;try{let d;if("email"in n){const{email:b,password:w,options:_}=n;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await ms(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:b,password:w,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:N},xform:Zt})}else if("phone"in n){const{phone:b,password:w,options:_}=n;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(c=_==null?void 0:_.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Zt})}else throw new Wr("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let r;if("email"in n){const{email:d,password:f,options:g}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gm})}else if("phone"in n){const{phone:d,password:f,options:g}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gm})}else throw new Wr("You must provide either an email or phone number and a password");const{data:i,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new fs;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,c,d,f,g,y,p,b,w,_;let E,N;if("message"in n)E=n.message,N=n.signature;else{const{chain:A,wallet:z,statement:M,options:B}=n;let U;if(ut())if(typeof z=="object")U=z;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")U=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=z}const V=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href),Z=await U.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Ng(Z[0]);let C=(i=B==null?void 0:B.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){const J=await U.request({method:"eth_chainId"});C=mx(J)}const L={domain:V.host,address:q,statement:M,uri:V.href,version:"1",chainId:C,nonce:(c=B==null?void 0:B.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=B==null?void 0:B.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=B==null?void 0:B.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=B==null?void 0:B.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(p=B==null?void 0:B.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=B==null?void 0:B.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=yx(L),N=await U.request({method:"personal_sign",params:[gx(E),q]})}try{const{data:A,error:z}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:N},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Zt});if(z)throw z;if(!A||!A.session||!A.user){const M=new fs;return this._returnResult({data:{user:null,session:null},error:M})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:z})}catch(A){if(te(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var r,i,c,d,f,g,y,p,b,w,_,E;let N,A;if("message"in n)N=n.message,A=n.signature;else{const{chain:z,wallet:M,statement:B,options:U}=n;let V;if(ut())if(typeof M=="object")V=M;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))V=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=M}const Z=new URL((r=U==null?void 0:U.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const q=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),B?{statement:B}:null));let C;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")C=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)C=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)N=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),A=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${Z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(c=(i=U==null?void 0:U.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((y=U==null?void 0:U.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(b=U==null?void 0:U.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const q=await V.signMessage(new TextEncoder().encode(N),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=q}}try{const{data:z,error:M}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:En(A)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Zt});if(M)throw M;if(!z||!z.session||!z.user){const B=new fs;return this._returnResult({data:{user:null,session:null},error:B})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:M})}catch(z){if(te(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async _exchangeCodeForSession(n){const r=await wn(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Mw;const{data:d,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Zt});if(await ot(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:r,provider:i,token:c,access_token:d,nonce:f}=n,g=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zt}),{data:y,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!y||!y.session||!y.user){const b=new fs;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:p})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,c,d,f;try{if("email"in n){const{email:g,options:y}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ms(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},create_user:(i=y==null?void 0:y.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:g,options:y}=n,{data:p,error:b}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y==null?void 0:y.data)!==null&&c!==void 0?c:{},create_user:(d=y==null?void 0:y.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(f=y==null?void 0:y.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new Wr("You must provide either an email or phone number.")}catch(g){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var r,i;try{let c,d;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,d=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:g}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Zt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,p=f.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(c){if(te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,i,c,d,f;try{let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ms(this.storage,this.storageKey));const p=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:y}),headers:this.headers,xform:ix});return!((d=p.data)===null||d===void 0)&&d.url&&ut()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Rt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:d}=n,{error:f}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:i,type:c,options:d}=n,{data:f,error:g}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new Wr("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Bu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const f=await wn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Gu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=nx(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Pa}):await this._useSession(async r=>{var i,c,d;const{data:f,error:g}=r;if(g)throw g;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Pa})})}catch(r){if(te(r))return Dw(r)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Rt;const f=c.session;let g=null,y=null;this.flowType==="pkce"&&n.email!=null&&([g,y]=await ms(this.storage,this.storageKey));const{data:p,error:b}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:y}),jwt:f.access_token,xform:Pa});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const r=Date.now()/1e3;let i=r,c=!0,d=null;const{payload:f}=Hu(n.access_token);if(f.exp&&(i=f.exp,c=i<=r),c){const{data:g,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:y}=await this._getUser(n.access_token);if(y)throw y;d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:f,error:g}=r;if(g)throw g;n=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Rt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ut())throw new Fr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Fr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new zm("No code detected.");const{data:B,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:g,expires_at:y,token_type:p}=n;if(!d||!g||!f||!p)throw new Fr("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(g);let _=b+w;y&&(_=parseInt(y));const E=_-b;E*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const N=_-w;b-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,_,b):b-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,_,b);const{data:A,error:z}=await this._getUser(d);if(z)throw z;const M={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:_,refresh_token:f,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:n.type},error:null})}catch(i){if(te(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:c,error:d}=r;if(d)return this._returnResult({error:d});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(Uw(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=Vw(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,c;try{const{data:{session:d},error:f}=r;if(f)throw f;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,r={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await ms(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:i,error:c}=await this._useSession(async d=>{var f,g,y,p,b;const{data:w,error:_}=d;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ut()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:n.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(te(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:f,provider:g,token:y,access_token:p,nonce:b}=n,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:g,id_token:y,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zt}),{data:_,error:E}=w;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new fs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,c;const{data:d,error:f}=r;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Jw(async c=>(c>0&&await Iw(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})),(c,d)=>{const f=200*Math.pow(2,c);return d&&$u(d)&&Date.now()+f-i<ws})}catch(i){if(this._debug(r,"error",i),te(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),ut()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await wn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await xs(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Gu()}else if(c&&!c.user&&!c.user){const f=await wn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await ot(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,c)):c.user=Gu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Bu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),$u(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ii;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Rt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),te(d)){const f={data:null,error:d};return $u(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,r)}catch(y){d.push(y)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await xs(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=$m(c);await xs(this.storage,this.storageKey,d)}else{const c=$m(r);await xs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ws}ms, refresh threshold is ${Pu} ticks`),c<=Pu&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Eg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const c=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await ms(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:c,error:d}=r;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,c;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:p}=await se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&y.type==="totp"&&(!((c=y==null?void 0:y.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Sx(n.webauthn.credential_response):jx(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:y}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:xx(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:_x(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Hu(i.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ut()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ut()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(g=>g.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(g=>g.kid===n),i&&this.jwks_cached_at+Cw>c)return i;const{data:d,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(g=>g.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:E,error:N}=await this.getSession();if(N||!E.session)return this._returnResult({data:null,error:N});i=E.session.access_token}const{header:c,payload:d,signature:f,raw:{header:g,payload:y}}=Hu(i);r!=null&&r.allowExpired||ex(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:d,header:c,signature:f},error:null}}const b=tx(c.alg),w=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,f,Hw(`${g}.${y}`)))throw new ec("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}}Tl.nextInstanceID={};const Ux=Tl,Dx="2.90.1";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const zx={"X-Client-Info":`supabase-js-${bl}/${Dx}`},Mx={headers:zx},qx={schema:"public"},Lx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bx={};function Al(l){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Al(l)}function $x(l,n){if(Al(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var i=r.call(l,n);if(Al(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function Hx(l){var n=$x(l,"string");return Al(n)=="symbol"?n:n+""}function Gx(l,n,r){return(n=Hx(n))in l?Object.defineProperty(l,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[n]=r,l}function Jm(l,n){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),r.push.apply(r,i)}return r}function Ve(l){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Jm(Object(r),!0).forEach(function(i){Gx(l,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):Jm(Object(r)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(r,i))})}return l}const Vx=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Yx=()=>Headers,Kx=(l,n,r)=>{const i=Vx(r),c=Yx();return async(d,f)=>{var g;const y=(g=await n())!==null&&g!==void 0?g:l;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",l),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),i(d,Ve(Ve({},f),{},{headers:p}))}};function Ix(l){return l.endsWith("/")?l:l+"/"}function Jx(l,n){var r,i;const{db:c,auth:d,realtime:f,global:g}=l,{db:y,auth:p,realtime:b,global:w}=n,_={db:Ve(Ve({},y),c),auth:Ve(Ve({},p),d),realtime:Ve(Ve({},b),f),storage:{},global:Ve(Ve(Ve({},w),g),{},{headers:Ve(Ve({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=g==null?void 0:g.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}function Xx(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ix(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qx=class extends Ux{constructor(l){super(l)}},Zx=class{constructor(l,n,r){var i,c;this.supabaseUrl=l,this.supabaseKey=n;const d=Xx(l);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:qx,realtime:Bx,auth:Ve(Ve({},Lx),{},{storageKey:f}),global:Mx},y=Jx(r??{},g);if(this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=y.auth)!==null&&p!==void 0?p:{},this.headers,y.global.fetch)}this.fetch=Kx(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Ob(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Nw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new jb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,n,r)}channel(l,n={config:{}}){return this.realtime.channel(l,n)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,n,r;if(l.accessToken)return await l.accessToken();const{data:i}=await l.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:c,storageKey:d,flowType:f,lock:g,debug:y,throwOnError:p},b,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qx({url:this.authUrl.href,headers:Ve(Ve({},_),b),storageKey:d,autoRefreshToken:l,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:c,flowType:f,lock:g,debug:y,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Ib(this.realtimeUrl.href,Ve(Ve({},l),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,n)=>{this._handleTokenChanged(l,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(l,n,r){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Px=(l,n,r)=>new Zx(l,n,r);function Wx(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const n=l.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Wx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fx="https://fmmbethwuumzhgjytzvv.supabase.co",e_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZtbWJldGh3dXVtemhnanl0enZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MDYzOTksImV4cCI6MjA4Mzk4MjM5OX0.6JW5phelzSixnHYg4otq8S9xb6a4DAJDzBBFd8GjAVg",P=Px(Fx,e_),Ag=K.createContext({session:null,user:null,loading:!0,profile:null}),t_=({children:l})=>{const[n,r]=K.useState(null),[i,c]=K.useState(null),[d,f]=K.useState(!0),[g,y]=K.useState(null);K.useEffect(()=>{P.auth.getSession().then(({data:{session:w}})=>{r(w),c((w==null?void 0:w.user)??null),w!=null&&w.user?p(w.user.id):f(!1)});const{data:{subscription:b}}=P.auth.onAuthStateChange((w,_)=>{r(_),c((_==null?void 0:_.user)??null),_!=null&&_.user?p(_.user.id):(y(null),f(!1))});return()=>b.unsubscribe()},[]);const p=async b=>{try{const{data:w,error:_}=await P.from("profiles").select("*").eq("id",b).single();_?console.error("Error fetching profile:",_):y(w)}finally{f(!1)}};return h.jsx(Ag.Provider,{value:{session:n,user:i,loading:d,profile:g},children:!d&&l})},It=()=>K.useContext(Ag),a_=({category:l})=>{let n="bg-gray-700 text-white";switch(l){case Ue.ALOJAMIENTO:n="bg-eras-yellow text-black";break;case Ue.GASTRONOMIA:n="bg-eras-teal text-black";break;case Ue.GENERAL:n="bg-eras-coral text-white";break;case Ue.CULTURA:n="bg-purple-500 text-white";break;case Ue.FIESTA:n="bg-pink-500 text-white";break}return h.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full ${n}`,children:l})},Ol=({post:l,onClick:n,onCommentClick:r})=>{var N;const{session:i}=It(),c=!!l.image,d=!!l.images&&l.images.length>0,[f,g]=K.useState(!1),[y,p]=K.useState(l.likes);K.useEffect(()=>{i!=null&&i.user&&b()},[l.id,i==null?void 0:i.user]);const b=async()=>{const{data:A}=await P.from("likes").select("*").eq("user_id",i==null?void 0:i.user.id).eq("post_id",l.id).maybeSingle();A&&g(!0)},w=async A=>{if(A.stopPropagation(),!(!(i!=null&&i.user)||f)){g(!0),p(y+1);try{const{error:z}=await P.from("likes").insert([{user_id:i.user.id,post_id:l.id}]);if(z)throw z;const{error:M}=await P.rpc("increment_likes_and_coins",{post_id_param:l.id});M&&await P.rpc("increment_likes",{row_id:l.id})}catch(z){console.error(z),g(!1),p(y)}}},_=A=>{A.stopPropagation(),r==null||r()},E=l.isPremium?"bg-eras-yellow/5 border-2 border-eras-yellow shadow-[0_0_20px_rgba(255,181,0,0.15)] scale-[1.01]":"bg-eras-card border border-white/5 hover:bg-white/5";return h.jsxs("div",{onClick:n,className:`
        w-full rounded-3xl overflow-hidden mb-4 relative group
        transition-all duration-300 cursor-pointer
        active:scale-[0.98] shadow-lg
        ${E}
      `,children:[l.isPremium&&h.jsxs("div",{className:"absolute top-0 right-0 z-30 bg-eras-yellow text-black text-[9px] font-extrabold px-3 py-1 rounded-bl-xl uppercase tracking-widest shadow-sm flex items-center gap-1",children:[h.jsx(ig,{className:"w-3 h-3"}),"Destacado"]}),c&&h.jsx("div",{className:"w-full h-48 bg-cover bg-center relative",style:{backgroundImage:`url(${l.image})`},children:l.isPremium&&h.jsx("div",{className:"absolute inset-0 bg-eras-yellow/10 mix-blend-overlay"})}),h.jsxs("div",{className:"p-4 pt-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:l.userAvatar||`https://ui-avatars.com/api/?name=${l.userName}&background=random`,alt:l.userName,className:`w-10 h-10 rounded-full object-cover border ${l.isPremium?"border-eras-yellow":"border-white/10"}`}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h3",{className:`font-bold text-sm leading-tight ${l.isPremium?"text-eras-yellow":"text-white"}`,children:l.userName}),h.jsxs("p",{className:"text-[11px] text-gray-400",children:[l.location,"  ",l.timestamp]})]})]}),h.jsx(a_,{category:l.category})]}),h.jsx("div",{className:"mb-4 relative",children:h.jsx("p",{className:"text-sm text-gray-200 leading-relaxed line-clamp-3",children:l.content})}),d&&h.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2 mb-3",children:(N=l.images)==null?void 0:N.map((A,z)=>h.jsx("img",{src:A,alt:`gallery-${z}`,className:"h-32 w-24 object-cover rounded-lg flex-shrink-0 bg-gray-800"},z))}),h.jsxs("div",{className:`flex items-center gap-6 pt-2 border-t ${l.isPremium?"border-eras-yellow/20":"border-white/5"}`,children:[h.jsxs("button",{onClick:w,className:"flex items-center gap-2 group p-2 -ml-2 rounded-full transition-colors hover:bg-white/5",children:[h.jsx(_l,{className:`w-5 h-5 transition-colors ${f?"text-red-500 fill-current":"text-gray-400 group-hover:text-eras-yellow"}`}),h.jsx("span",{className:`text-xs font-bold transition-colors ${f?"text-white":"text-gray-400 group-hover:text-white"}`,children:y})]}),h.jsxs("button",{onClick:_,className:"flex items-center gap-2 group p-2 rounded-full hover:bg-white/5",children:[h.jsx(si,{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors"}),h.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:l.comments})]})]})]})]})},Xm=({onNavigate:l,onPostClick:n,onUserClick:r,onCommentClick:i,refreshFeed:c=0})=>{const{session:d}=It(),[f,g]=K.useState("trending"),[y,p]=K.useState([]),[b,w]=K.useState(!0),[_,E]=K.useState(!1),N=K.useRef(null);K.useEffect(()=>{z(!1)},[f,d]),K.useEffect(()=>{c>0&&z(!0)},[c]),K.useEffect(()=>{if(!(d!=null&&d.user))return;A();const M=P.channel("notifications-changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${d.user.id}`},()=>A()).subscribe();return()=>{P.removeChannel(M)}},[d]);const A=async()=>{try{if(!(d!=null&&d.user))return;const{count:M,error:B}=await P.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",d.user.id).eq("is_read",!1);!B&&M!==null&&E(M>0)}catch(M){console.error(M)}},z=async(M=!1)=>{try{M||w(!0);let B=[];if(f==="trending"){const V=new Date;V.setDate(V.getDate()-30);const{data:Z,error:q}=await P.from("posts").select("*, profiles(full_name, avatar_url)").gte("created_at",V.toISOString()).order("likes_count",{ascending:!1}).limit(20);!q&&Z&&(B=Z)}else if(f==="following"&&(d!=null&&d.user)){const{data:V}=await P.from("follows").select("following_id").eq("follower_id",d.user.id);if(V&&V.length>0){const Z=V.map(L=>L.following_id),{data:q,error:C}=await P.from("posts").select("*, profiles(full_name, avatar_url)").in("user_id",Z).order("created_at",{ascending:!1});!C&&q&&(B=q)}}const U=B.map(V=>{var Z,q;return{id:V.id,userId:V.user_id,userName:((Z=V.profiles)==null?void 0:Z.full_name)||"Usuario",userAvatar:((q=V.profiles)==null?void 0:q.avatar_url)||"",content:V.content,image:V.image_url,images:V.image_urls,likes:V.likes_count||0,comments:V.comments_count||0,category:V.category,timestamp:new Date(V.created_at).toLocaleDateString(),location:V.city}});p(U)}catch(B){console.error(B)}finally{w(!1)}};return h.jsxs("div",{className:"pb-24 pt-2 px-4 max-w-lg mx-auto min-h-screen",children:[h.jsxs("div",{className:"sticky top-0 z-40 bg-eras-black/95 backdrop-blur-md -mx-4 px-4 pt-2",children:[h.jsxs("header",{className:"flex justify-between items-center pb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"/logo.png",alt:"Logo Locus",className:"w-10 h-10 object-contain"}),h.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Locus"})]}),h.jsxs("button",{onClick:()=>l(Ee.NOTIFICATIONS),className:"w-10 h-10 rounded-full glass-panel flex items-center justify-center relative active:scale-95 transition-transform",children:[h.jsx(ag,{className:"w-5 h-5 text-white"}),_&&h.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-eras-yellow rounded-full animate-pulse shadow-[0_0_8px_rgba(255,181,0,0.8)]"})]})]}),h.jsxs("div",{className:"flex items-center gap-6 mt-2 border-b border-white/10 pt-2",children:[h.jsxs("button",{onClick:()=>g("trending"),className:`pb-3 text-sm font-bold transition-all relative ${f==="trending"?"text-white":"text-gray-500"}`,children:["Tendencias",f==="trending"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-eras-yellow rounded-t-full shadow-[0_0_10px_rgba(255,181,0,0.5)]"})]}),h.jsxs("button",{onClick:()=>g("following"),className:`pb-3 text-sm font-bold transition-all relative ${f==="following"?"text-white":"text-gray-500"}`,children:["Seguidos",f==="following"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-eras-yellow rounded-t-full shadow-[0_0_10px_rgba(255,181,0,0.5)]"})]})]})]}),h.jsx("div",{className:"mt-6",children:h.jsx("div",{className:"flex flex-col gap-2",ref:N,children:b?h.jsx("div",{className:"flex justify-center p-8",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})}):h.jsx(h.Fragment,{children:y.map(M=>h.jsx(Ol,{post:M,onClick:()=>n(M),onCommentClick:()=>i==null?void 0:i(M)},M.id))})})}),h.jsxs("div",{className:"flex items-center gap-6 mb-6 border-b border-white/10 sticky top-[52px] z-30 bg-eras-black/95 backdrop-blur-sm pt-2",children:[h.jsxs("button",{onClick:()=>g("trending"),className:`pb-3 text-sm font-bold transition-all relative ${f==="trending"?"text-white":"text-gray-500"}`,children:["Tendencias",f==="trending"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-eras-yellow rounded-t-full shadow-[0_0_10px_rgba(255,181,0,0.5)]"})]}),h.jsxs("button",{onClick:()=>g("following"),className:`pb-3 text-sm font-bold transition-all relative ${f==="following"?"text-white":"text-gray-500"}`,children:["Seguidos",f==="following"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-eras-yellow rounded-t-full shadow-[0_0_10px_rgba(255,181,0,0.5)]"})]})]}),h.jsx("div",{className:"flex flex-col gap-2",ref:N,children:b?h.jsx("div",{className:"flex justify-center p-8",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})}):h.jsxs(h.Fragment,{children:[y.map(M=>h.jsx(Ol,{post:M,onClick:()=>n(M),onCommentClick:()=>i==null?void 0:i(M)},M.id)),y.length===0&&h.jsx("div",{className:"py-20 text-center text-gray-500",children:f==="trending"?"No hay publicaciones destacadas en los ltimos 30 das.":"An no sigues a nadie o no han publicado nada."})]})}),h.jsx("button",{onClick:()=>l(Ee.NEW_POST),className:"fixed bottom-20 right-4 w-14 h-14 bg-eras-yellow rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(255,181,0,0.4)] hover:shadow-[0_0_30px_rgba(255,181,0,0.6)] active:scale-90 transition-all z-40 text-black",children:h.jsx(nb,{className:"w-8 h-8 stroke-[3px]"})})]})},n_=({chat:l,onClose:n,onUserClick:r,onSendMessage:i})=>{const{session:c}=It(),[d,f]=K.useState([]),[g,y]=K.useState(""),p=K.useRef(null);K.useEffect(()=>{if(!(c!=null&&c.user))return;b(),w();const A=P.channel(`chat:${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},z=>{const M=z.new;if(M.sender_id===c.user.id&&M.receiver_id===l.userId||M.sender_id===l.userId&&M.receiver_id===c.user.id){const U={id:M.id,text:M.content,isMe:M.sender_id===c.user.id,timestamp:new Date(M.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};f(V=>V.some(Z=>Z.id===U.id)?V:[...V,U]),M.sender_id===l.userId&&_(M.id)}}).subscribe();return()=>{P.removeChannel(A)}},[l.id,l.userId,c==null?void 0:c.user]),K.useEffect(()=>{E()},[d]);const b=async()=>{if(!(c!=null&&c.user))return;const{data:A,error:z}=await P.from("messages").select("*").or(`and(sender_id.eq.${c.user.id},receiver_id.eq.${l.userId}),and(sender_id.eq.${l.userId},receiver_id.eq.${c.user.id})`).order("created_at",{ascending:!0});if(!z&&A){const M=A.map(B=>({id:B.id,text:B.content,isMe:B.sender_id===c.user.id,timestamp:new Date(B.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));f(M)}},w=async()=>{c!=null&&c.user&&await P.from("messages").update({is_read:!0}).eq("receiver_id",c.user.id).eq("sender_id",l.userId).eq("is_read",!1)},_=async A=>{await P.from("messages").update({is_read:!0}).eq("id",A)},E=()=>{var A;(A=p.current)==null||A.scrollIntoView({behavior:"smooth"})},N=async A=>{if(A.preventDefault(),!g.trim())return;const M={id:Math.random().toString(),text:g,isMe:!0,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};f(B=>[...B,M]),y(""),i(M.text)};return h.jsxs("div",{className:"fixed inset-0 z-[100] bg-eras-black flex flex-col animate-in slide-in-from-right duration-300",children:[h.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-white/10 bg-eras-black/95 backdrop-blur-sm sticky top-0 z-10",children:[h.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-white/10 text-white transition-colors",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>r(l.userId),children:[h.jsx("div",{className:"relative",children:h.jsx("img",{src:l.userAvatar,alt:l.userName,className:"w-10 h-10 rounded-full object-cover"})}),h.jsx("div",{children:h.jsx("h2",{className:"font-bold text-white text-sm leading-tight hover:text-eras-yellow transition-colors",children:l.userName})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[d.map(A=>h.jsx("div",{className:`flex ${A.isMe?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`
                max-w-[75%] px-4 py-3 rounded-2xl text-sm relative
                ${A.isMe?"bg-eras-yellow text-black rounded-tr-sm":"bg-white/10 text-white rounded-tl-sm"}
              `,children:[h.jsx("p",{children:A.text}),h.jsx("span",{className:`text-[10px] block text-right mt-1 ${A.isMe?"text-black/60":"text-gray-400"}`,children:A.timestamp})]})},A.id)),h.jsx("div",{ref:p})]}),h.jsx("div",{className:"p-4 bg-eras-card border-t border-white/10",children:h.jsxs("form",{onSubmit:N,className:"flex items-center gap-2 bg-white/5 border border-white/10 rounded-full px-4 py-2",children:[h.jsx("input",{type:"text",placeholder:"Escribe un mensaje...",className:"flex-1 bg-transparent text-white placeholder:text-gray-500 focus:outline-none",value:g,onChange:A=>y(A.target.value)}),h.jsx("button",{type:"submit",disabled:!g.trim(),className:"p-2 rounded-full bg-eras-yellow text-black disabled:opacity-50 disabled:bg-gray-700 disabled:text-gray-500 transition-all active:scale-90",children:h.jsx(rg,{className:"w-4 h-4 ml-0.5"})})]})})]})},s_=({onUserClick:l,selectedChatId:n,onCloseChat:r,onMessagesRead:i})=>{const{session:c}=It(),[d,f]=K.useState(""),[g,y]=K.useState(null),[p,b]=K.useState([]),[w,_]=K.useState(!0),[E,N]=K.useState(null);K.useEffect(()=>{if(!(c!=null&&c.user))return;z();const q=P.channel("public:messages_list").on("postgres_changes",{event:"*",schema:"public",table:"messages"},C=>{const L=C.new;L&&(L.sender_id===c.user.id||L.receiver_id===c.user.id)&&z()}).subscribe();return()=>{P.removeChannel(q)}},[c==null?void 0:c.user]),K.useEffect(()=>{n&&(A(n),p.find(q=>q.userId===n)?N(null):(async()=>{const{data:C}=await P.from("profiles").select("full_name, avatar_url").eq("id",n).single();C&&N({name:C.full_name,avatar:C.avatar_url})})())},[n,p]);const A=async q=>{c!=null&&c.user&&(b(C=>C.map(L=>L.userId===q?{...L,unread:0}:L)),await P.from("messages").update({is_read:!0}).eq("receiver_id",c.user.id).eq("sender_id",q).eq("is_read",!1),i&&i())},z=async()=>{try{if(!(c!=null&&c.user))return;const{data:q,error:C}=await P.from("messages").select("*, sender:sender_id(full_name, avatar_url), receiver:receiver_id(full_name, avatar_url)").or(`sender_id.eq.${c.user.id},receiver_id.eq.${c.user.id}`).order("created_at",{ascending:!1});if(C){console.error("Error fetching messages",C);return}const L=new Map;q.forEach(J=>{const ie=J.sender_id===c.user.id,Se=ie?J.receiver_id:J.sender_id,ue=ie?J.receiver:J.sender;if(!L.has(Se))L.set(Se,{id:Se,userId:Se,userName:(ue==null?void 0:ue.full_name)||"Usuario",userAvatar:(ue==null?void 0:ue.avatar_url)||"",lastMessage:J.content,unread:!ie&&!J.is_read?1:0,timestamp:new Date(J.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});else if(!ie&&!J.is_read){const at=L.get(Se);at.unread+=1}}),b(Array.from(L.values()))}catch(q){console.error(q)}finally{_(!1)}},B=(()=>{if(n){const q=p.find(C=>C.id===n||C.userId===n);return q||{id:n,userId:n,userName:(E==null?void 0:E.name)||"Cargando...",userAvatar:(E==null?void 0:E.avatar)||"",lastMessage:"",unread:0,timestamp:""}}return g})(),U=()=>{r&&r(),y(null),z(),i&&i()},V=async q=>{if(!B||!(c!=null&&c.user))return;const{error:C}=await P.from("messages").insert({sender_id:c.user.id,receiver_id:B.userId,content:q,is_read:!1});C||z()},Z=p.filter(q=>{if(!d)return!0;const C=q.userName.toLowerCase().split(" "),L=d.toLowerCase();return C.some(J=>J.startsWith(L))});return B?h.jsx(n_,{chat:B,onClose:U,onUserClick:l,onSendMessage:V}):w?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})}):h.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-lg mx-auto min-h-screen",children:[h.jsxs("header",{className:"mb-6 sticky top-0 z-40 py-2 bg-eras-black/80 backdrop-blur-sm",children:[h.jsx("h1",{className:"text-2xl font-bold tracking-tight mb-4",children:"Mensajes"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500",children:h.jsx(lg,{className:"h-4 w-4"})}),h.jsx("input",{type:"text",className:"w-full h-11 bg-white/5 rounded-xl border border-white/10 pl-10 pr-4 text-sm text-white focus:outline-none focus:border-eras-yellow focus:ring-1 focus:ring-eras-yellow transition-all placeholder:text-gray-500",placeholder:"Buscar por nombre...",value:d,onChange:q=>f(q.target.value)})]})]}),h.jsx("div",{className:"space-y-1",children:Z.length>0?Z.map(q=>h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl hover:bg-white/5 transition-colors cursor-pointer active:scale-[0.98]",onClick:()=>{A(q.userId),y(q)},children:[h.jsx("div",{className:"relative",onClick:C=>{C.stopPropagation(),l(q.userId)},children:h.jsx("img",{src:q.userAvatar,alt:q.userName,className:"w-14 h-14 rounded-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[h.jsx("h3",{className:"font-bold text-white truncate",children:q.userName}),h.jsx("span",{className:"text-xs text-gray-500",children:q.timestamp})]}),h.jsx("p",{className:`text-sm truncate ${q.unread>0?"text-white font-medium":"text-gray-400"}`,children:q.lastMessage})]}),q.unread>0&&h.jsx("div",{className:"w-5 h-5 rounded-full bg-eras-yellow flex items-center justify-center",children:h.jsx("span",{className:"text-[10px] font-bold text-black",children:q.unread})})]},q.id)):h.jsx("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:h.jsx("p",{className:"text-sm",children:"No tienes mensajes an."})})})]})},oi=["Austria","Bulgaria","Croacia","Eslovaquia","Francia","Hungra","Italia","Paises Bajos","Polonia","Portugal","Repblica Checa"],ui={Austria:["Viena"],Bulgaria:["Sofa"],Croacia:["Zagreb"],Eslovaquia:["Bratislava"],Francia:["Pars"],Hungra:["Budapest"],Italia:["Florencia","Miln","Bolonia","Npoles","Roma","Turn"],"Paises Bajos":["Amsteerdam"],Polonia:["Cracovia","Varsovia","Wroclaw"],Portugal:["Oporto"],"Repblica Checa":["Praga"]},Qm=({title:l,isOpen:n,onClose:r,options:i,onSelect:c,selectedValue:d})=>n?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:r}),h.jsx("div",{className:"relative w-full max-w-lg bg-[#1a1a18] border-t sm:border border-white/10 rounded-t-[32px] sm:rounded-[32px] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:l}),h.jsx("button",{onClick:r,className:"p-2 bg-white/5 rounded-full text-gray-400",children:h.jsx(Nn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"max-h-[60vh] overflow-y-auto no-scrollbar space-y-2 pb-10",children:i.map(f=>h.jsxs("button",{onClick:()=>{c(f),r()},className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-200 ${d===f?"bg-eras-yellow/10 border border-eras-yellow/30 text-eras-yellow":"bg-white/5 border border-transparent text-gray-300 hover:bg-white/10"}`,children:[h.jsx("span",{className:"font-medium",children:f}),d===f&&h.jsx(kl,{className:"w-5 h-5"})]},f))})]})})]}):null,l_=({onPostClick:l,onUserClick:n,onCommentClick:r})=>{const[i,c]=K.useState(null),[d,f]=K.useState(null),[g,y]=K.useState(null),[p,b]=K.useState(!1),[w,_]=K.useState([]),[E,N]=K.useState(!1),[A,z]=K.useState(null),M=Object.values(Ue),B=[{city:"Bolonia",country:"Italia",colorClass:"bg-purple-500/10 text-purple-400 border-purple-500/30 hover:bg-purple-500/20"},{city:"Cracovia",country:"Polonia",colorClass:"bg-eras-teal/10 text-eras-teal border-eras-teal/30 hover:bg-eras-teal/20"},{city:"Lisboa",country:"Portugal",colorClass:"bg-eras-coral/10 text-eras-coral border-eras-coral/30 hover:bg-eras-coral/20"},{city:"Praga",country:"Repblica Checa",colorClass:"bg-pink-500/10 text-pink-400 border-pink-500/30 hover:bg-pink-500/20"}];K.useEffect(()=>{p&&d&&U()},[p,d,g]);const U=async()=>{try{N(!0);let L=P.from("posts").select("*, profiles(full_name, avatar_url)").ilike("city",`%${d}%`).order("is_premium",{ascending:!1}).order("created_at",{ascending:!1});g&&(L=L.eq("category",g));const{data:J,error:ie}=await L;if(!ie&&J){const Se=J.map(ue=>{var at,we;return{id:ue.id,userId:ue.user_id,userName:((at=ue.profiles)==null?void 0:at.full_name)||"Usuario",userAvatar:((we=ue.profiles)==null?void 0:we.avatar_url)||"",content:ue.content,image:ue.image_url,images:ue.image_urls,likes:ue.likes_count||0,comments:ue.comments_count||0,category:ue.category,timestamp:new Date(ue.created_at).toLocaleDateString(),location:ue.city,isPremium:ue.is_premium||!1}});_(Se)}else _([])}catch(L){console.error(L)}finally{N(!1)}},V=()=>{i&&d&&b(!0)},Z=(L,J)=>{c(J),f(L),b(!0)},q=()=>{b(!1),f(null),c(null),_([]),y(null)},C=(L,J)=>{if(!J)return"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 border border-white/5";switch(L){case"ALL":return"bg-white text-black font-bold shadow-[0_0_15px_rgba(255,255,255,0.3)]";case Ue.FIESTA:return"bg-eras-yellow text-black shadow-[0_0_15px_rgba(255,181,0,0.3)] border-transparent";case Ue.ALOJAMIENTO:return"bg-eras-teal text-black shadow-[0_0_15px_rgba(0,240,255,0.3)] border-transparent";case Ue.GASTRONOMIA:return"bg-eras-coral text-white shadow-[0_0_15px_rgba(255,107,107,0.3)] border-transparent";case Ue.CULTURA:return"bg-purple-500 text-white shadow-[0_0_15px_rgba(168,85,247,0.3)] border-transparent";case Ue.GENERAL:return"bg-pink-500 text-white shadow-[0_0_15px_rgba(236,72,153,0.4)] border-transparent";default:return"bg-gray-200 text-black shadow-lg"}};return p?h.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-lg mx-auto min-h-screen",children:[h.jsxs("header",{className:"mb-2 sticky top-0 z-40 pt-2 pb-0 bg-eras-black/95 backdrop-blur-md -mx-4 px-4 border-b border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("button",{onClick:q,className:"p-2 glass-panel rounded-full hover:bg-white/10 transition-colors",children:h.jsx(Nv,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white leading-none",children:d}),h.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:i})]})]}),h.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar px-4 pt-4 pb-6 -mx-4 -mb-2",children:[h.jsx("button",{onClick:()=>y(null),className:`whitespace-nowrap px-5 py-2 rounded-full text-xs font-bold transition-all duration-300 ${C("ALL",g===null)}`,children:"Todo"}),M.map(L=>h.jsx("button",{onClick:()=>y(g===L?null:L),className:`whitespace-nowrap px-5 py-2 rounded-full text-xs font-bold transition-all duration-300 capitalize ${C(L,g===L)}`,children:L},L))]})]}),h.jsx("div",{className:"flex flex-col gap-4 mt-4",children:E?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"}),h.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Buscando planes..."})]}):w.length>0?w.map(L=>h.jsx(Ol,{post:L,onClick:()=>l(L),onUserClick:n,onCommentClick:()=>r==null?void 0:r(L)},L.id)):h.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500 text-center px-4",children:[h.jsx(ig,{className:"w-12 h-12 mb-4 text-gray-700"}),h.jsx("p",{className:"text-lg font-medium text-gray-400",children:"No hay posts aqu todava"}),h.jsxs("p",{className:"text-sm mt-1",children:["S el primero en publicar sobre ",g||"esta ciudad","!"]})]})})]}):h.jsxs("div",{className:"min-h-screen bg-eras-black px-6 pt-10 pb-24 flex flex-col relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-eras-yellow/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-eras-teal/10 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2 pointer-events-none"}),h.jsxs("div",{className:"relative z-10 mt-4",children:[h.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Explora"}),h.jsx("p",{className:"text-gray-400 mb-10 text-lg",children:"Encuentra tu prxima aventura"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1",children:"A dnde vas?"}),h.jsxs("button",{onClick:()=>z("country"),className:"w-full bg-white/[0.03] hover:bg-white/[0.06] border border-white/10 rounded-2xl py-4 px-4 text-left flex items-center justify-between transition-all group active:scale-[0.98]",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ni,{className:`w-5 h-5 ${i?"text-eras-yellow":"text-gray-500"}`}),h.jsx("span",{className:i?"text-white font-medium":"text-gray-500",children:i||"Elige un pas"})]}),h.jsx(Wa,{className:"w-5 h-5 text-gray-500 group-hover:text-white"})]})]}),h.jsxs("div",{className:`space-y-2 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-50"}`,children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1",children:"Ciudad"}),h.jsxs("button",{onClick:()=>i&&z("city"),disabled:!i,className:"w-full bg-white/[0.03] hover:bg-white/[0.06] border border-white/10 rounded-2xl py-4 px-4 text-left flex items-center justify-between transition-all group disabled:cursor-not-allowed active:scale-[0.98]",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Tn,{className:`w-5 h-5 ${d?"text-eras-coral":"text-gray-500"}`}),h.jsx("span",{className:d?"text-white font-medium":"text-gray-500",children:d||"Elige una ciudad"})]}),h.jsx(Wa,{className:"w-5 h-5 text-gray-500 group-hover:text-white"})]})]}),h.jsxs("button",{onClick:V,disabled:!d,className:`w-full py-4 rounded-2xl font-bold text-black text-lg flex items-center justify-center gap-2 transition-all duration-300 mt-8 ${d?"bg-eras-yellow shadow-[0_0_20px_rgba(255,181,0,0.3)] hover:shadow-[0_0_30px_rgba(255,181,0,0.5)]":"bg-white/10 text-gray-500 opacity-50 cursor-not-allowed"}`,children:[h.jsx(lg,{className:"w-5 h-5 stroke-[3px]"}),"Buscar"]})]}),h.jsxs("div",{className:"mt-12",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-4 ml-1",children:"Destinos populares"}),h.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar -mx-6 px-6 py-4",children:B.map(L=>h.jsx("button",{onClick:()=>Z(L.city,L.country),className:`flex-shrink-0 px-6 py-3 border rounded-full text-sm font-bold transition-all shadow-lg ${L.colorClass}`,children:L.city},L.city))})]})]}),h.jsx(Qm,{title:"Elige un pas",isOpen:A==="country",onClose:()=>z(null),options:oi,selectedValue:i,onSelect:L=>{c(L),f(null)}}),h.jsx(Qm,{title:"Elige una ciudad",isOpen:A==="city",onClose:()=>z(null),options:i?ui[i]:[],selectedValue:d,onSelect:L=>f(L)})]})},r_=({onPostClick:l,onNavigate:n,onCommentClick:r})=>{const{profile:i}=It(),[c,d]=K.useState([]),[f,g]=K.useState(!0),[y,p]=K.useState(0),[b,w]=K.useState(0);K.useEffect(()=>{i!=null&&i.id&&(E(i.id),_(i.id))},[i==null?void 0:i.id]);const _=async N=>{const{count:A}=await P.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",N),{count:z}=await P.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",N);p(A||0),w(z||0)},E=async N=>{try{g(!0);const{data:A,error:z}=await P.from("posts").select("*").eq("user_id",N).order("created_at",{ascending:!1});if(z)console.error("Error fetching posts:",z);else if(A){const M=A.map(B=>({id:B.id,userId:B.user_id,userName:(i==null?void 0:i.full_name)||"Mi Perfil",userAvatar:(i==null?void 0:i.avatar_url)||"",content:B.content,image:B.image_url,images:B.image_urls,likes:B.likes_count||0,comments:B.comments_count||0,category:B.category,timestamp:new Date(B.created_at).toLocaleDateString(),location:B.city,isPremium:B.is_premium||!1}));d(M)}}catch(A){console.error(A)}finally{g(!1)}};return i?h.jsxs("div",{className:"pb-24 pt-4 px-0 max-w-lg mx-auto min-h-screen bg-eras-black",children:[h.jsx("div",{className:"flex justify-end px-6 mb-4",children:h.jsx("button",{onClick:()=>n(Ee.SETTINGS),className:"p-2 text-gray-400 hover:text-white bg-white/5 rounded-full",children:h.jsx(ib,{className:"w-6 h-6"})})}),h.jsxs("div",{className:"flex flex-col items-center px-6 mb-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("div",{className:"w-28 h-28 rounded-full p-[3px] bg-gradient-to-tr from-eras-yellow to-eras-coral shadow-xl",children:h.jsx("img",{src:i.avatar_url,alt:i.full_name,className:"w-full h-full rounded-full border-4 border-eras-black object-cover"})})}),h.jsx("h2",{className:"text-2xl font-bold mb-1 text-white",children:i.full_name}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-sm mb-2 justify-center",children:[h.jsx(Tn,{className:"w-4 h-4 text-eras-coral"}),h.jsx("span",{children:i.erasmus_country==="No estoy de Erasmus"?"No estoy de Erasmus":`${i.erasmus_city}, ${i.erasmus_country}`})]}),i.description&&h.jsx("p",{className:"text-center text-sm text-gray-300 mb-4 px-4 leading-relaxed max-w-xs",children:i.description}),h.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm mb-8 gap-3",children:[h.jsxs("div",{className:"flex-1 glass-panel rounded-2xl p-3 flex flex-col items-center",children:[h.jsx("span",{className:"text-xl font-bold text-white",children:y}),h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Seguidores"})]}),h.jsxs("div",{className:"flex-1 bg-eras-yellow/10 border border-eras-yellow/20 rounded-2xl p-3 flex flex-col items-center shadow-[0_0_15px_rgba(255,181,0,0.1)]",children:[h.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[h.jsx("span",{className:"text-xl font-bold text-eras-yellow",children:i.coins||0}),h.jsx(sg,{className:"w-4 h-4 text-eras-yellow"})]}),h.jsx("span",{className:"text-[10px] text-eras-yellow/80 uppercase font-bold tracking-wider",children:"Monedas"})]}),h.jsxs("div",{className:"flex-1 glass-panel rounded-2xl p-3 flex flex-col items-center",children:[h.jsx("span",{className:"text-xl font-bold text-white",children:b}),h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Seguidos"})]})]}),h.jsx("button",{onClick:()=>n(Ee.EDIT_PROFILE),className:"w-full py-3 rounded-xl bg-white/5 border border-white/10 font-bold text-sm text-white hover:bg-white/10 transition-colors active:scale-95",children:"Editar Perfil"})]}),h.jsxs("div",{className:"px-4 mt-6",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4 ml-1",children:"Mis Publicaciones"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[f?h.jsx("div",{className:"flex justify-center p-4",children:h.jsx(Kt,{className:"w-6 h-6 text-eras-yellow animate-spin"})}):c.map(N=>h.jsx(Ol,{post:N,onClick:()=>l(N),onUserClick:()=>{},onCommentClick:()=>r==null?void 0:r(N)},N.id)),!f&&c.length===0&&h.jsx("div",{className:"text-center text-gray-500 py-8 text-sm",children:"An no tienes publicaciones"})]})]})]}):h.jsx("div",{className:"min-h-screen bg-eras-black flex items-center justify-center",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})})},i_=({onBack:l,onOpenPost:n})=>{const[r,i]=K.useState([]),[c,d]=K.useState(!0);K.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{user:b}}=await P.auth.getUser();if(!b)return;const{data:w}=await P.from("profiles").select("notify_likes, notify_comments, notify_follows").eq("id",b.id).single(),_=(w==null?void 0:w.notify_likes)??!0,E=(w==null?void 0:w.notify_comments)??!0,N=(w==null?void 0:w.notify_follows)??!0,{data:A,error:z}=await P.from("notifications").select(`
          *,
          actor:actor_id (
            username,
            full_name, 
            avatar_url
          ),
          post:reference_id (
            *,
            profiles:user_id (
                full_name,
                avatar_url
            )
          )
        `).eq("user_id",b.id).order("created_at",{ascending:!1});if(z)throw z;const B=A.map(U=>{let V=null;if(U.post){const Z=Array.isArray(U.post.profiles)?U.post.profiles[0]:U.post.profiles;V={id:U.post.id,userId:U.post.user_id,userName:(Z==null?void 0:Z.full_name)||"Usuario",userAvatar:(Z==null?void 0:Z.avatar_url)||"",content:U.post.content,image:U.post.image_url,images:U.post.image_urls||(U.post.image_url?[U.post.image_url]:[]),likes:U.post.likes_count||0,comments:U.post.comments_count||0,category:U.post.category,timestamp:new Date(U.post.created_at).toLocaleDateString(),location:U.post.city}}return{...U,mappedPost:V}}).filter(U=>!(U.type==="like"&&!_||U.type==="comment"&&!E||U.type==="follow"&&!N));if(i(B),B.length>0){const U=B.filter(V=>!V.is_read).map(V=>V.id);U.length>0&&await P.from("notifications").update({is_read:!0}).in("id",U)}}catch(b){console.error("Error fetching notifications:",b)}finally{d(!1)}},g=b=>{const w=new Date(b),E=Math.floor((new Date().getTime()-w.getTime())/1e3);return E<60?"Ahora":E<3600?`Hace ${Math.floor(E/60)} min`:E<86400?`Hace ${Math.floor(E/3600)} h`:w.toLocaleDateString("es-ES",{day:"numeric",month:"short"})},y=b=>{(b.type==="like"||b.type==="comment")&&b.mappedPost&&n&&n(b.mappedPost)},p=b=>b&&(b.username||b.full_name)||"Usuario";return h.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-lg mx-auto min-h-screen bg-[#1c1c1a] text-white animate-in slide-in-from-right duration-200",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2 sticky top-0 bg-[#1c1c1a]/95 backdrop-blur-sm z-40",children:[h.jsx("button",{onClick:l,className:"p-2 glass-panel rounded-full hover:bg-white/10 active:scale-90 transition-transform",children:h.jsx(na,{className:"w-5 h-5 text-white"})}),h.jsx("h1",{className:"text-xl font-bold",children:"Actividad"})]}),h.jsx("div",{className:"space-y-3",children:c?h.jsx("div",{className:"flex justify-center mt-10",children:h.jsx(Kt,{className:"w-8 h-8 animate-spin text-yellow-500"})}):r.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center mt-20 text-gray-500 space-y-4",children:[h.jsx("div",{className:"p-4 bg-white/5 rounded-full",children:h.jsx(_l,{className:"w-8 h-8 opacity-20"})}),h.jsx("p",{children:"No hay actividad reciente."})]}):r.map(b=>{var w;return h.jsxs("button",{onClick:()=>y(b),className:`w-full flex items-center gap-3 p-3 rounded-2xl border text-left transition-all duration-200 active:scale-98 ${b.is_read?"bg-transparent border-white/5 hover:bg-white/5":"bg-white/5 border-yellow-500/30"}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:((w=b.actor)==null?void 0:w.avatar_url)||"https://via.placeholder.com/40",alt:p(b.actor),className:"w-10 h-10 rounded-full object-cover border border-white/10"}),h.jsxs("div",{className:`absolute -bottom-1 -right-1 p-1 rounded-full border border-[#1c1c1a] ${b.type==="like"?"bg-pink-500 text-white":b.type==="comment"?"bg-blue-500 text-white":"bg-green-500 text-white"}`,children:[b.type==="like"&&h.jsx(_l,{className:"w-2.5 h-2.5 fill-current"}),b.type==="comment"&&h.jsx(si,{className:"w-2.5 h-2.5 fill-current"}),b.type==="follow"&&h.jsx(ug,{className:"w-2.5 h-2.5"})]})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("p",{className:"text-sm text-gray-200 leading-tight",children:[h.jsx("span",{className:"font-bold text-white",children:p(b.actor)}),h.jsxs("span",{className:"text-gray-400",children:[b.type==="like"&&" le ha gustado tu publicacin.",b.type==="comment"&&" ha comentado.",b.type==="follow"&&" ha comenzado a seguirte."]})]}),b.mappedPost?h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500",children:[b.mappedPost.location&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"flex items-center gap-0.5 text-yellow-500/80",children:[h.jsx(Tn,{className:"w-3 h-3"}),b.mappedPost.location]}),h.jsx("span",{children:""})]}),h.jsx("span",{children:g(b.created_at)})]}):h.jsx("span",{className:"text-xs text-gray-600 mt-1 block",children:g(b.created_at)})]}),b.mappedPost&&b.mappedPost.images&&b.mappedPost.images.length>0&&h.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-white/10 flex-shrink-0",children:h.jsx("img",{src:b.mappedPost.images[0],className:"w-full h-full object-cover",alt:"Post"})})]},b.id)})})]})},tc=async(l,n)=>{try{const r=l.name.split(".").pop(),c=`${`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${r}`}`,{error:d}=await P.storage.from(n).upload(c,l);if(d)throw console.error("Supabase storage upload error:",d),d;const{data:f}=P.storage.from(n).getPublicUrl(c);return f.publicUrl}catch(r){return console.error("Error uploading image:",r),null}},Zm=(l,n=1200,r=.7)=>new Promise((i,c)=>{const d=new FileReader;d.readAsDataURL(l),d.onload=f=>{var y;const g=new Image;g.src=(y=f.target)==null?void 0:y.result,g.onload=()=>{const p=document.createElement("canvas");let b=g.width,w=g.height;b>w?b>n&&(w*=n/b,b=n):w>n&&(b*=n/w,w=n),p.width=b,p.height=w;const _=p.getContext("2d");_==null||_.drawImage(g,0,0,b,w),p.toBlob(E=>{if(E){const N=new File([E],l.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg",lastModified:Date.now()});i(N)}else c(new Error("Error al procesar la imagen"))},"image/jpeg",r)},g.onerror=p=>c(p)},d.onerror=f=>c(f)}),Pm=({title:l,isOpen:n,onClose:r,options:i,onSelect:c,selectedValue:d})=>n?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:r}),h.jsx("div",{className:"relative w-full max-w-lg bg-[#1a1a18] border-t sm:border border-white/10 rounded-t-[32px] sm:rounded-[32px] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:l}),h.jsx("button",{type:"button",onClick:r,className:"p-2 bg-white/5 rounded-full text-gray-400",children:h.jsx(Nn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"max-h-[50vh] overflow-y-auto no-scrollbar space-y-2 pb-10",children:i.map(f=>h.jsxs("button",{type:"button",onClick:()=>{c(f),r()},className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-200 ${d===f?"bg-eras-yellow/10 border border-eras-yellow/30 text-eras-yellow":"bg-white/5 border border-transparent text-gray-300 hover:bg-white/10"}`,children:[h.jsx("span",{className:"font-medium",children:f}),d===f&&h.jsx(kl,{className:"w-5 h-5"})]},f))})]})})]}):null,o_=({onClose:l})=>{const{session:n,profile:r,refreshProfile:i}=It(),[c,d]=K.useState(""),[f,g]=K.useState(Ue.GENERAL),[y,p]=K.useState(""),[b,w]=K.useState(""),[_,E]=K.useState(""),[N,A]=K.useState([]),[z,M]=K.useState(!1),[B,U]=K.useState(null),V=async J=>{if(!(!J.target.files||J.target.files.length===0)){M(!0);try{const ie=await Zm(J.target.files[0]),Se=await tc(ie,"post-images");Se&&E(Se)}catch{alert("Error al subir banner")}finally{M(!1)}}},Z=async J=>{if(!(!J.target.files||J.target.files.length===0)){M(!0);try{const ie=await Zm(J.target.files[0]),Se=await tc(ie,"post-images");Se&&A([...N,Se])}catch{alert("Error al subir imagen")}finally{M(!1)}}},q=J=>{A(N.filter((ie,Se)=>Se!==J))},C=async J=>{if(J.preventDefault(),!(!(n!=null&&n.user)||!r)){if(r.coins<10){alert("No tienes suficientes monedas (10 requeridas).");return}M(!0);try{const{error:ie}=await P.from("posts").insert({user_id:n.user.id,content:c,category:f,city:`${b}, ${y}`,image_url:_||null,image_urls:N.length>0?N:null,likes_count:0,comments_count:0});if(ie)throw ie;await P.rpc("decrement_coins",{user_id:n.user.id,amount:10}),await(i==null?void 0:i()),l()}catch{alert("Error al publicar.")}finally{M(!1)}}},L=J=>{switch(J){case Ue.GENERAL:return"bg-eras-coral text-white border-eras-coral";case Ue.FIESTA:return"bg-pink-500 text-white border-pink-500";case Ue.GASTRONOMIA:return"bg-eras-teal text-black border-eras-teal";case Ue.CULTURA:return"bg-purple-500 text-white border-purple-500";case Ue.ALOJAMIENTO:return"bg-eras-yellow text-black border-eras-yellow";default:return"bg-gray-700 text-white border-gray-600"}};return h.jsxs("div",{className:"fixed inset-0 z-[60] bg-eras-black flex flex-col animate-in slide-in-from-bottom duration-300",children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-eras-black z-10",children:[h.jsx("button",{type:"button",onClick:l,className:"p-2 text-gray-400 hover:text-white",children:h.jsx(Nn,{className:"w-6 h-6"})}),h.jsx("span",{className:"font-bold text-lg",children:"Nueva Publicacin"}),h.jsx("div",{className:"w-10"})]}),h.jsxs("form",{onSubmit:C,className:"flex-1 overflow-y-auto pb-32",children:[h.jsx("div",{className:"w-full h-48 bg-white/5 relative group border-b border-white/10",children:_?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:_,alt:"Banner",className:"w-full h-full object-cover"}),h.jsx("button",{type:"button",onClick:()=>E(""),className:"absolute top-4 right-4 p-2 bg-black/60 rounded-full text-white",children:h.jsx(nc,{className:"w-5 h-5"})})]}):h.jsxs("label",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-colors cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V}),h.jsx(Gv,{className:"w-8 h-8 mb-2"}),h.jsx("span",{className:"text-sm font-bold",children:"Aadir Banner (Opcional)"})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1",children:"Pas"}),h.jsxs("button",{type:"button",onClick:()=>U("country"),className:"w-full bg-white/5 border border-white/10 rounded-xl px-3 py-3 text-left flex items-center justify-between group active:scale-[0.98] transition-all",children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx(ni,{className:`w-4 h-4 flex-shrink-0 ${y?"text-eras-yellow":"text-gray-500"}`}),h.jsx("span",{className:`text-sm truncate ${y?"text-white":"text-gray-500"}`,children:y||"Pas"})]}),h.jsx(Wa,{className:"w-4 h-4 text-gray-600 flex-shrink-0"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider ml-1",children:"Ciudad"}),h.jsxs("button",{type:"button",onClick:()=>y&&U("city"),disabled:!y,className:`w-full bg-white/5 border border-white/10 rounded-xl px-3 py-3 text-left flex items-center justify-between transition-all group active:scale-[0.98] ${y?"":"opacity-40 grayscale cursor-not-allowed"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx(Tn,{className:`w-4 h-4 flex-shrink-0 ${b?"text-eras-coral":"text-gray-500"}`}),h.jsx("span",{className:`text-sm truncate ${b?"text-white":"text-gray-500"}`,children:b||"Ciudad"})]}),h.jsx(Wa,{className:"w-4 h-4 text-gray-600 flex-shrink-0"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Categora"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:[Ue.GENERAL,Ue.FIESTA,Ue.GASTRONOMIA,Ue.CULTURA,Ue.ALOJAMIENTO].map(J=>{const ie=f===J;return h.jsx("button",{type:"button",onClick:()=>g(J),className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-all ${ie?L(J):"bg-transparent border-white/20 text-gray-400 hover:border-white/50"}`,children:J},J)})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Tu opinin"}),h.jsxs("div",{className:"relative",children:[h.jsx("textarea",{placeholder:"Escribe aqu tu experiencia...",className:"w-full h-40 bg-white/5 border border-white/10 rounded-xl p-4 text-base focus:outline-none focus:border-eras-yellow resize-none",value:c,onChange:J=>d(J.target.value),maxLength:500,required:!0}),h.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-gray-500",children:[c.length,"/500"]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Fotos del Carrusel"}),h.jsxs("label",{className:"text-xs text-eras-yellow font-bold flex items-center gap-1 cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Z}),h.jsx(ng,{className:"w-4 h-4"})," Aadir"]})]}),N.length>0?h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:N.map((J,ie)=>h.jsxs("div",{className:"relative flex-shrink-0 w-24 h-32 group",children:[h.jsx("img",{src:J,alt:"Carousel",className:"w-full h-full object-cover rounded-lg"}),h.jsx("button",{type:"button",onClick:()=>q(ie),className:"absolute top-1 right-1 p-1 bg-black/60 rounded-full text-white",children:h.jsx(Nn,{className:"w-3 h-3"})})]},ie))}):h.jsx("div",{className:"w-full p-4 border border-dashed border-white/20 rounded-xl flex items-center justify-center text-gray-500 text-sm",children:"No hay fotos seleccionadas"})]}),h.jsxs("div",{className:"flex items-center justify-center gap-2 text-eras-yellow bg-eras-yellow/10 p-3 rounded-xl border border-eras-yellow/20",children:[h.jsx(sg,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-bold",children:"Publicar costar 10 monedas"})]})]})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-eras-black border-t border-white/10 z-20",children:h.jsx("button",{onClick:C,disabled:z||!c||!b,className:`w-full py-4 font-extrabold rounded-2xl text-lg shadow-lg active:scale-95 transition-all ${c&&b?"bg-eras-yellow text-black shadow-eras-yellow/20":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:z?"Publicando...":"Publicar"})}),h.jsx(Pm,{title:"Selecciona un pas",isOpen:B==="country",onClose:()=>U(null),options:oi,selectedValue:y,onSelect:J=>{p(J),w("")}}),h.jsx(Pm,{title:"Selecciona una ciudad",isOpen:B==="city",onClose:()=>U(null),options:y?ui[y]:[],selectedValue:b,onSelect:J=>w(J)})]})},Wm=({title:l,isOpen:n,onClose:r,options:i,onSelect:c,selectedValue:d})=>n?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:r}),h.jsx("div",{className:"relative w-full max-w-lg bg-[#1a1a18] border-t sm:border border-white/10 rounded-t-[32px] sm:rounded-[32px] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:l}),h.jsx("button",{type:"button",onClick:r,className:"p-2 bg-white/5 rounded-full text-gray-400",children:h.jsx(Nn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"max-h-[50vh] overflow-y-auto no-scrollbar space-y-2 pb-10",children:i.map(f=>h.jsxs("button",{type:"button",onClick:()=>{c(f),r()},className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-200 ${d===f?"bg-eras-yellow/10 border border-eras-yellow/30 text-eras-yellow":"bg-white/5 border border-transparent text-gray-300 hover:bg-white/10"}`,children:[h.jsx("span",{className:"font-medium",children:f}),d===f&&h.jsx(kl,{className:"w-5 h-5"})]},f))})]})})]}):null,u_=({onBack:l})=>{const{profile:n,session:r}=It(),[i,c]=K.useState(!1),[d,f]=K.useState(""),[g,y]=K.useState(""),[p,b]=K.useState(""),[w,_]=K.useState(""),[E,N]=K.useState(""),[A,z]=K.useState(null),M=[...oi,"No estoy de Erasmus"];K.useEffect(()=>{n&&(f(n.full_name||""),y(n.avatar_url||""),b(n.description||""),n.erasmus_country&&_(n.erasmus_country),n.erasmus_city&&N(n.erasmus_city))},[n]);const B=async()=>{var q;if(!((q=r==null?void 0:r.user)!=null&&q.id))return;c(!0);const V=w==="No estoy de Erasmus"?"No estoy de Erasmus":`${E}, ${w}`,Z={full_name:d,avatar_url:g,description:p,erasmus_country:w,erasmus_city:E,location:V,updated_at:new Date().toISOString()};try{const{error:C}=await P.from("profiles").update(Z).eq("id",r.user.id);if(C)throw C;window.location.reload()}catch(C){alert(C.message)}finally{c(!1)}},U=async V=>{if(!(!V.target.files||V.target.files.length===0)){c(!0);try{const Z=await tc(V.target.files[0],"avatars");Z&&y(Z)}catch{alert("Error al subir la imagen")}finally{c(!1)}}};return n?h.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-lg mx-auto min-h-screen bg-eras-black animate-in slide-in-from-right duration-200",children:[h.jsxs("header",{className:"flex items-center justify-between mb-8 py-2 sticky top-0 bg-eras-black/95 z-40",children:[h.jsx("button",{onClick:l,className:"p-2 glass-panel rounded-full active:scale-90 transition-transform",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-lg font-bold",children:"Editar Perfil"}),h.jsx("button",{onClick:B,disabled:i,className:"p-2 bg-eras-yellow rounded-full text-black active:scale-90 transition-transform",children:i?h.jsx(Kt,{className:"w-5 h-5 animate-spin"}):h.jsx(kl,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex flex-col items-center mb-8",children:h.jsxs("label",{className:"relative group cursor-pointer block",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:U,disabled:i}),h.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white/10 bg-white/5 relative",children:[g?h.jsx("img",{src:g,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(sc,{className:"w-12 h-12 text-gray-500"})}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ng,{className:"w-6 h-6 text-white"})})]})]})}),h.jsxs("form",{className:"space-y-6",onSubmit:V=>V.preventDefault(),children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Nombre"}),h.jsx("input",{type:"text",value:d,onChange:V=>f(V.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 px-4 text-white focus:border-eras-yellow outline-none"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Descripcin"}),h.jsx("textarea",{value:p,onChange:V=>b(V.target.value),rows:3,className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 px-4 text-white focus:border-eras-yellow outline-none resize-none",maxLength:150})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Pas Erasmus"}),h.jsxs("button",{type:"button",onClick:()=>z("country"),className:"w-full bg-white/5 border border-white/10 rounded-2xl py-4 px-4 text-left flex items-center justify-between group active:scale-[0.98] transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ni,{className:`w-5 h-5 ${w?"text-eras-yellow":"text-gray-500"}`}),h.jsx("span",{className:w?"text-white":"text-gray-500",children:w||"Pas de destino"})]}),h.jsx(Wa,{className:"w-5 h-5 text-gray-600"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Ciudad Erasmus"}),h.jsxs("button",{type:"button",onClick:()=>w&&w!=="No estoy de Erasmus"&&z("city"),disabled:!w||w==="No estoy de Erasmus",className:`w-full bg-white/5 border border-white/10 rounded-2xl py-4 px-4 text-left flex items-center justify-between transition-all group ${!w||w==="No estoy de Erasmus"?"opacity-40 grayscale":"active:scale-[0.98]"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Tn,{className:`w-5 h-5 ${E?"text-eras-coral":"text-gray-500"}`}),h.jsx("span",{className:E?"text-white":"text-gray-500",children:E||"Ciudad de destino"})]}),h.jsx(Wa,{className:"w-5 h-5 text-gray-600"})]})]})]}),h.jsx(Wm,{title:"Pas Erasmus",isOpen:A==="country",onClose:()=>z(null),options:M,selectedValue:w,onSelect:V=>{_(V),N(V==="No estoy de Erasmus"?"N/A":"")}}),h.jsx(Wm,{title:"Ciudad Erasmus",isOpen:A==="city",onClose:()=>z(null),options:w?ui[w]:[],selectedValue:E,onSelect:V=>N(V)})]}):null},vs=({title:l,content:n,onBack:r})=>h.jsxs("div",{className:"animate-in slide-in-from-right duration-200 px-4",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2 sticky top-0 bg-eras-black/95 z-40",children:[h.jsx("button",{onClick:r,className:"p-2 glass-panel rounded-full text-white",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-xl font-bold text-white",children:l})]}),h.jsx("div",{className:"text-gray-300 text-sm space-y-4 pb-10 leading-relaxed px-2",children:n})]}),c_=({onBack:l})=>{const n=It(),[r,i]=K.useState("main"),[c,d]=K.useState(!1),[f,g]=K.useState({likes:!0,comments:!0,follows:!0}),[y,p]=K.useState(""),[b,w]=K.useState(""),[_,E]=K.useState(!1),[N,A]=K.useState(null),z=n.logout||n.signOut||n.logOut;K.useEffect(()=>{(async()=>{try{const C=jn.User.PushSubscription.optedIn;d(!!C)}catch{console.log("OneSignal an cargando...")}try{const{data:{user:C}}=await P.auth.getUser();if(C){const{data:L,error:J}=await P.from("profiles").select("notify_likes, notify_comments, notify_follows").eq("id",C.id).single();L&&!J&&g({likes:L.notify_likes??!0,comments:L.notify_comments??!0,follows:L.notify_follows??!0})}}catch(C){console.error("Error cargando preferencias",C)}})()},[]);const M=async()=>{try{z&&await z()}catch(q){console.error("Error:",q)}finally{localStorage.clear(),sessionStorage.clear(),window.location.reload()}},B=async()=>{try{c?(await jn.User.PushSubscription.optOut(),d(!1)):(await jn.User.PushSubscription.optIn(),d(!0))}catch(q){console.error("Error cambiando Push:",q),d(!c)}},U=async q=>{const C=!f[q];g(L=>({...L,[q]:C}));try{const{data:{user:L}}=await P.auth.getUser();if(!L)return;const J=q==="likes"?"notify_likes":q==="comments"?"notify_comments":"notify_follows";await P.from("profiles").update({[J]:C}).eq("id",L.id)}catch(L){console.error("Error guardando preferencia",L)}},V=async()=>{if(y.length<6){A({type:"error",text:"La contrasea debe tener al menos 6 caracteres."});return}E(!0),A(null);try{const{error:q}=await P.auth.updateUser({password:y});if(q)throw q;A({type:"success",text:"Contrasea actualizada correctamente!"}),p("")}catch(q){let C=q.message;C.includes("Password should be")&&(C="La contrasea es muy dbil."),C.includes("same password")&&(C="No puedes usar la misma contrasea."),A({type:"error",text:C})}finally{E(!1)}},Z=async()=>{if(!b){A({type:"error",text:"Por favor, introduce tu contrasea para confirmar."});return}E(!0),A(null);try{const{data:{user:q}}=await P.auth.getUser();if(!q||!q.email)throw new Error("Usuario no identificado.");const{error:C}=await P.auth.signInWithPassword({email:q.email,password:b});if(C)throw new Error("La contrasea es incorrecta.");const{error:L}=await P.rpc("delete_own_user");if(L)throw L;localStorage.clear(),sessionStorage.clear(),window.location.reload()}catch(q){console.error("Error deleting account:",q),A({type:"error",text:q.message||"Error al eliminar la cuenta."}),E(!1)}};return r==="customize_alerts"?h.jsxs("div",{className:"animate-in slide-in-from-right duration-200 px-4",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2",children:[h.jsx("button",{onClick:()=>i("main"),className:"p-2 glass-panel rounded-full text-white",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-xl font-bold text-white",children:"Alertas App"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden",children:[h.jsxs("button",{onClick:()=>U("likes"),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 border-b border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-pink-500/20 rounded-lg text-pink-500",children:h.jsx(_l,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"text-gray-200 font-medium block",children:"Me gustas"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Avisar en la campanita"})]})]}),h.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors duration-300 ${f.likes?"bg-eras-yellow":"bg-gray-600"}`,children:h.jsx("div",{className:`absolute top-1 w-4 h-4 bg-black rounded-full shadow-sm transition-all duration-300 ${f.likes?"right-1":"left-1"}`})})]}),h.jsxs("button",{onClick:()=>U("comments"),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 border-b border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400",children:h.jsx(si,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"text-gray-200 font-medium block",children:"Comentarios"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Avisar en la campanita"})]})]}),h.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors duration-300 ${f.comments?"bg-eras-yellow":"bg-gray-600"}`,children:h.jsx("div",{className:`absolute top-1 w-4 h-4 bg-black rounded-full shadow-sm transition-all duration-300 ${f.comments?"right-1":"left-1"}`})})]}),h.jsxs("button",{onClick:()=>U("follows"),className:"w-full flex items-center justify-between p-4 hover:bg-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg text-green-500",children:h.jsx(cg,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"text-gray-200 font-medium block",children:"Nuevos Seguidores"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Avisar en la campanita"})]})]}),h.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors duration-300 ${f.follows?"bg-eras-yellow":"bg-gray-600"}`,children:h.jsx("div",{className:`absolute top-1 w-4 h-4 bg-black rounded-full shadow-sm transition-all duration-300 ${f.follows?"right-1":"left-1"}`})})]})]})]}):r==="change_password"?h.jsxs("div",{className:"animate-in slide-in-from-right duration-200 px-4",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2",children:[h.jsx("button",{onClick:()=>{i("main"),A(null)},className:"p-2 glass-panel rounded-full text-white",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-xl font-bold text-white",children:"Seguridad"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-16 h-16 bg-eras-yellow/10 rounded-full flex items-center justify-center",children:h.jsx(Kv,{className:"w-8 h-8 text-eras-yellow"})})}),h.jsx("h3",{className:"text-white font-bold text-center mb-6",children:"Cambiar Contrasea"}),h.jsx("input",{type:"password",placeholder:"Nueva contrasea",value:y,onChange:q=>p(q.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl p-4 text-white mb-4 focus:border-eras-yellow outline-none",autoFocus:!0}),N&&h.jsx("div",{className:`text-sm text-center mb-4 p-2 rounded-lg ${N.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:N.text}),h.jsx("button",{onClick:V,disabled:_,className:"w-full bg-eras-yellow text-black font-bold py-4 rounded-xl active:scale-95 transition-transform disabled:opacity-50",children:_?"Actualizando...":"Guardar Nueva Contrasea"})]})]}):r==="delete_account"?h.jsxs("div",{className:"animate-in slide-in-from-right duration-200 px-4",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2",children:[h.jsx("button",{onClick:()=>{i("main"),A(null)},className:"p-2 glass-panel rounded-full text-white",children:h.jsx(na,{className:"w-5 h-5"})}),h.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Eliminar Cuenta"})]}),h.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded-2xl p-6",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center animate-pulse",children:h.jsx(nc,{className:"w-8 h-8 text-red-500"})})}),h.jsx("h3",{className:"text-white font-bold text-center mb-2 text-xl",children:"Ests seguro?"}),h.jsx("div",{className:"text-gray-300 text-sm space-y-4 mb-6 text-center leading-relaxed",children:h.jsxs("p",{children:["Esta accin es ",h.jsx("span",{className:"text-red-400 font-bold",children:"irreversible"}),". Perders todos tus datos."]})}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"text-xs text-red-300 ml-1 mb-1 block",children:"Introduce tu contrasea para confirmar:"}),h.jsx("input",{type:"password",placeholder:"Tu contrasea actual",value:b,onChange:q=>w(q.target.value),className:"w-full bg-black/40 border border-red-500/30 rounded-xl p-4 text-white focus:border-red-500 outline-none placeholder-gray-500",autoFocus:!0})]}),N&&h.jsx("div",{className:"text-sm text-center mb-4 p-2 rounded-lg bg-red-500/20 text-red-400",children:N.text}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("button",{onClick:Z,disabled:_||!b,className:"w-full bg-red-600 text-white font-bold py-4 rounded-xl active:scale-95 transition-transform disabled:opacity-50 disabled:grayscale border border-red-500 shadow-lg shadow-red-900/20",children:_?"Verificando...":"Eliminar mi cuenta permanentemente"}),h.jsx("button",{onClick:()=>i("main"),disabled:_,className:"w-full bg-white/5 text-white font-bold py-4 rounded-xl active:scale-95 transition-transform hover:bg-white/10",children:"Cancelar"})]})]})]}):r==="privacy"?h.jsx(vs,{onBack:()=>i("main"),title:"Poltica de Privacidad",content:h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:[h.jsx("strong",{children:"1. Responsable del tratamiento:"})," Locus App."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"2. Finalidad:"})," Gestionar la red social."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"3. Derechos:"})," Acceso, rectificacin y supresin."]})]})}):r==="terms"?h.jsx(vs,{onBack:()=>i("main"),title:"Trminos y Condiciones",content:h.jsxs(h.Fragment,{children:[h.jsx("p",{children:"Al usar Locus, aceptas comportarte de manera respetuosa."}),h.jsx("p",{children:"Las monedas son bienes virtuales sin valor real."})]})}):r==="licenses"?h.jsx(vs,{onBack:()=>i("main"),title:"Licencias de terceros",content:h.jsxs(h.Fragment,{children:[h.jsx("p",{children:"Software utilizado:"}),h.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-2",children:[h.jsx("li",{children:"React (MIT)"}),h.jsx("li",{children:"Lucide Icons (ISC)"}),h.jsx("li",{children:"Supabase Client (MIT)"}),h.jsx("li",{children:"Vite (MIT)"})]})]})}):r==="blocked_users"?h.jsx(vs,{onBack:()=>i("main"),title:"Usuarios Bloqueados",content:h.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[h.jsx(jm,{className:"w-16 h-16 text-gray-600 mb-4"}),h.jsx("p",{className:"text-gray-400",children:"No tienes usuarios bloqueados."})]})}):r==="support"?h.jsx(vs,{onBack:()=>i("main"),title:"Soporte / Ayuda",content:h.jsxs("div",{className:"space-y-6",children:[h.jsx("p",{children:"Contctanos:"}),h.jsxs("div",{className:"bg-white/5 p-4 rounded-xl flex items-center gap-3",children:[h.jsx(Qv,{className:"text-eras-yellow w-6 h-6"}),h.jsx("span",{className:"text-white font-bold",children:"soporte@locus.app"})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Respondemos en 24-48h."})]})}):r==="report_problem"?h.jsx(vs,{onBack:()=>i("main"),title:"Reportar Problema",content:h.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[h.jsx(og,{className:"w-16 h-16 text-eras-coral mb-4"}),h.jsx("p",{className:"text-white font-bold mb-2",children:"Algo no funciona?"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Envanos un email a soporte."})]})}):h.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-lg mx-auto min-h-screen bg-eras-black animate-in slide-in-from-right duration-200",children:[h.jsxs("header",{className:"flex items-center gap-4 mb-6 py-2 sticky top-0 bg-eras-black/95 z-40",children:[h.jsx("button",{onClick:l,className:"p-2 glass-panel rounded-full active:scale-90 transition-transform",children:h.jsx(na,{className:"w-5 h-5 text-white"})}),h.jsx("h1",{className:"text-xl font-bold text-white",children:"Ajustes"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1 text-eras-yellow",children:[h.jsx(sc,{className:"w-5 h-5"}),h.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Mi Cuenta"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl overflow-hidden",children:[h.jsxs("button",{onClick:()=>i("change_password"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Cambiar contrasea"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]}),h.jsxs("button",{onClick:()=>i("delete_account"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5",children:[h.jsx("span",{className:"text-red-500 font-bold",children:"Eliminar Cuenta"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1 text-eras-yellow",children:[h.jsx(jm,{className:"w-5 h-5"}),h.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Privacidad y Seguridad"})]}),h.jsx("div",{className:"bg-white/5 border border-white/5 rounded-2xl overflow-hidden",children:h.jsxs("button",{onClick:()=>i("blocked_users"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Usuarios Bloqueados"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1 text-eras-yellow",children:[h.jsx(ag,{className:"w-5 h-5"}),h.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Notificaciones"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl overflow-hidden",children:[h.jsxs("button",{onClick:B,className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-200 font-medium block",children:"Push Notificaciones"}),h.jsx("span",{className:"text-xs text-gray-500",children:"Permisos del dispositivo"})]}),h.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors duration-300 ${c?"bg-eras-yellow":"bg-gray-600"}`,children:h.jsx("div",{className:`absolute top-1 w-4 h-4 bg-black rounded-full shadow-sm transition-all duration-300 ${c?"right-1":"left-1"}`})})]}),h.jsxs("button",{onClick:()=>i("customize_alerts"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Personalizar Alertas"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1 text-eras-yellow",children:[h.jsx(Lv,{className:"w-5 h-5"}),h.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Legal e Informacin"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl overflow-hidden",children:[h.jsxs("button",{onClick:()=>i("privacy"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Poltica de Privacidad"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]}),h.jsxs("button",{onClick:()=>i("terms"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Trminos y Condiciones (EULA)"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]}),h.jsxs("button",{onClick:()=>i("licenses"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Licencias de terceros"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]}),h.jsxs("div",{className:"w-full flex items-center justify-between p-4 text-left bg-white/5",children:[h.jsx("span",{className:"text-gray-400",children:"Versin de la App"}),h.jsx("span",{className:"text-gray-500 text-sm",children:"v1.0.2"})]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1 text-eras-yellow",children:[h.jsx(Cv,{className:"w-5 h-5"}),h.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Soporte"})]}),h.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl overflow-hidden",children:[h.jsxs("button",{onClick:()=>i("support"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 border-b border-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Contactar / Ayuda"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]}),h.jsxs("button",{onClick:()=>i("report_problem"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5",children:[h.jsx("span",{className:"text-gray-200",children:"Reportar un problema"}),h.jsx(_a,{className:"w-4 h-4 text-gray-600"})]})]})]}),h.jsx("div",{className:"pt-4 pb-8",children:h.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-white/5 border border-white/5 text-red-500 font-bold hover:bg-red-500/10 transition-colors active:scale-95",children:[h.jsx(Jv,{className:"w-5 h-5"}),"Cerrar Sesin"]})})]})]})},d_=({post:l,onBack:n})=>{const{session:r}=It(),[i,c]=K.useState([]),[d,f]=K.useState(""),[g,y]=K.useState(!1),p=K.useRef(null);K.useEffect(()=>{b();const _=P.channel(`public:comments:${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"comments",filter:`post_id=eq.${l.id}`},()=>{b()}).subscribe();return()=>{P.removeChannel(_)}},[l.id]),K.useEffect(()=>{var _;g||(_=p.current)==null||_.scrollIntoView({behavior:"smooth"})},[i,g]);const b=async()=>{i.length===0&&y(!0);const{data:_,error:E}=await P.from("comments").select(`
            *,
            profiles (full_name, avatar_url)
        `).eq("post_id",l.id).order("created_at",{ascending:!0});!E&&_&&c(_),y(!1)},w=async _=>{if(_.preventDefault(),!d.trim()||!(r!=null&&r.user))return;const E=d;f("");try{const{error:N}=await P.from("comments").insert([{user_id:r.user.id,post_id:l.id,content:E}]);if(N)throw N;await b(),await P.rpc("increment_comments",{row_id:l.id})}catch(N){console.error(N),alert("Error al enviar comentario"),f(E)}};return h.jsxs("div",{className:"fixed inset-0 z-[120] bg-eras-black flex flex-col animate-in slide-in-from-right duration-300",children:[h.jsxs("header",{className:"flex items-center gap-4 p-4 border-b border-white/10 bg-eras-black sticky top-0 z-10",children:[h.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:h.jsx(na,{className:"w-5 h-5 text-white"})}),h.jsx("div",{children:h.jsx("h2",{className:"font-bold text-white",children:"Comentarios"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-24",children:[i.length===0&&!g&&h.jsx("div",{className:"text-center text-gray-500 mt-10",children:"S el primero en comentar."}),i.map(_=>{var E,N;return h.jsxs("div",{className:"flex gap-3 animate-in fade-in duration-300",children:[h.jsx("img",{src:((E=_.profiles)==null?void 0:E.avatar_url)||"",className:"w-8 h-8 rounded-full bg-gray-700 object-cover flex-shrink-0",alt:"Avatar"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl p-3 flex-1",children:[h.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[h.jsx("p",{className:"text-xs font-bold text-gray-300",children:((N=_.profiles)==null?void 0:N.full_name)||"Usuario"}),h.jsx("span",{className:"text-[10px] text-gray-600",children:new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsx("p",{className:"text-sm text-gray-200 break-words",children:_.content})]})]},_.id)}),g&&i.length>0&&h.jsx("div",{className:"flex justify-center py-2 opacity-50",children:h.jsx(Kt,{className:"w-4 h-4 text-eras-yellow animate-spin"})}),g&&i.length===0&&h.jsx("div",{className:"text-center py-4",children:h.jsx("span",{className:"text-eras-yellow animate-pulse",children:"Cargando..."})}),h.jsx("div",{ref:p})]}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-eras-card border-t border-white/10 p-4 pb-6",children:h.jsxs("form",{onSubmit:w,className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),placeholder:"Escribe un comentario...",className:"flex-1 bg-white/10 rounded-full py-3 px-4 text-sm text-white focus:outline-none focus:ring-1 focus:ring-eras-yellow",autoFocus:!0}),h.jsx("button",{type:"submit",disabled:!d.trim(),className:"p-3 bg-eras-yellow rounded-full text-black disabled:opacity-50 active:scale-95 transition-transform",children:h.jsx(rg,{className:"w-4 h-4"})})]})})]})},h_=({category:l})=>{let n="bg-gray-700 text-white";switch(l){case Ue.GENERAL:n="bg-eras-coral text-white";break;case Ue.FIESTA:n="bg-pink-500 text-white";break;case Ue.GASTRONOMIA:n="bg-eras-teal text-black";break;case Ue.CULTURA:n="bg-purple-500 text-white";break;case Ue.ALOJAMIENTO:n="bg-eras-yellow text-black";break}return h.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-3 py-1 rounded-full ${n}`,children:l})},f_=({post:l,onClose:n,onCommentClick:r,onUserClick:i,onDelete:c})=>{var q,C;const{session:d}=It(),[f,g]=K.useState(!1),[y,p]=K.useState(l.likes),[b,w]=K.useState(!1),[_,E]=K.useState(!1),N=!!l.image,A=!!l.images&&l.images.length>0,z=((q=d==null?void 0:d.user)==null?void 0:q.id)===l.userId;K.useEffect(()=>{d!=null&&d.user&&M()},[l.id,d==null?void 0:d.user]);const M=async()=>{var J;if(!((J=d==null?void 0:d.user)!=null&&J.id))return;const{data:L}=await P.from("likes").select("*").eq("user_id",d.user.id).eq("post_id",l.id).maybeSingle();L&&g(!0)},B=async()=>{var L;if(!(!((L=d==null?void 0:d.user)!=null&&L.id)||f)){g(!0),p(y+1);try{await P.from("likes").insert([{user_id:d.user.id,post_id:l.id}]),await P.rpc("increment_likes_and_coins",{post_id_param:l.id})}catch{g(!1),p(y)}}},U=async()=>{const L=`Mira este sitio en Locus! en ${l.location}.`;if(navigator.share)try{await navigator.share({title:"Locus App",text:L,url:window.location.href})}catch(J){console.log(J)}else navigator.clipboard.writeText(window.location.href),alert("Enlace copiado al portapapeles!")},V=L=>{const ie=L.split("post-images/");return ie.length>1?ie[1]:null},Z=async()=>{var J;if(!z||_)return;if(!window.confirm("Seguro que quieres eliminar esta publicacin?")){w(!1);return}E(!0);try{const ie=[];if(l.image){const ue=V(l.image);ue&&ie.push(ue)}l.images&&l.images.forEach(ue=>{const at=V(ue);at&&ie.push(at)}),ie.length>0&&await P.storage.from("post-images").remove(ie);const{error:Se}=await P.from("posts").delete().eq("id",l.id).eq("user_id",(J=d==null?void 0:d.user)==null?void 0:J.id);if(Se)throw Se;c?c():n()}catch(ie){alert("Error al eliminar: "+ie.message)}finally{E(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-[100] bg-eras-black flex flex-col overflow-hidden",children:[h.jsxs("header",{className:`absolute top-0 left-0 right-0 z-[160] flex items-center justify-between px-4 py-3 ${N?"bg-gradient-to-b from-black/60 to-transparent":"bg-eras-black"}`,children:[h.jsx("button",{onClick:n,className:"p-2.5 rounded-full bg-black/40 backdrop-blur-md text-white",children:h.jsx(na,{className:"w-6 h-6"})}),h.jsxs("div",{className:"flex gap-2 relative",children:[h.jsx("button",{onClick:U,className:"p-2.5 rounded-full bg-black/40 backdrop-blur-md text-white",children:h.jsx(ub,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>w(!b),className:"p-2.5 rounded-full bg-black/40 backdrop-blur-md text-white",children:h.jsx(Mv,{className:"w-5 h-5"})}),b&&h.jsx("div",{className:"absolute right-0 top-14 w-48 bg-[#1c1c1a] border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-[170] animate-in fade-in zoom-in-95 duration-200",children:z?h.jsxs("button",{onClick:Z,className:"w-full flex items-center gap-3 p-4 text-red-500 hover:bg-white/5 transition-colors",children:[h.jsx(nc,{className:"w-4 h-4"}),h.jsx("span",{className:"font-bold text-sm",children:_?"Borrando...":"Eliminar post"})]}):h.jsxs("button",{onClick:()=>w(!1),className:"w-full flex items-center gap-3 p-4 text-white hover:bg-white/5 transition-colors",children:[h.jsx(og,{className:"w-4 h-4 text-eras-yellow"}),h.jsx("span",{className:"font-bold text-sm",children:"Reportar post"})]})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[N&&h.jsxs("div",{className:"w-full h-[45vh] min-h-[350px] relative",children:[h.jsx("img",{src:l.image,alt:"Banner",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-eras-black via-transparent to-transparent"})]}),h.jsxs("div",{className:`px-5 pb-32 ${N?"-mt-12 relative z-10":"pt-24"}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>i(l.userId),children:[h.jsx("img",{src:l.userAvatar||`https://ui-avatars.com/api/?name=${l.userName}&background=random`,className:"w-12 h-12 rounded-full border-2 border-eras-black object-cover"}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-white text-lg",children:l.userName}),h.jsxs("p",{className:"text-[11px] text-gray-400 font-medium",children:[l.location,"  ",l.timestamp]})]})]}),h.jsx(h_,{category:l.category})]}),h.jsx("div",{className:"text-gray-100 text-lg leading-relaxed mb-8 break-words font-medium whitespace-pre-wrap",children:l.content}),A&&h.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:(C=l.images)==null?void 0:C.map((L,J)=>h.jsx("img",{src:L,className:"w-full h-48 rounded-2xl object-cover"},J))})]})]}),h.jsx("footer",{className:"bg-eras-black border-t border-white/5 p-4 pb-8 z-[130]",children:h.jsxs("div",{className:"flex gap-4 max-w-lg mx-auto",children:[h.jsxs("button",{onClick:B,className:`flex-1 py-4 rounded-2xl flex items-center justify-center gap-2 font-bold transition-all ${f?"bg-red-500/20 text-red-500":"bg-white/10 text-white"}`,children:[h.jsx(_l,{className:`w-5 h-5 ${f?"fill-current":""}`}),f?"Te gusta":"Me gusta"]}),h.jsxs("button",{onClick:r,className:"flex-1 bg-eras-yellow py-4 rounded-2xl flex items-center justify-center gap-2 text-black font-extrabold",children:[h.jsx(si,{className:"w-5 h-5"}),"Comentar"]})]})}),b&&h.jsx("div",{className:"fixed inset-0 z-[140] bg-black/20",onClick:()=>w(!1)})]})},m_=({user:l,userId:n,onClose:r,onStartChat:i,onPostClick:c,onCommentClick:d})=>{const{session:f}=It(),[g,y]=K.useState(l),[p,b]=K.useState([]),[w,_]=K.useState(!1),[E,N]=K.useState(!0);K.useEffect(()=>{(async()=>{const M=n||(l==null?void 0:l.id);if(M)try{N(!0);let B=l;if(!l){const{data:C,error:L}=await P.from("profiles").select("*").eq("id",M).single();!L&&C&&(B={id:C.id,name:C.full_name,avatar:C.avatar_url,coins:C.coins||0,location:C.location||`${C.erasmus_city}, ${C.erasmus_country}`,followers:0,following:0,description:C.description},y(B))}const{count:U}=await P.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",M),{count:V}=await P.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",M);B&&y(C=>C?{...C,followers:U||0,following:V||0}:void 0);const{data:Z,error:q}=await P.from("posts").select("*").eq("user_id",M).order("created_at",{ascending:!1});if(!q&&Z){const C=Z.map(L=>({id:L.id,userId:L.user_id,userName:(B==null?void 0:B.name)||"Usuario",userAvatar:(B==null?void 0:B.avatar)||"",content:L.content,image:L.image_url,images:L.image_urls,likes:L.likes_count||0,comments:L.comments_count||0,category:L.category,timestamp:new Date(L.created_at).toLocaleDateString(),location:L.city}));b(C)}if(f!=null&&f.user){const{data:C}=await P.from("follows").select("*").eq("follower_id",f.user.id).eq("following_id",M).maybeSingle();_(!!C)}}catch(B){console.error(B)}finally{N(!1)}})()},[n,l,f==null?void 0:f.user]);const A=async()=>{if(!(!(f!=null&&f.user)||!g))try{if(w){const{error:z}=await P.from("follows").delete().eq("follower_id",f.user.id).eq("following_id",g.id);z||_(!1)}else{const{error:z}=await P.from("follows").insert([{follower_id:f.user.id,following_id:g.id}]);z||_(!0)}}catch(z){console.error(z)}};return E&&!g?h.jsx("div",{className:"fixed inset-0 z-[120] bg-eras-black flex items-center justify-center",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})}):g?h.jsxs("div",{className:"fixed inset-0 z-[120] bg-eras-black flex flex-col animate-in slide-in-from-bottom duration-300",children:[h.jsx("div",{className:"flex justify-between items-center p-4 z-10",children:h.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors",children:h.jsx(Nn,{className:"w-6 h-6"})})}),h.jsxs("div",{className:"flex-1 overflow-y-auto pb-8",children:[h.jsxs("div",{className:"flex flex-col items-center px-6 mb-8 mt-2",children:[h.jsx("div",{className:"w-28 h-28 rounded-full p-[3px] bg-gradient-to-tr from-eras-yellow to-eras-coral mb-4",children:h.jsx("img",{src:g.avatar,alt:g.name,className:"w-full h-full rounded-full border-4 border-eras-black object-cover"})}),h.jsx("h2",{className:"text-2xl font-bold mb-1 text-white",children:g.name}),h.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-sm mb-4",children:[h.jsx(Tn,{className:"w-4 h-4 text-eras-coral"}),h.jsx("span",{children:g.location})]}),g.description&&h.jsx("p",{className:"text-center text-sm text-gray-300 mb-6 px-4 leading-relaxed max-w-xs",children:g.description}),h.jsxs("div",{className:"flex gap-4 w-full mb-6 max-w-sm",children:[h.jsxs("div",{className:"flex-1 glass-panel rounded-2xl p-3 flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-lg font-bold text-white",children:g.followers}),h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Seguidores"})]}),h.jsxs("div",{className:"flex-1 glass-panel rounded-2xl p-3 flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-lg font-bold text-white",children:g.following}),h.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Seguidos"})]})]}),h.jsxs("div",{className:"flex gap-3 w-full mb-8 max-w-sm",children:[h.jsxs("button",{onClick:A,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 font-bold transition-all active:scale-95 ${w?"bg-white/10 text-white border border-white/10":"bg-eras-yellow text-black shadow-[0_0_15px_rgba(255,181,0,0.2)]"}`,children:[w?h.jsx(gb,{className:"w-5 h-5"}):h.jsx(ug,{className:"w-5 h-5"}),w?"Siguiendo":"Seguir"]}),h.jsxs("button",{onClick:()=>i(g.id),className:"flex-1 py-3 px-4 glass-panel border-white/10 rounded-xl flex items-center justify-center gap-2 font-bold text-white hover:bg-white/10 transition-all active:scale-95",children:[h.jsx(tb,{className:"w-5 h-5"}),"Mensaje"]})]})]}),h.jsxs("div",{className:"px-4",children:[h.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4 ml-1",children:"Publicaciones"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[p.map(z=>h.jsx(Ol,{post:z,onClick:()=>c(z),onUserClick:()=>{},onCommentClick:()=>d==null?void 0:d(z)},z.id)),!E&&p.length===0&&h.jsx("div",{className:"text-center text-gray-500 py-8",children:"Este usuario no ha publicado nada an."})]})]})]})]}):null},Fm=({title:l,isOpen:n,onClose:r,options:i,onSelect:c,selectedValue:d})=>n?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",onClick:r}),h.jsx("div",{className:"relative w-full max-w-md bg-[#1a1a18] border-t sm:border border-white/10 rounded-t-[32px] sm:rounded-[32px] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:l}),h.jsx("button",{type:"button",onClick:r,className:"p-2 bg-white/5 rounded-full text-gray-400",children:h.jsx(Nn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"max-h-[50vh] overflow-y-auto no-scrollbar space-y-2 pb-10",children:i.map(f=>h.jsxs("button",{type:"button",onClick:()=>{c(f),r()},className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-200 ${d===f?"bg-eras-yellow/10 border border-eras-yellow/30 text-eras-yellow":"bg-white/5 border border-transparent text-gray-300 hover:bg-white/10"}`,children:[h.jsx("span",{className:"font-medium",children:f}),d===f&&h.jsx(kl,{className:"w-5 h-5"})]},f))})]})})]}):null;function g_(){const[l,n]=K.useState(!0),[r,i]=K.useState(!1),[c,d]=K.useState(null),[f,g]=K.useState(""),[y,p]=K.useState(""),[b,w]=K.useState(""),[_,E]=K.useState(""),[N,A]=K.useState(""),[z,M]=K.useState(""),[B,U]=K.useState(null),V=async C=>{C.preventDefault(),i(!0),d(null);try{if(l){const{error:L}=await P.auth.signInWithPassword({email:f,password:y});if(L)throw L}else{const{error:L}=await P.auth.signUp({email:f,password:y,options:{data:{full_name:b,erasmus_country:_,erasmus_city:N,description:z,avatar_url:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f}`}}});if(L)throw L;n(!0)}}catch(L){let J=L.message;J==="Invalid login credentials"&&(J="El email o la contrasea no son correctos."),J==="User already registered"&&(J="Este email ya est registrado."),d(J)}finally{i(!1)}},Z=()=>{n(!l),d(null)},q=[...oi,"No estoy de Erasmus"];return h.jsxs("div",{className:"min-h-screen bg-eras-black flex items-center justify-center p-4",children:[h.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border border-neutral-800 rounded-2xl p-8 space-y-6 shadow-2xl",children:[h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("img",{src:"/logo.png",alt:"Locus Logo",className:"w-20 h-20 mx-auto object-contain animate-in zoom-in duration-500"}),h.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-eras-yellow to-orange-500 bg-clip-text text-transparent tracking-tighter",children:"Locus"}),h.jsx("p",{className:"text-neutral-400 text-sm",children:l?"Bienvenido de nuevo":"nete a la comunidad Erasmus"})]}),h.jsxs("form",{onSubmit:V,className:"space-y-4",children:[!l&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Nombre Completo"}),h.jsx("input",{type:"text",required:!0,value:b,onChange:C=>{w(C.target.value),d(null)},className:"w-full bg-black border border-neutral-800 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-eras-yellow transition-colors",placeholder:"Tu nombre"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Pas"}),h.jsxs("button",{type:"button",onClick:()=>U("country"),className:"w-full bg-black border border-neutral-800 rounded-xl px-3 py-3 text-left flex items-center justify-between group active:scale-[0.98] transition-all overflow-hidden",children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx(ni,{className:`w-4 h-4 flex-shrink-0 ${_?"text-eras-yellow":"text-neutral-600"}`}),h.jsx("span",{className:`text-sm truncate ${_?"text-white":"text-neutral-600"}`,children:_||"Seleccionar"})]}),h.jsx(Wa,{className:"w-4 h-4 text-neutral-700"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Ciudad"}),h.jsxs("button",{type:"button",onClick:()=>_&&U("city"),disabled:!_||_==="No estoy de Erasmus",className:`w-full bg-black border border-neutral-800 rounded-xl px-3 py-3 text-left flex items-center justify-between group transition-all ${!_||_==="No estoy de Erasmus"?"opacity-30 cursor-not-allowed":"active:scale-[0.98]"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.jsx(Tn,{className:`w-4 h-4 flex-shrink-0 ${N?"text-eras-coral":"text-neutral-600"}`}),h.jsx("span",{className:`text-sm truncate ${N?"text-white":"text-neutral-600"}`,children:N||"Seleccionar"})]}),h.jsx(Wa,{className:"w-4 h-4 text-neutral-700"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Sobre ti"}),h.jsx("textarea",{required:!0,rows:2,value:z,onChange:C=>{M(C.target.value),d(null)},className:"w-full bg-black border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-eras-yellow transition-colors resize-none text-sm",placeholder:"Cuntanos algo breve..."})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:f,onChange:C=>{g(C.target.value),d(null)},className:"w-full bg-black border border-neutral-800 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-eras-yellow transition-colors",placeholder:"tu@email.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-1.5 ml-1",children:"Contrasea"}),h.jsx("input",{type:"password",required:!0,minLength:6,value:y,onChange:C=>{p(C.target.value),d(null)},className:"w-full bg-black border border-neutral-800 rounded-xl px-4 py-3.5 text-white focus:outline-none focus:border-eras-yellow transition-colors",placeholder:"Mn. 6 caracteres"})]}),c&&h.jsxs("div",{className:"flex items-center gap-2 p-3 bg-eras-coral/10 border border-eras-coral/20 rounded-xl text-eras-coral text-sm animate-in fade-in slide-in-from-top-1",children:[h.jsx(Ov,{className:"w-4 h-4 flex-shrink-0"}),h.jsx("p",{children:c})]}),h.jsxs("button",{type:"submit",disabled:r,className:"w-full bg-eras-yellow text-black font-extrabold rounded-xl px-4 py-4 mt-2 hover:bg-yellow-400 transition-all shadow-lg shadow-eras-yellow/10 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:[r&&h.jsx(Kt,{className:"w-5 h-5 animate-spin"}),l?"Iniciar Sesin":"Crear Cuenta"]})]}),h.jsx("div",{className:"text-center pt-2",children:h.jsx("button",{onClick:Z,className:"text-neutral-500 hover:text-white text-xs font-bold uppercase tracking-widest transition-colors",children:l?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Entra"})})]}),h.jsx(Fm,{title:"Pas Erasmus",isOpen:B==="country",onClose:()=>U(null),options:q,selectedValue:_,onSelect:C=>{E(C),A(C==="No estoy de Erasmus"?"N/A":""),d(null)}}),h.jsx(Fm,{title:"Ciudad Erasmus",isOpen:B==="city",onClose:()=>U(null),options:_&&_!=="No estoy de Erasmus"?ui[_]:[],selectedValue:N,onSelect:C=>{A(C),d(null)}})]})}function y_(){const{session:l,loading:n}=It(),[r,i]=K.useState(Ee.COMMUNITY),[c,d]=K.useState(Ee.COMMUNITY),[f,g]=K.useState(null),[y,p]=K.useState(!1),[b,w]=K.useState(!1),[_,E]=K.useState(null),[N,A]=K.useState(null),[z,M]=K.useState(!1),[B,U]=K.useState(0),V=K.useRef(!1);K.useEffect(()=>{if(!(l!=null&&l.user)||V.current)return;(async()=>{try{V.current=!0;const dt="1d447498-6e4e-46a5-953e-879185929337";await jn.init({appId:dt,allowLocalhostAsSecureOrigin:!1,autoResubscribe:!1}),await jn.login(l.user.id),jn.Notifications.permission===!1&&await jn.Notifications.requestPermission(),console.log(" OneSignal Conectado")}catch(dt){console.error(" Error OneSignal:",dt)}})()},[l==null?void 0:l.user]);const Z=K.useCallback(async()=>{if(!(l!=null&&l.user))return;const{count:we}=await P.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",l.user.id).eq("is_read",!1);M((we||0)>0)},[l==null?void 0:l.user]);if(K.useEffect(()=>{if(!(l!=null&&l.user))return;Z();const we=P.channel("global_unread_check").on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`receiver_id=eq.${l.user.id}`},()=>{Z()}).subscribe();return()=>{P.removeChannel(we)}},[l==null?void 0:l.user,Z]),n)return h.jsx("div",{className:"min-h-screen bg-eras-black flex items-center justify-center",children:h.jsx(Kt,{className:"w-8 h-8 text-eras-yellow animate-spin"})});if(!l)return h.jsx(g_,{});const q=we=>{[Ee.NOTIFICATIONS,Ee.NEW_POST,Ee.SETTINGS,Ee.EDIT_PROFILE].includes(we)&&d(r),i(we),we!==Ee.CHATS&&A(null)},C=()=>{if(y){p(!1),b||g(null),U(we=>we+1);return}if(f){g(null),w(!1);return}if(_){E(null);return}i(c)},L=we=>{g(we),w(!0)},J=we=>{g(we),p(!0),w(!1)},ie=we=>{we==="me"?q(Ee.PROFILE):E(we)},Se=we=>{E(null),A(we),i(Ee.CHATS)},ue=()=>{switch(r){case Ee.COMMUNITY:return h.jsx(Xm,{refreshFeed:B,onNavigate:q,onPostClick:L,onUserClick:ie,onCommentClick:J});case Ee.CHATS:return h.jsx(s_,{onUserClick:ie,selectedChatId:N,onCloseChat:()=>A(null),onMessagesRead:Z});case Ee.DISCOVER:return h.jsx(l_,{onPostClick:L,onUserClick:ie,onCommentClick:J});case Ee.PROFILE:return h.jsx(r_,{onPostClick:L,onNavigate:q,onCommentClick:J});case Ee.NOTIFICATIONS:return h.jsx(i_,{onBack:C,onOpenPost:L});case Ee.EDIT_PROFILE:return h.jsx(u_,{onBack:C});case Ee.SETTINGS:return h.jsx(c_,{onBack:C});default:return h.jsx(Xm,{refreshFeed:B,onNavigate:q,onPostClick:L,onUserClick:ie,onCommentClick:J})}},at=[Ee.NOTIFICATIONS,Ee.NEW_POST,Ee.EDIT_PROFILE,Ee.SETTINGS].includes(r)||y||f&&!y||_||N;return h.jsxs("div",{className:"min-h-screen bg-eras-black text-white font-sans selection:bg-eras-yellow selection:text-black",children:[h.jsx("main",{className:"min-h-screen",children:ue()}),!at&&h.jsx(wb,{currentView:r,onChange:q,hasUnreadMessages:z}),r===Ee.NEW_POST&&h.jsx(o_,{onClose:C}),y&&f&&h.jsx(d_,{post:f,onBack:C}),f&&!y&&h.jsx(f_,{post:f,onClose:C,onCommentClick:()=>p(!0),onUserClick:ie,onDelete:()=>{g(null),w(!1),U(we=>we+1)}}),_&&h.jsx(m_,{userId:_,onClose:()=>E(null),onStartChat:Se,onPostClick:L,onCommentClick:J})]})}function p_(){return h.jsx(t_,{children:h.jsx(y_,{})})}const Og=document.getElementById("root");if(!Og)throw new Error("Could not find root element to mount to");const v_=cp.createRoot(Og);v_.render(h.jsx(ap.StrictMode,{children:h.jsx(p_,{})}));
